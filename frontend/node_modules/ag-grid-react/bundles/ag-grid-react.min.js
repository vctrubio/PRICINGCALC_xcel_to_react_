!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("react-dom/server"),require("react-dom"),require("react"),require("ag-grid-community")):"function"==typeof define&&define.amd?define(["exports","react-dom/server","react-dom","react","ag-grid-community"],t):t(e.AgGridReact={},e.ReactDOMServer,e.ReactDOM,e.React,e.agGrid)}(this,function(e,r,l,J,Q){"use strict";var n="default"in l?l.default:l,ee="default"in J?J.default:J;const T=J.createContext({setMethods:()=>{}});var t=J.memo(e=>{const{initialProps:t,addUpdateCallback:r,CustomComponentClass:n,setMethods:s}=e,[a,o]=J.useState(t);return J.useEffect(()=>{r(e=>o(e))},[]),ee.createElement(T.Provider,{value:{setMethods:s}},ee.createElement(n,Object.assign({},a)))});let s=0;function a(){return"agPortalKey_"+ ++s}class o{constructor(e,t,r,n){this.portal=null,this.oldPortal=null,this.reactComponent=e,this.portalManager=t,this.componentType=r,this.suppressFallbackMethods=!!n,this.statelessComponent=this.isStateless(this.reactComponent),this.key=a(),this.portalKey=a(),this.instanceCreated=this.isStatelessComponent()?Q.AgPromise.resolve(!1):new Q.AgPromise(e=>{this.resolveInstanceCreated=e})}getGui(){return this.eParentElement}destroy(){return this.componentInstance&&"function"==typeof this.componentInstance.destroy&&this.componentInstance.destroy(),this.portalManager.destroyPortal(this.portal)}createParentElement(e){var t=this.portalManager.getComponentWrappingElement(),t=document.createElement(t||"div");return t.classList.add("ag-react-container"),e.reactContainer=t}addParentContainerStyleAndClasses(){this.componentInstance&&(this.componentInstance.getReactContainerStyle&&this.componentInstance.getReactContainerStyle()&&Object.assign(this.eParentElement.style,this.componentInstance.getReactContainerStyle()),this.componentInstance.getReactContainerClasses)&&this.componentInstance.getReactContainerClasses()&&this.componentInstance.getReactContainerClasses().forEach(e=>this.eParentElement.classList.add(e))}statelessComponentRendered(){return 0<this.eParentElement.childElementCount||0<this.eParentElement.childNodes.length}getFrameworkComponentInstance(){return this.componentInstance}isStatelessComponent(){return this.statelessComponent}getReactComponentName(){return this.reactComponent.name}getMemoType(){return this.hasSymbol()?Symbol.for("react.memo"):60115}hasSymbol(){return"function"==typeof Symbol&&Symbol.for}isStateless(e){return"function"==typeof e&&!(e.prototype&&e.prototype.isReactComponent)||"object"==typeof e&&e.$$typeof===this.getMemoType()}hasMethod(e){var t=this.getFrameworkComponentInstance();return!!t&&null!==t[e]||this.fallbackMethodAvailable(e)}callMethod(e,t){var r,n=this.getFrameworkComponentInstance();return this.isStatelessComponent()?this.fallbackMethod(e,t&&t[0]?t[0]:{}):n?(r=n[e])?r.apply(n,t):this.fallbackMethodAvailable(e)?this.fallbackMethod(e,t&&t[0]?t[0]:{}):void 0:void setTimeout(()=>this.callMethod(e,t))}addMethod(e,t){this[e]=t}init(e){return this.eParentElement=this.createParentElement(e),this.params=e,this.createOrUpdatePortal(e),new Q.AgPromise(e=>this.createReactComponent(e))}createOrUpdatePortal(e){this.isStatelessComponent()||(e.ref=e=>{this.componentInstance=e,this.addParentContainerStyleAndClasses(),null!=(e=this.resolveInstanceCreated)&&e.call(this,!0),this.resolveInstanceCreated=void 0}),this.reactElement=this.createElement(this.reactComponent,Object.assign(Object.assign({},e),{key:this.key})),this.portal=l.createPortal(this.reactElement,this.eParentElement,this.portalKey)}createElement(e,t){return J.createElement(e,t)}createReactComponent(t){this.portalManager.mountReactPortal(this.portal,this,e=>{t(e)})}isNullValue(){return this.valueRenderedIsNull(this.params)}rendered(){return this.isStatelessComponent()&&this.statelessComponentRendered()||!(this.isStatelessComponent()||!this.getFrameworkComponentInstance())}valueRenderedIsNull(e){if(this.componentType.cellRenderer){var t=console.error;try{return console.error=()=>{},""===r.renderToStaticMarkup(J.createElement(this.reactComponent,e))}catch(e){}finally{console.error=t}}return!1}refreshComponent(e){this.oldPortal=this.portal,this.createOrUpdatePortal(e),this.portalManager.updateReactPortal(this.oldPortal,this.portal)}fallbackMethod(e,t){e=this[e+"Component"];if(!this.suppressFallbackMethods&&e)return e.bind(this)(t)}fallbackMethodAvailable(e){return!this.suppressFallbackMethods&&!!this[e+"Component"]}}function i(e,r,n){e.forEach(e=>{var t=r[e];t&&(n[e]=t)})}class u extends o{constructor(){super(...arguments),this.wrapperComponent=t}init(e){return this.sourceParams=e,super.init(this.getProps())}addMethod(){}getInstance(){return this.instanceCreated.then(()=>this.componentInstance)}getFrameworkComponentInstance(){return this}createElement(e,t){return super.createElement(this.wrapperComponent,{initialProps:t,CustomComponentClass:e,setMethods:e=>this.setMethods(e),addUpdateCallback:e=>{this.refreshProps=()=>e(this.getProps())}})}setMethods(e){this.providedMethods=e,i(this.getOptionalMethods(),this.providedMethods,this)}getOptionalMethods(){return[]}getProps(){return Object.assign(Object.assign({},this.sourceParams),{key:this.key})}}class c extends u{constructor(){super(...arguments),this.date=null}getDate(){return this.date}setDate(e){this.date=e,this.refreshProps()}refresh(e){this.sourceParams=e,this.refreshProps()}getOptionalMethods(){return["afterGuiAttached","setInputPlaceholder","setInputAriaLabel","setDisabled"]}updateDate(e){this.setDate(e),this.sourceParams.onDateChanged()}getProps(){var e=Object.assign(Object.assign({},this.sourceParams),{date:this.date,onDateChange:e=>this.updateDate(e),key:this.key});return delete e.onDateChanged,e}}class d extends u{constructor(){super(...arguments),this.model=null}isFilterActive(){return null!=this.model}doesFilterPass(e){return this.providedMethods.doesFilterPass(e)}getModel(){return this.model}setModel(e){this.model=e,this.refreshProps()}refresh(e){return this.sourceParams=e,this.refreshProps(),!0}getOptionalMethods(){return["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onAnyFilterChanged"]}updateModel(e){this.setModel(e),setTimeout(()=>{this.sourceParams.filterChangedCallback()})}getProps(){var e=Object.assign(Object.assign({},this.sourceParams),{model:this.model,onModelChange:e=>this.updateModel(e),onUiChange:()=>this.sourceParams.filterChangedCallback(),key:this.key});return delete e.filterChangedCallback,delete e.filterModifiedCallback,delete e.valueGetter,e}}function m(t,r){t.parentFilterInstance(e=>{(e.setModel(r)||Q.AgPromise.resolve()).then(()=>{setTimeout(()=>{t.filterParams.filterChangedCallback()})})})}class F{constructor(e,t){this.floatingFilterParams=e,this.refreshProps=t,this.model=null}getProps(){return Object.assign(Object.assign({},this.floatingFilterParams),{model:this.model,onModelChange:e=>this.updateModel(e)})}onParentModelChanged(e){this.model=e,this.refreshProps()}refresh(e){this.floatingFilterParams=e,this.refreshProps()}setMethods(e){i(this.getOptionalMethods(),e,this)}getOptionalMethods(){return["afterGuiAttached"]}updateModel(e){this.model=e,this.refreshProps(),m(this.floatingFilterParams,e)}}class p extends u{constructor(){super(...arguments),this.model=null}onParentModelChanged(e){this.model=e,this.refreshProps()}refresh(e){this.sourceParams=e,this.refreshProps()}getOptionalMethods(){return["afterGuiAttached"]}updateModel(e){this.model=e,this.refreshProps(),m(this.sourceParams,e)}getProps(){return Object.assign(Object.assign({},this.sourceParams),{model:this.model,onModelChange:e=>this.updateModel(e),key:this.key})}}class R extends u{refresh(e){this.sourceParams=e,this.refreshProps()}}class E extends u{refresh(e){this.sourceParams=e,this.refreshProps()}}class w extends u{refresh(e){return this.sourceParams=e,this.refreshProps(),!0}}class y extends u{refresh(e){return this.sourceParams=e,this.refreshProps(),!0}getState(){return this.state}updateState(e){this.state=e,this.refreshProps(),this.sourceParams.onStateUpdated()}getProps(){return Object.assign(Object.assign({},this.sourceParams),{key:this.key,state:this.state,onStateChange:e=>this.updateState(e)})}}class h{constructor(e,t,r){this.destroyed=!1,this.portals=[],this.hasPendingPortalUpdate=!1,this.wrappingElement=t||"div",this.refresher=e,this.maxComponentCreationTimeMs=r||h.MAX_COMPONENT_CREATION_TIME_IN_MS}getPortals(){return this.portals}destroy(){this.destroyed=!0}destroyPortal(t){this.portals=this.portals.filter(e=>e!==t),this.batchUpdate()}getComponentWrappingElement(){return this.wrappingElement}mountReactPortal(e,t,r){this.portals=[...this.portals,e],this.waitForInstance(t,r),this.batchUpdate()}updateReactPortal(e,t){this.portals[this.portals.indexOf(e)]=t,this.batchUpdate()}batchUpdate(){this.hasPendingPortalUpdate||(setTimeout(()=>{this.destroyed||(this.refresher(),this.hasPendingPortalUpdate=!1)}),this.hasPendingPortalUpdate=!0)}waitForInstance(e,t,r=Date.now()){if(this.destroyed)t(null);else if(e.rendered())t(e);else{if(Date.now()-r>=this.maxComponentCreationTimeMs&&!this.hasPendingPortalUpdate)return e.isNullValue()?void t(e):(console.error(`AG Grid: React Component '${e.getReactComponentName()}' not created within ${this.maxComponentCreationTimeMs}ms.`),void console.error("    If the component is using `forwardRef` but not `useImperativeHandle`, add the following: `useImperativeHandle(ref, () => ({}));`"));window.setTimeout(()=>{this.waitForInstance(e,t,r)})}}}h.MAX_COMPONENT_CREATION_TIME_IN_MS=1e3;const te=ee.createContext({}),$=(...e)=>{return e.filter(e=>null!=e&&""!==e).join(" ")};class G{constructor(...e){this.classesMap={},e.forEach(e=>{this.classesMap[e]=!0})}setClass(e,t){var r;return!!this.classesMap[e]==t?this:((r=new G).classesMap=Object.assign({},this.classesMap),r.classesMap[e]=t,r)}toString(){return Object.keys(this.classesMap).filter(e=>this.classesMap[e]).join(" ")}}const re=e=>{return"function"==typeof e&&!(e.prototype&&e.prototype.isReactComponent)||"object"==typeof e&&e.$$typeof===("function"==typeof Symbol&&Symbol.for?Symbol.for("react.memo"):60115)},b=null!=n.createRoot&&null!=n.flushSync,D=(e,t)=>{b&&e?n.flushSync(t):t()};function x(t,r,e){if(null==r||null==t)return r;if(t===r||0===r.length&&0===t.length)return t;if(e||0===t.length&&0<r.length||0<t.length&&0===r.length)return r;var n=[],s=[],a=new Map,o=new Map;for(let e=0;e<r.length;e++){var l=r[e];o.set(l.getInstanceId(),l)}for(let e=0;e<t.length;e++){var i=t[e];a.set(i.getInstanceId(),i),o.has(i.getInstanceId())&&n.push(i)}for(let e=0;e<r.length;e++){var u=r[e],c=u.getInstanceId();a.has(c)||s.push(u)}return n.length===t.length&&0===s.length?t:0===n.length&&s.length===r.length?r:[...n,...s]}const B=(e,s,a,o)=>{var l=!e||e.componentFromFramework||s.isDestroyed();if(!l){l=e.newAgStackInstance();if(l){let t,r,n=!1;return l.then(e=>{n?s.destroyBean(e):(t=e,r=t.getGui(),a.appendChild(r),C(o,t))}),()=>{n=!0,t&&(r&&r.parentElement&&r.parentElement.removeChild(r),s.destroyBean(t),o)&&C(o,void 0)}}}},C=(e,t)=>{e&&(e instanceof Function?e(t):e.current=t)},N=J.forwardRef((t,e)=>{const r=J.useContext(te).context,n=J.useRef(null),s=J.useRef(null),a=J.useRef(null),o=J.useRef(null),l=J.useRef(null),i=J.useRef(),[u,c]=J.useState(),[d,m]=J.useState(),[p,h]=J.useState(),[C,g]=J.useState(()=>new G),[f,v]=J.useState(()=>new G("ag-hidden")),[R,E]=J.useState(()=>new G("ag-hidden")),[w,y]=J.useState(()=>new G("ag-invisible"));J.useImperativeHandle(e,()=>({refresh(){return!1}})),J.useLayoutEffect(()=>B(u,r,s.current),[u]);var e=J.useCallback(e=>{n.current=e,n.current?(e={setInnerRenderer:(e,t)=>{c(e),h(t)},setChildCount:e=>m(e),addOrRemoveCssClass:(t,r)=>g(e=>e.setClass(t,r)),setContractedDisplayed:t=>E(e=>e.setClass("ag-hidden",!t)),setExpandedDisplayed:t=>v(e=>e.setClass("ag-hidden",!t)),setCheckboxVisible:t=>y(e=>e.setClass("ag-invisible",!t))},i.current=r.createBean(new Q.GroupCellRendererCtrl),i.current.init(e,n.current,a.current,o.current,l.current,N,t)):(r.destroyBean(i.current),i.current=null)},[]),S=J.useMemo(()=>"ag-cell-wrapper "+C.toString(),[C]),b=J.useMemo(()=>"ag-group-expanded "+f.toString(),[f]),P=J.useMemo(()=>"ag-group-contracted "+R.toString(),[R]),M=J.useMemo(()=>"ag-group-checkbox "+w.toString(),[w]),O=u&&u.componentFromFramework,I=O?u.componentClass:void 0,k=null==u&&null!=p,A=Q._.escapeString(p,!0);return ee.createElement("span",{className:S,ref:e,role:null==(S=i.current)?void 0:S.getCellAriaRole()},ee.createElement("span",{className:b,ref:o}),ee.createElement("span",{className:P,ref:l}),ee.createElement("span",{className:M,ref:a}),ee.createElement("span",{className:"ag-group-value",ref:s},k&&ee.createElement(ee.Fragment,null,A),O&&ee.createElement(I,Object.assign({},u.params))),ee.createElement("span",{className:"ag-group-child-count"},d))});var P=J.memo(e=>{const r=e["ctrl"],t=J.useContext(te)["context"];e=r.getColId();const[n,s]=J.useState(),a=J.useRef(null),o=J.useRef(null),l=J.useRef(null),i=J.useRef();let u=J.useRef();u.current||(u.current=new Q.CssClassManager(()=>a.current));var c=J.useCallback(e=>{var t;a.current=e,a.current&&(e={setWidth:e=>{a.current&&(a.current.style.width=e)},addOrRemoveCssClass:(e,t)=>u.current.addOrRemoveCssClass(e,t),setAriaDescription:e=>{a.current&&Q._.setAriaDescription(a.current,e)},setAriaSort:e=>{a.current&&(e?Q._.setAriaSort(a.current,e):Q._.removeAriaSort(a.current))},setUserCompDetails:e=>s(e),getUserCompInstance:()=>i.current||void 0},r.setComp(e,a.current,o.current,l.current),e=r.getSelectAllGui(),null!=(t=o.current))&&t.insertAdjacentElement("afterend",e)},[]),d=(J.useLayoutEffect(()=>B(n,t,l.current,i),[n]),J.useEffect(()=>{r.setDragSource(a.current)},[n]),J.useMemo(()=>{return!!((null===n||void 0===n?void 0:n.componentFromFramework)&&re(n.componentClass))},[n])),m=n&&n.componentFromFramework,p=n&&n.componentClass;return ee.createElement("div",{ref:c,className:"ag-header-cell","col-id":e,role:"columnheader",tabIndex:-1},ee.createElement("div",{ref:o,className:"ag-header-cell-resize",role:"presentation"}),ee.createElement("div",{ref:l,className:"ag-header-cell-comp-wrapper",role:"presentation"},m&&d&&ee.createElement(p,Object.assign({},n.params)),m&&!d&&ee.createElement(p,Object.assign({},n.params,{ref:i}))))}),M=J.memo(e=>{const t=J.useContext(te)["context"],r=e["ctrl"],[n,s]=J.useState(()=>new G),[a,o]=J.useState(()=>new G),[l,i]=J.useState("false"),[u,c]=J.useState(),[d,m]=J.useState();e=J.useMemo(()=>r.getColId(),[]);const p=J.useRef(null),h=J.useRef(null),C=J.useRef();var g=J.useCallback(e=>{p.current=e,p.current&&(e={setWidth:e=>{p.current&&(p.current.style.width=e)},addOrRemoveCssClass:(t,r)=>s(e=>e.setClass(t,r)),setUserCompDetails:e=>m(e),setResizableDisplayed:t=>{o(e=>e.setClass("ag-hidden",!t)),i(t?"false":"true")},setAriaExpanded:e=>c(e),getUserCompInstance:()=>C.current||void 0},r.setComp(e,p.current,h.current))},[]),f=(J.useLayoutEffect(()=>B(d,t,p.current),[d]),J.useEffect(()=>{p.current&&r.setDragSource(p.current)},[d]),J.useMemo(()=>{return!!((null===d||void 0===d?void 0:d.componentFromFramework)&&re(d.componentClass))},[d])),v=J.useMemo(()=>"ag-header-group-cell "+n.toString(),[n]),R=J.useMemo(()=>"ag-header-cell-resize "+a.toString(),[a]),E=d&&d.componentFromFramework,w=d&&d.componentClass;return ee.createElement("div",{ref:g,className:v,"col-id":e,role:"columnheader",tabIndex:-1,"aria-expanded":u},E&&f&&ee.createElement(w,Object.assign({},d.params)),E&&!f&&ee.createElement(w,Object.assign({},d.params,{ref:C})),ee.createElement("div",{ref:h,"aria-hidden":l,className:R}))}),O=J.memo(e=>{const{context:t,gridOptionsService:r}=J.useContext(te),[n,s]=J.useState(()=>new G("ag-header-cell","ag-floating-filter")),[a,o]=J.useState(()=>new G),[l,i]=J.useState(()=>new G("ag-floating-filter-button","ag-hidden")),[u,c]=J.useState("false"),[d,m]=J.useState(),[,p]=J.useState(1),h=J.useRef(null),C=J.useRef(null);var g=J.useRef(null);const f=J.useRef(null),v=J.useRef(),R=J.useRef(),E=e=>{null!=e&&v.current&&v.current(e)},w=e["ctrl"];var e=J.useCallback(e=>{h.current=e,h.current&&(R.current=new Q.AgPromise(e=>{v.current=e}),e={addOrRemoveCssClass:(t,r)=>s(e=>e.setClass(t,r)),addOrRemoveBodyCssClass:(t,r)=>o(e=>e.setClass(t,r)),setButtonWrapperDisplayed:t=>{i(e=>e.setClass("ag-hidden",!t)),c(t?"false":"true")},setWidth:e=>{h.current&&(h.current.style.width=e)},setCompDetails:e=>m(e),getFloatingFilterComp:()=>R.current||null,setMenuIcon:e=>{var t;return null==(t=f.current)?void 0:t.appendChild(e)}},w.setComp(e,h.current,f.current,C.current))},[]),y=(J.useLayoutEffect(()=>B(d,t,C.current,E),[d]),J.useMemo(()=>n.toString(),[n])),S=J.useMemo(()=>a.toString(),[a]),b=J.useMemo(()=>l.toString(),[l]),P=J.useMemo(()=>{return!!(d&&d.componentFromFramework&&re(d.componentClass))},[d]);const M=J.useMemo(()=>r.get("reactiveCustomComponents"),[]),O=J.useMemo(()=>{var e;if(M&&d)return e=new F(d.params,()=>p(e=>e+1)),E(e),e},[d]);var I=null===O||void 0===O?void 0:O.getProps(),k=d&&d.componentFromFramework,A=d&&d.componentClass;return ee.createElement("div",{ref:e,className:y,role:"gridcell",tabIndex:-1},ee.createElement("div",{ref:C,className:S,role:"presentation"},k&&!M&&ee.createElement(A,Object.assign({},d.params,{ref:P?()=>{}:E})),k&&M&&ee.createElement(T.Provider,{value:{setMethods:e=>O.setMethods(e)}},ee.createElement(A,Object.assign({},I)))),ee.createElement("div",{ref:g,"aria-hidden":u,className:b,role:"presentation"},ee.createElement("button",{ref:f,type:"button",className:"ag-button ag-floating-filter-button-button",tabIndex:-1})))}),I=J.memo(e=>{const t=e["ctrl"],{topOffset:r,rowHeight:n}=J.useMemo(()=>t.getTopAndHeight(),[]);var e=t.getAriaRowIndex(),s=t.getHeaderRowClass();const a=J.useMemo(()=>t.getTransform(),[]),[o,l]=J.useState(()=>n+"px"),[i,u]=J.useState(()=>r+"px"),[c,d]=J.useState(()=>t.getHeaderCtrls()),m=J.useRef(null);var p=J.useCallback(e=>{(m.current=e)&&(e={setHeight:e=>l(e),setTop:e=>u(e),setHeaderCtrls:(t,r,e)=>{D(e,()=>{d(e=>x(e,t,r))})},setWidth:e=>{m.current&&(m.current.style.width=e)}},t.setComp(e,!1))},[]),h=J.useMemo(()=>({transform:a,height:o,top:i}),[a,o,i]),C=J.useCallback(e=>{switch(t.getType()){case Q.HeaderRowType.COLUMN_GROUP:return ee.createElement(M,{ctrl:e,key:e.getInstanceId()});case Q.HeaderRowType.FLOATING_FILTER:return ee.createElement(O,{ctrl:e,key:e.getInstanceId()});default:return ee.createElement(P,{ctrl:e,key:e.getInstanceId()})}},[]);return ee.createElement("div",{ref:p,className:s,role:"row",style:h,"aria-rowindex":e},c.map(C))}),g=J.memo(t=>{const[e,r]=J.useState(!0),[n,s]=J.useState([]),a=J.useContext(te)["context"],o=J.useRef(null),l=J.useRef(null),i=J.useRef(null);var u="left"===t.pinned,c="right"===t.pinned,d=!u&&!c,m=J.useCallback(e=>{o.current=e,o.current?(e={setDisplayed:r,setCtrls:e=>s(e),setCenterWidth:e=>{l.current&&(l.current.style.width=e)},setViewportScrollLeft:e=>{o.current&&(o.current.scrollLeft=e)},setPinnedContainerWidth:e=>{o.current&&(o.current.style.width=e,o.current.style.minWidth=e,o.current.style.maxWidth=e)}},i.current=a.createBean(new Q.HeaderRowContainerCtrl(t.pinned)),i.current.setComp(e,o.current)):(a.destroyBean(i.current),i.current=null)},[]),p=e?"":"ag-hidden",h=()=>n.map(e=>ee.createElement(I,{ctrl:e,key:e.getInstanceId()}));return ee.createElement(ee.Fragment,null,u&&ee.createElement("div",{ref:m,className:"ag-pinned-left-header "+p,"aria-hidden":!e,role:"rowgroup"},h()),c&&ee.createElement("div",{ref:m,className:"ag-pinned-right-header "+p,"aria-hidden":!e,role:"rowgroup"},h()),d&&ee.createElement("div",{ref:m,className:"ag-header-viewport "+p,role:"presentation"},ee.createElement("div",{ref:l,className:"ag-header-container",role:"rowgroup"},h())))}),Z=J.memo(()=>{const[e,n]=J.useState(()=>new G),[t,r]=J.useState(),s=J.useContext(te)["context"],a=J.useRef(null),o=J.useRef(null);var l=J.useCallback(e=>{(a.current=e)?(e={addOrRemoveCssClass:(t,r)=>n(e=>e.setClass(t,r)),setHeightAndMinHeight:e=>r(e)},o.current=s.createBean(new Q.GridHeaderCtrl),o.current.setComp(e,a.current,a.current)):(s.destroyBean(o.current),o.current=null)},[]),i=J.useMemo(()=>{return"ag-header "+e.toString()},[e]),u=J.useMemo(()=>({height:t,minHeight:t}),[t]);return ee.createElement("div",{ref:l,className:i,style:u,role:"presentation"},ee.createElement(g,{pinned:"left"}),ee.createElement(g,{pinned:null}),ee.createElement(g,{pinned:"right"}))});const q=(n,s)=>{J.useEffect(()=>{var e=s.current;if(e){const t=e.parentElement;if(t){const r=document.createComment(n);return t.insertBefore(r,e),()=>{t.removeChild(r)}}}},[n])};var ne=J.memo(u=>{const[e,c]=J.useState(),{context:d,popupService:m,localeService:p,gridOptionsService:h}=J.useContext(te);{var t=()=>{const{editDetails:e,cellCtrl:t,eParentCell:r}=u;var n=e["compDetails"],s=h.get("stopEditingWhenCellsLoseFocus");const a=d.createBean(new Q.PopupEditorWrapper(n.params));var n=a.getGui(),o=(u.jsChildComp&&(o=u.jsChildComp.getGui())&&n.appendChild(o),{column:t.getColumn(),rowNode:t.getRowNode(),type:"popupCellEditor",eventSource:r,ePopup:n,position:e.popupPosition,keepWithinBounds:!0}),o=m.positionPopupByComponent.bind(m,o),l=p.getLocaleTextFunc(),s=m.addPopup({modal:s,eChild:n,closeOnEsc:!0,closedCallback:()=>{t.onPopupEditorClosed()},anchorToElement:r,positionCallback:o,ariaLabel:l("ariaLabelCellEditor","Cell Editor")});const i=s?s.hideFunc:void 0;return c(a),u.jsChildComp&&u.jsChildComp.afterGuiAttached&&u.jsChildComp.afterGuiAttached(),()=>{null!=i&&i(),d.destroyBean(a)}};const r=J.useRef(t),n=J.useRef(),s=J.useRef(!1),a=J.useRef(!1),[,o]=J.useState(0);s.current&&(a.current=!0),J.useEffect(()=>(s.current||(n.current=r.current(),s.current=!0),o(e=>e+1),()=>{a.current&&n.current&&n.current()}),[])}return ee.createElement(ee.Fragment,null,e&&u.wrappedContent&&l.createPortal(u.wrappedContent,e.getGui()))});class ae{constructor(e,t){this.cellEditorParams=e,this.refreshProps=t,this.instanceCreated=new Q.AgPromise(e=>{this.resolveInstanceCreated=e}),this.value=e.value}getProps(){return Object.assign(Object.assign({},this.cellEditorParams),{initialValue:this.cellEditorParams.value,value:this.value,onValueChange:e=>this.updateValue(e)})}getValue(){return this.value}refresh(e){this.cellEditorParams=e,this.refreshProps()}setMethods(e){i(this.getOptionalMethods(),e,this)}getInstance(){return this.instanceCreated.then(()=>this.componentInstance)}setRef(e){this.componentInstance=e,null!=(e=this.resolveInstanceCreated)&&e.call(this),this.resolveInstanceCreated=void 0}getOptionalMethods(){return["isPopup","isCancelBeforeStart","isCancelAfterEnd","getPopupPosition","focusIn","focusOut","afterGuiAttached"]}updateValue(e){this.value=e,this.refreshProps()}}const se=(e,t,r)=>{var n=e.compProxy;return ee.createElement(ee.Fragment,null,!n&&ee.createElement(t,Object.assign({},e.compDetails.params,{ref:r})),n&&((e,t,r)=>{const n=e["compProxy"];r(n);e=n.getProps(),r=re(t);return ee.createElement(T.Provider,{value:{setMethods:e=>n.setMethods(e)}},r&&ee.createElement(t,Object.assign({},e)),!r&&ee.createElement(t,Object.assign({},e,{ref:e=>n.setRef(e)})))})(e,t,r))};var j=J.memo(e=>{const s=J.useContext(te)["context"],{cellCtrl:c,printLayout:r,editingRow:n}=e;var e=c.getTabIndex(),t=c.getColumnIdSanitised();const d=c.getInstanceId(),[m,a]=J.useState(()=>c.isCellRenderer()?void 0:{compDetails:void 0,value:c.getValueToDisplay(),force:!1}),[p,o]=J.useState(),[x,l]=J.useState(1),[B,j]=J.useState(),[i,_]=J.useState(!1),[u,L]=J.useState(!1),[h,H]=J.useState(!1),[U,C]=J.useState(),g=J.useMemo(()=>c.isForceWrapper(),[c]);var W=J.useMemo(()=>c.getCellAriaRole(),[c]);const f=J.useRef(null),v=J.useRef(null),R=J.useRef(),E=J.useRef(),w=J.useRef(),y=J.useRef([]),S=J.useRef(),[V,K]=J.useState(0),z=J.useCallback(e=>{S.current=e,K(e=>e+1)},[]);var b=null!=m&&(i||h||u);const P=g||b,M=J.useCallback((e,t)=>{if(E.current=t){var r=t,n=c,s=n.getColumn();if(!e&&r.isPopup&&r.isPopup()){const a=`AG Grid: Found an issue in column ${s.getColId()}. If using React, specify an editor is a popup using colDef.cellEditorPopup=true. AG Grid React cannot depend on the editor component specifying if it's in a popup (via the isPopup() method on the editor), as React needs to know this information BEFORE the component is created.`;Q._.doOnce(()=>console.warn(a),"jsEditorComp-isPopup-"+n.getColumn().getColId())}if(e&&r.getPopupPosition&&null!=r.getPopupPosition()){const o=`AG Grid: Found an issue in column ${s.getColId()}. If using React, specify an editor popup position using colDef.cellEditorPopupPosition=true. AG Grid React cannot depend on the editor component specifying it's position (via the getPopupPosition() method on the editor), as React needs to know this information BEFORE the component is created.`;Q._.doOnce(()=>console.warn(o),"jsEditorComp-getPopupPosition-"+n.getColumn().getColId())}t.isCancelBeforeStart&&t.isCancelBeforeStart()&&setTimeout(()=>{c.stopEditing(!0),c.focusCell(!0)})}},[c]),Y=J.useCallback(e=>M(!0,e),[M]),$=J.useCallback(e=>M(!1,e),[M]);let O=J.useRef();O.current||(O.current=new Q.CssClassManager(()=>f.current));{var I=m,k=P,A=S.current,T=(b=V,R),q=f;const N=J.useContext(te)["context"],D=J.useCallback(()=>{var e,t=T.current;t&&((e=t.getGui())&&e.parentElement&&e.parentElement.removeChild(e),N.destroyBean(t),T.current=void 0)},[]);J.useEffect(()=>{var e=I&&I.compDetails&&!I.compDetails.componentFromFramework;if(null!=I&&e&&!(k&&null==A)){e=I.compDetails;if(T.current){const r=T.current;var t=null!=r.refresh&&0==I.force&&r.refresh(e.params);if(!0===t||void 0===t)return;D()}t=e.newAgStackInstance();if(t){const r=t.resolveNow(null,e=>e);r&&(e=r.getGui())&&((k?A:q.current).appendChild(e),T.current=r)}}else D()},[I,k,b]),J.useEffect(()=>D,[])}const F=J.useRef();J.useLayoutEffect(()=>{var e=F.current,t=m;F.current=m,null!=e&&null!=e.compDetails&&null!=t&&null!=t.compDetails&&(e=e.compDetails,t=t.compDetails,e.componentClass==t.componentClass)&&null!=v.current&&null!=v.current.refresh&&1!=v.current.refresh(t.params)&&l(e=>e+1)},[m]),J.useLayoutEffect(()=>{if(p&&!p.compDetails.componentFromFramework){var e=p.compDetails;const t=!0===p.popup,r=(e=>{e=e.newAgStackInstance();if(e)return e.resolveNow(null,e=>e)})(e);if(r){const n=r.getGui();return M(t,r),t||(null!=(e=(g?w:f).current)&&e.appendChild(n),r.afterGuiAttached&&r.afterGuiAttached()),C(r),()=>{s.destroyBean(r),M(t,void 0),C(void 0),n&&n.parentElement&&n.parentElement.removeChild(n)}}}},[p]);var b=J.useCallback(e=>{w.current=e,w.current?(e=e=>{var t;if(e){const r=e.getGui();null!=(t=w.current)&&t.insertAdjacentElement("afterbegin",r),y.current.push(()=>{s.destroyBean(e),Q._.removeFromParent(r)})}return e},i&&e(c.createSelectionCheckbox()),h&&e(c.createDndSource()),u&&e(c.createRowDragComp())):(y.current.forEach(e=>e()),y.current=[])},[c,s,h,u,i]),Z=J.useCallback(e=>{var t;f.current=e,f.current&&c&&(e={addOrRemoveCssClass:(e,t)=>O.current.addOrRemoveCssClass(e,t),setUserStyles:e=>j(e),getFocusableElement:()=>f.current,setIncludeSelection:e=>_(e),setIncludeRowDrag:e=>L(e),setIncludeDndSource:e=>H(e),getCellEditor:()=>E.current||null,getCellRenderer:()=>v.current||R.current,getParentOfValue:()=>S.current||w.current||f.current,setRenderDetails:(t,r,n)=>{a(e=>(null==e?void 0:e.compDetails)!==t||(null==e?void 0:e.value)!==r||(null==e?void 0:e.force)!==n?{value:r,compDetails:t,force:n}:e)},setEditDetails:(t,r,n,s)=>{if(t){let e=void 0;s&&(e=new ae(t.params,()=>l(e=>e+1))),o({compDetails:t,popup:r,popupPosition:n,compProxy:e}),r||a(void 0)}else o(e=>{null!=e&&e.compProxy&&(E.current=void 0)})}},t=w.current||void 0,c.setComp(e,f.current,t,r,n))},[]);const X=J.useMemo(()=>{return!!(m&&m.compDetails&&m.compDetails.componentFromFramework&&re(m.compDetails.componentClass))},[m]);J.useLayoutEffect(()=>{var e;f.current&&(O.current.addOrRemoveCssClass("ag-cell-value",!P),O.current.addOrRemoveCssClass("ag-cell-inline-editing",!!p&&!p.popup),O.current.addOrRemoveCssClass("ag-cell-popup-editing",!!p&&!!p.popup),O.current.addOrRemoveCssClass("ag-cell-not-inline-editing",!p||!!p.popup),null!=(e=c.getRowCtrl())&&e.setInlineEditingCss(!!p),c.shouldRestoreFocus())&&!c.isEditing()&&f.current.focus({preventScroll:!0})});var G=()=>{return ee.createElement(ee.Fragment,null,null!=m&&((e,t,r,n,s,a,o)=>{const{compDetails:l,value:i}=e,u=!l,c=l&&l.componentFromFramework,d=l&&l.componentClass,m=null!=i&&i.toString?i.toString():i;e=()=>ee.createElement(ee.Fragment,null,u&&ee.createElement(ee.Fragment,null,m),c&&!a&&ee.createElement(d,Object.assign({},l.params,{key:t,ref:n})),c&&a&&ee.createElement(d,Object.assign({},l.params,{key:t})));return ee.createElement(ee.Fragment,null,s?ee.createElement("span",{role:"presentation",id:"cell-"+r,className:"ag-cell-value",ref:o},e()):e())})(m,x,d,v,P,X,z),null!=p&&(e=p,t=$,r=Y,n=f.current,s=c,a=U,o=e.compDetails,l=o.componentClass,i=o.componentFromFramework&&!e.popup,u=o.componentFromFramework&&e.popup,o=!o.componentFromFramework&&e.popup,ee.createElement(ee.Fragment,null,i&&se(e,l,t),u&&ee.createElement(ne,{editDetails:e,cellCtrl:s,eParentCell:n,wrappedContent:se(e,l,r)}),o&&a&&ee.createElement(ne,{editDetails:e,cellCtrl:s,eParentCell:n,jsChildComp:a}))));var e,t,r,n,s,a,o,l,i,u};return ee.createElement("div",{ref:Z,style:B,tabIndex:e,role:W,"col-id":t},P?ee.createElement("div",{className:"ag-cell-wrapper",role:"presentation",ref:b},G()):G())}),k=J.memo(e=>{const{context:t,gridOptionsService:r}=J.useContext(te),{rowCtrl:n,containerType:s}=e;e=n.getTabIndex();const a=J.useRef(n.getDomOrder());var o=n.isFullWidth();const l=n.getRowNode().displayed,[i,u]=J.useState(()=>l?n.getRowIndex():null),[c,d]=J.useState(()=>n.getRowId()),[m,p]=J.useState(()=>n.getBusinessKey()),[h,C]=J.useState(()=>n.getRowStyles()),[g,f]=J.useState(()=>null),[v,R]=J.useState(),[E,w]=J.useState(()=>l?n.getInitialRowTop(s):void 0),[y,S]=J.useState(()=>l?n.getInitialTransform(s):void 0),b=J.useRef(null),P=J.useRef(),M=J.useRef(!1),[O,I]=J.useState(0);J.useEffect(()=>{var e;M.current||!v||10<O||((e=null==(e=b.current)?void 0:e.firstChild)?(n.setupDetailRowAutoHeight(e),M.current=!0):I(e=>e+1))},[v,O]);let k=J.useRef();k.current||(k.current=new Q.CssClassManager(()=>b.current));var A=J.useCallback(e=>{b.current=e,b.current?n.isAlive()&&(e={setTop:w,setTransform:S,addOrRemoveCssClass:(e,t)=>k.current.addOrRemoveCssClass(e,t),setDomOrder:e=>a.current=e,setRowIndex:u,setRowId:d,setRowBusinessKey:p,setUserStyles:C,setCellCtrls:(t,e)=>{D(e,()=>{f(e=>x(e,t,a.current))})},showFullWidth:e=>R(e),getFullWidthCellRenderer:()=>P.current,refreshFullWidth:t=>N.current?(R(e=>Object.assign(Object.assign({},e),{params:t()})),!0):!(!P.current||!P.current.refresh)&&P.current.refresh(t())},n.setComp(e,b.current,s)):n.unsetComp(s)},[]),T=(J.useLayoutEffect(()=>B(v,t,b.current,P),[v]),J.useMemo(()=>{var e={top:E,transform:y};return Object.assign(e,h),e},[E,y,h])),F=o&&v&&v.componentFromFramework,o=!o&&null!=g;const G=J.useMemo(()=>{return!!((null===v||void 0===v?void 0:v.componentFromFramework)&&re(v.componentClass))},[v]),N=J.useRef(!1);J.useEffect(()=>{N.current=G&&!!v&&!!r.get("reactiveCustomComponents")},[G,v]);return ee.createElement("div",{ref:A,role:"row",style:T,"row-index":i,"row-id":c,"row-business-key":m,tabIndex:e},o&&(null===g||void 0===g?void 0:g.map(e=>ee.createElement(j,{cellCtrl:e,editingRow:n.isEditing(),printLayout:n.isPrintLayout(),key:e.getInstanceId()}))),F&&(A=v.componentClass,ee.createElement(ee.Fragment,null,G&&ee.createElement(A,Object.assign({},v.params)),!G&&ee.createElement(A,Object.assign({},v.params,{ref:P})))))}),X=J.memo(e=>{const t=J.useContext(te)["context"],n=e["name"],r=J.useMemo(()=>Q.getRowContainerTypeForName(n),[n]),s=J.useRef(null),a=J.useRef(null),o=J.useRef([]),[l,i]=J.useState(()=>[]),u=J.useRef(!1),c=J.useRef(),d=J.useMemo(()=>Q.RowContainerCtrl.getRowContainerCssClasses(n),[n]);e=J.useMemo(()=>$(d.viewport),[d]);const m=J.useMemo(()=>$(d.container),[d]),p=n===Q.RowContainerName.CENTER||n===Q.RowContainerName.TOP_CENTER||n===Q.RowContainerName.BOTTOM_CENTER||n===Q.RowContainerName.STICKY_TOP_CENTER;var h=p?s:a;q(" AG Row Container "+n+" ",h);const C=J.useCallback(()=>(!p||null!=s.current)&&null!=a.current,[]),g=J.useCallback(()=>(!p||null==s.current)&&null==a.current,[]),f=J.useCallback(()=>{if(g()&&(t.destroyBean(c.current),c.current=null),C()){const r=e=>{D(e,()=>{i(e=>x(e,o.current,u.current))})};var e={setViewportHeight:e=>{s.current&&(s.current.style.height=e)},setRowCtrls:({rowCtrls:e,useFlushSync:t})=>{t=!!t&&0<o.current.length&&0<e.length;o.current=e,r(t)},setDomOrder:e=>{u.current!=e&&(u.current=e,r(!1))},setContainerWidth:e=>{a.current&&(a.current.style.width=e)}};c.current=t.createBean(new Q.RowContainerCtrl(n)),c.current.setComp(e,a.current,s.current)}},[C,g]),v=J.useCallback(e=>{a.current=e,f()},[f]);var h=J.useCallback(e=>{s.current=e,f()},[f]),R=()=>ee.createElement("div",{className:m,ref:v,role:"rowgroup"},l.map(e=>ee.createElement(k,{rowCtrl:e,containerType:r,key:e.getInstanceId()})));return ee.createElement(ee.Fragment,null,p?ee.createElement("div",{className:e,ref:h,role:"presentation"},R()):R())}),A=J.memo(()=>{const{context:r,agStackComponentsRegistry:n,resizeObserverService:s}=J.useContext(te),[e,a]=J.useState(""),[t,o]=J.useState(0),[l,i]=J.useState(0),[u,c]=J.useState("0px"),[d,m]=J.useState("0px"),[p,h]=J.useState("100%"),[C,g]=J.useState(""),[f,v]=J.useState(""),[R,E]=J.useState(null),[w,y]=J.useState(""),[S,b]=J.useState(null),[P,x]=J.useState("ag-layout-normal");let M=J.useRef();M.current||(M.current=new Q.CssClassManager(()=>O.current));const O=J.useRef(null),I=J.useRef(null),k=J.useRef(null),A=J.useRef(null),T=J.useRef(null),F=J.useRef(null),G=J.useRef([]),N=J.useRef([]);q(" AG Grid Body ",O),q(" AG Pinned Top ",I),q(" AG Sticky Top ",k),q(" AG Middle ",T),q(" AG Pinned Bottom ",F);var B=J.useCallback(e=>{var t;O.current=e,O.current?r&&(e=e=>{e=n.getComponentClass(e),e=r.createBean(new e);return G.current.push(e),e},(t=(e,t)=>{e.appendChild(t),N.current.push(()=>e.removeChild(t))})(O.current,document.createComment(" AG Fake Horizontal Scroll ")),t(O.current,e("AG-FAKE-HORIZONTAL-SCROLL").getGui()),t(O.current,document.createComment(" AG Overlay Wrapper ")),t(O.current,e("AG-OVERLAY-WRAPPER").getGui()),A.current&&(t(A.current,document.createComment(" AG Fake Vertical Scroll ")),t(A.current,e("AG-FAKE-VERTICAL-SCROLL").getGui())),t={setRowAnimationCssOnBodyViewport:a,setColumnCount:e=>{O.current&&Q._.setAriaColCount(O.current,e)},setRowCount:e=>{O.current&&Q._.setAriaRowCount(O.current,e)},setTopHeight:o,setBottomHeight:i,setStickyTopHeight:c,setStickyTopTop:m,setStickyTopWidth:h,setTopDisplay:g,setBottomDisplay:v,setColumnMovingCss:(e,t)=>M.current.addOrRemoveCssClass(e,t),updateLayoutClasses:x,setAlwaysVerticalScrollClass:E,setPinnedTopBottomOverflowY:y,setCellSelectableCss:(e,t)=>b(t?e:null),setBodyViewportWidth:e=>{T.current&&(T.current.style.width=e)},registerBodyViewportResizeListener:e=>{if(T.current){const t=s.observeResize(T.current,e);N.current.push(()=>t())}}},e=r.createBean(new Q.GridBodyCtrl),G.current.push(e),e.setComp(t,O.current,T.current,I.current,F.current,k.current)):(r.destroyBeans(G.current),N.current.forEach(e=>e()),G.current=[],N.current=[])},[]),j=J.useMemo(()=>$("ag-root","ag-unselectable",P),[P]),_=J.useMemo(()=>$("ag-body-viewport",e,P,R,S),[e,P,R,S]),L=J.useMemo(()=>$("ag-body",P),[P]),H=J.useMemo(()=>$("ag-floating-top",S),[S]),U=J.useMemo(()=>$("ag-sticky-top",S),[S]),W=J.useMemo(()=>$("ag-floating-bottom",S),[S]),V=J.useMemo(()=>({height:t,minHeight:t,display:C,overflowY:w}),[t,C,w]),K=J.useMemo(()=>({height:u,top:d,width:p}),[u,d,p]),z=J.useMemo(()=>({height:l,minHeight:l,display:f,overflowY:w}),[l,f,w]);const Y=e=>ee.createElement(X,{name:e,key:e+"-container"});var D=({section:e,children:t,className:r,style:n})=>ee.createElement("div",{ref:e,className:r,role:"presentation",style:n},t.map(Y));return ee.createElement("div",{ref:B,className:j,role:"treegrid"},ee.createElement(Z,null),D({section:I,className:H,style:V,children:[Q.RowContainerName.TOP_LEFT,Q.RowContainerName.TOP_CENTER,Q.RowContainerName.TOP_RIGHT,Q.RowContainerName.TOP_FULL_WIDTH]}),ee.createElement("div",{className:L,ref:A,role:"presentation"},D({section:T,className:_,children:[Q.RowContainerName.LEFT,Q.RowContainerName.CENTER,Q.RowContainerName.RIGHT,Q.RowContainerName.FULL_WIDTH]})),D({section:k,className:U,style:K,children:[Q.RowContainerName.STICKY_TOP_LEFT,Q.RowContainerName.STICKY_TOP_CENTER,Q.RowContainerName.STICKY_TOP_RIGHT,Q.RowContainerName.STICKY_TOP_FULL_WIDTH]}),D({section:F,className:W,style:z,children:[Q.RowContainerName.BOTTOM_LEFT,Q.RowContainerName.BOTTOM_CENTER,Q.RowContainerName.BOTTOM_RIGHT,Q.RowContainerName.BOTTOM_FULL_WIDTH]}))}),f=J.forwardRef((e,t)=>{const{children:r,eFocusableElement:n,onTabKeyDown:s,gridCtrl:a}=e,o=J.useContext(te)["context"],l=J.useRef(null),i=J.useRef(null),u=J.useRef(),c=e=>{const r=null==e?void 0:parseInt(e,10).toString();[l,i].forEach(e=>{var t;void 0===r?null!=(t=e.current)&&t.removeAttribute("tabindex"):null!=(t=e.current)&&t.setAttribute("tabindex",r)})},d=(J.useImperativeHandle(t,()=>({forceFocusOutOfContainer(){var e;null!=(e=u.current)&&e.forceFocusOutOfContainer()}})),J.useCallback(()=>{var e;l.current||i.current?l.current&&i.current&&(e={setTabIndex:c},u.current=o.createBean(new Q.TabGuardCtrl({comp:e,eTopGuard:l.current,eBottomGuard:i.current,eFocusableElement:n,onTabKeyDown:s,focusInnerElement:e=>a.focusInnerElement(e)}))):(o.destroyBean(u.current),u.current=null)},[])),m=J.useCallback(e=>{l.current=e,d()},[d]),p=J.useCallback(e=>{i.current=e,d()},[d]);e=e=>{var t="top"===e?Q.TabGuardClassNames.TAB_GUARD_TOP:Q.TabGuardClassNames.TAB_GUARD_BOTTOM;return ee.createElement("div",{className:Q.TabGuardClassNames.TAB_GUARD+" "+t,role:"presentation",ref:"top"===e?m:p})};return ee.createElement(ee.Fragment,null,e("top"),r,e("bottom"))}),_=J.memo(f),L=J.memo(({context:c})=>{const[e,r]=J.useState(""),[t,,]=J.useState(""),[n,s]=J.useState(""),[a,o]=J.useState(null),[l,i]=J.useState(null),[u,d]=J.useState(!1),[m,p]=J.useState(),h=J.useRef(null),C=J.useRef(null),g=J.useRef(),[f,v]=J.useState(null),R=J.useRef(()=>{});var E=J.useCallback(()=>{},[]);const w=J.useMemo(()=>c.isDestroyed()?null:c.getBean("beans"),[c]);q(" AG Grid ",C);var y=J.useCallback(e=>{var t;C.current=e,C.current?c.isDestroyed()||(h.current=c.createBean(new Q.GridCtrl),e=h.current,R.current=e.focusInnerElement.bind(e),t={destroyGridUi:()=>{},setRtlClass:r,forceFocusOutOfContainer:()=>{var e;null!=(e=g.current)&&e.forceFocusOutOfContainer()},updateLayoutClasses:s,getFocusableContainers:()=>{var e=[],t=null==(t=C.current)?void 0:t.querySelector(".ag-root"),r=null==(r=C.current)?void 0:r.querySelector(".ag-side-bar:not(.ag-hidden)");return t&&e.push(t),r&&e.push(r),e},setCursor:o,setUserSelect:i},e.setComp(t,C.current,C.current),d(!0)):(c.destroyBean(h.current),h.current=null)},[]),S=(J.useEffect(()=>{if(m&&w&&h.current&&f&&C.current){var e=h.current;const i=[];var t=w["agStackComponentsRegistry"],r=t.getComponentClass("AG-GRID-HEADER-DROP-ZONES"),n=t.getComponentClass("AG-SIDE-BAR"),s=t.getComponentClass("AG-STATUS-BAR"),a=t.getComponentClass("AG-WATERMARK"),t=t.getComponentClass("AG-PAGINATION");const u=[];var o,l=C.current;return e.showDropZones()&&r&&(o=(r=c.createBean(new r)).getGui(),l.insertAdjacentElement("afterbegin",o),u.push(o),i.push(r)),e.showSideBar()&&n&&(r=(o=c.createBean(new n)).getGui(),(n=f.querySelector(".ag-tab-guard-bottom"))&&(n.insertAdjacentElement("beforebegin",r),u.push(r)),i.push(o)),e.showStatusBar()&&s&&(r=(n=c.createBean(new s)).getGui(),l.insertAdjacentElement("beforeend",r),u.push(r),i.push(n)),t&&(s=(o=c.createBean(new t)).getGui(),l.insertAdjacentElement("beforeend",s),u.push(s),i.push(o)),e.showWatermark()&&a&&(n=(r=c.createBean(new a)).getGui(),l.insertAdjacentElement("beforeend",n),u.push(n),i.push(r)),()=>{c.destroyBeans(i),u.forEach(e=>{e.parentElement&&e.parentElement.removeChild(e)})}}},[m,f,w]),J.useMemo(()=>$("ag-root-wrapper",e,t,n),[e,t,n])),b=J.useMemo(()=>$("ag-root-wrapper-body","ag-focus-managed",n),[n]),P=J.useMemo(()=>({userSelect:null!=l?l:"",WebkitUserSelect:null!=l?l:"",cursor:null!=a?a:""}),[l,a]),M=J.useCallback(e=>{g.current=e,p(null!==e)},[]);return ee.createElement("div",{ref:y,className:S,style:P,role:"presentation"},ee.createElement("div",{className:b,ref:v,role:"presentation"},u&&f&&w&&ee.createElement(te.Provider,{value:w},ee.createElement(_,{ref:M,eFocusableElement:f,onTabKeyDown:E,gridCtrl:h.current},ee.createElement(A,null)))))});const S=n=>{const s=J.useRef(),a=J.useRef(null),o=J.useRef(null),l=J.useRef([]),i=J.useRef([]),t=J.useRef(n),u=J.useRef(!1),[e,c]=J.useState(void 0),[,d]=J.useState(0);var r=J.useCallback(e=>{var t,r;a.current=e,a.current?(e=n.modules||[],o.current||(o.current=new h(()=>d(e=>e+1),n.componentWrappingElement,n.maxComponentCreationTimeMs),l.current.push(()=>{var e;null!=(e=o.current)&&e.destroy(),o.current=null})),t=Q.ComponentUtil.combineAttributesAndGridOptions(n.gridOptions,n),e={providedBeanInstances:{frameworkComponentWrapper:new H(o.current,!!t.reactiveCustomComponents)},modules:e,frameworkOverrides:new W},r=new Q.GridCoreCreator,s.current=r.create(a.current,t,t=>{c(t),l.current.push(()=>{t.destroy()}),t.getBean(Q.CtrlsService.NAME).whenReady(()=>{var e;t.isDestroyed()||(e=s.current)&&n.setGridApi&&n.setGridApi(e,new Q.ColumnApi(e))})},e=>{e.getBean(Q.CtrlsService.NAME).whenReady(()=>{i.current.forEach(e=>e()),i.current.length=0,u.current=!0})},e)):(l.current.forEach(e=>e()),l.current.length=0)},[]),m=J.useMemo(()=>Object.assign({height:"100%"},n.containerStyle||{}),[n.containerStyle]);const p=J.useCallback(e=>{u.current?e():i.current.push(e)},[]);return J.useEffect(()=>{const e=function(r,n){const s={};return Object.keys(n).forEach(e=>{var t=n[e];r[e]!==t&&(s[e]=t)}),s}(t.current,n);t.current=n,p(()=>{s.current&&Q.ComponentUtil.processOnChange(e,s.current)})},[n]),ee.createElement("div",{style:m,className:n.className,ref:r},e&&!e.isDestroyed()?ee.createElement(L,{context:e}):null,null!=(r=null==(m=o.current)?void 0:m.getPortals())?r:null)};class H extends Q.BaseComponentWrapper{constructor(e,t){super(),this.parent=e,this.reactiveCustomComponents=t}createWrapper(e,t){if(this.reactiveCustomComponents){var r=(e=>{switch(e){case"filter":return d;case"floatingFilterComponent":return p;case"dateComponent":return c;case"loadingOverlayComponent":return R;case"noRowsOverlayComponent":return E;case"statusPanel":return w;case"toolPanel":return y}})(t.propertyName);if(r)return new r(e,this.parent,t)}r=!t.cellRenderer&&"toolPanel"!==t.propertyName;return new o(e,this.parent,t,r)}}const U=J.forwardRef((r,e)=>{const{ctrlsFactory:n,context:s,gridOptionsService:a,resizeObserverService:o,clientSideRowModel:l,serverSideRowModel:i}=J.useContext(te),[t,u]=J.useState(()=>new G),[c,d]=J.useState(()=>new G),[m,p]=J.useState(),[h,C]=J.useState(),g=J.useRef(),f=J.useRef(null),v=J.useRef();var R=J.useMemo(()=>Q.ModuleRegistry.__getGridRegisteredModules(r.api.getGridId()),[r]),E=J.useMemo(()=>t.toString()+" ag-details-row",[t]),w=J.useMemo(()=>c.toString()+" ag-details-grid",[c]),e=(e&&J.useImperativeHandle(e,()=>({refresh(){var e;return null!=(e=null==(e=g.current)?void 0:e.refresh())&&e}})),r.template&&Q._.warnOnce("detailCellRendererParams.template is not supported by AG Grid React. To change the template, provide a Custom Detail Cell Renderer. See https://ag-grid.com/react-data-grid/master-detail-custom-detail/"),J.useCallback(e=>{var t;f.current=e,f.current?(e={addOrRemoveCssClass:(t,r)=>u(e=>e.setClass(t,r)),addOrRemoveDetailGridCssClass:(t,r)=>d(e=>e.setClass(t,r)),setDetailGrid:e=>p(e),setRowData:e=>C(e),getGui:()=>f.current},(t=n.getInstance("detailCellRenderer"))&&(s.createBean(t),t.init(e,r),g.current=t,a.get("detailRowAutoHeight"))&&(e=()=>{if(null!=f.current){const e=f.current.clientHeight;null!=e&&0<e&&setTimeout(()=>{r.node.setRowHeight(e),l?l.onRowHeightChanged():i&&i.onRowHeightChanged()},0)}},v.current=o.observeResize(f.current,e),e())):(s.destroyBean(g.current),v.current&&v.current())},[])),y=J.useCallback((e,t)=>{var r;null!=(r=g.current)&&r.registerDetailWithMaster(e,t)},[]);return ee.createElement("div",{className:E,ref:e},m&&ee.createElement(S,Object.assign({className:w},m,{modules:R,rowData:h,setGridApi:y})))});class W extends Q.VanillaFrameworkOverrides{constructor(){super("react"),this.frameworkComponents={agGroupCellRenderer:N,agGroupRowRenderer:N,agDetailCellRenderer:U},this.renderingEngine="react"}frameworkComponent(e){return this.frameworkComponents[e]}isFrameworkComponent(e){return!(!e||(e=e.prototype)&&"getGui"in e)}}class V extends J.Component{constructor(){super(...arguments),this.apiListeners=[],this.setGridApi=(t,e)=>{this.api=t,this.columnApi=e,this.apiListeners.forEach(e=>e(t))}}registerApiListener(e){this.apiListeners.push(e)}componentWillUnmount(){this.apiListeners.length=0}render(){return ee.createElement(S,Object.assign({},this.props,{setGridApi:this.setGridApi}))}}function v(e){var t=J.useContext(T)["setMethods"];t(e)}(f=e.ChangeDetectionStrategyType||(e.ChangeDetectionStrategyType={})).IdentityCheck="IdentityCheck",f.DeepValueCheck="DeepValueCheck",f.NoCheck="NoCheck",e.AgGridReact=V,e.useGridCellEditor=function(e){v(e)},e.useGridDate=v,e.useGridFilter=v,e.useGridFloatingFilter=function(e){v(e)},e.getInstance=function(e,t){var r;(null!=(r=null==(r=null==(e=e)?void 0:e.getInstance)?void 0:r.call(e))?r:Q.AgPromise.resolve(void 0)).then(e=>t(e))},Object.defineProperty(e,"__esModule",{value:!0})});
