!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("react-dom/server"),require("react-dom"),require("ag-grid-community"),require("react")):"function"==typeof define&&define.amd?define(["exports","react-dom/server","react-dom","ag-grid-community","react"],t):t(e.AgGridReact={},e.ReactDOMServer,e.ReactDOM,e.agGrid,e.React)}(this,function(e,r,l,J,Q){"use strict";var n="default"in l?l.default:l,ee="default"in Q?Q.default:Q;const F=Q.createContext({setMethods:()=>{}});var t=Q.memo(e=>{const{initialProps:t,addUpdateCallback:r,CustomComponentClass:n,setMethods:s}=e,[a,o]=Q.useState(t);return Q.useEffect(()=>{r(e=>o(e))},[]),ee.createElement(F.Provider,{value:{setMethods:s}},ee.createElement(n,Object.assign({},a)))});let s=0;function a(){return"agPortalKey_"+ ++s}class o{constructor(e,t,r,n){this.portal=null,this.oldPortal=null,this.reactComponent=e,this.portalManager=t,this.componentType=r,this.suppressFallbackMethods=!!n,this.statelessComponent=this.isStateless(this.reactComponent),this.key=a(),this.portalKey=a(),this.instanceCreated=this.isStatelessComponent()?J.AgPromise.resolve(!1):new J.AgPromise(e=>{this.resolveInstanceCreated=e})}getGui(){return this.eParentElement}getRootElement(){return this.eParentElement.firstChild}destroy(){return this.componentInstance&&"function"==typeof this.componentInstance.destroy&&this.componentInstance.destroy(),this.portalManager.destroyPortal(this.portal)}createParentElement(e){var t=this.portalManager.getComponentWrappingElement(),t=document.createElement(t||"div");return t.classList.add("ag-react-container"),e.reactContainer=t}addParentContainerStyleAndClasses(){this.componentInstance&&(this.componentInstance.getReactContainerStyle&&this.componentInstance.getReactContainerStyle()&&(J._.warnOnce('Since v31.1 "getReactContainerStyle" is deprecated. Apply styling directly to ".ag-react-container" if needed.'),Object.assign(this.eParentElement.style,this.componentInstance.getReactContainerStyle())),this.componentInstance.getReactContainerClasses)&&this.componentInstance.getReactContainerClasses()&&(J._.warnOnce('Since v31.1 "getReactContainerClasses" is deprecated. Apply styling directly to ".ag-react-container" if needed.'),this.componentInstance.getReactContainerClasses().forEach(e=>this.eParentElement.classList.add(e)))}statelessComponentRendered(){return 0<this.eParentElement.childElementCount||0<this.eParentElement.childNodes.length}getFrameworkComponentInstance(){return this.componentInstance}isStatelessComponent(){return this.statelessComponent}getReactComponentName(){return this.reactComponent.name}getMemoType(){return this.hasSymbol()?Symbol.for("react.memo"):60115}hasSymbol(){return"function"==typeof Symbol&&Symbol.for}isStateless(e){return"function"==typeof e&&!(e.prototype&&e.prototype.isReactComponent)||"object"==typeof e&&e.$$typeof===this.getMemoType()}hasMethod(e){var t=this.getFrameworkComponentInstance();return!!t&&null!=t[e]||this.fallbackMethodAvailable(e)}callMethod(e,t){var r,n=this.getFrameworkComponentInstance();return this.isStatelessComponent()?this.fallbackMethod(e,t&&t[0]?t[0]:{}):n?(r=n[e])?r.apply(n,t):this.fallbackMethodAvailable(e)?this.fallbackMethod(e,t&&t[0]?t[0]:{}):void 0:void setTimeout(()=>this.callMethod(e,t))}addMethod(e,t){this[e]=t}init(e){return this.eParentElement=this.createParentElement(e),this.params=e,this.createOrUpdatePortal(e),new J.AgPromise(e=>this.createReactComponent(e))}createOrUpdatePortal(e){this.isStatelessComponent()||(this.ref=e=>{this.componentInstance=e,this.addParentContainerStyleAndClasses(),null!=(e=this.resolveInstanceCreated)&&e.call(this,!0),this.resolveInstanceCreated=void 0},e.ref=this.ref),this.reactElement=this.createElement(this.reactComponent,Object.assign(Object.assign({},e),{key:this.key})),this.portal=l.createPortal(this.reactElement,this.eParentElement,this.portalKey)}createElement(e,t){return Q.createElement(e,t)}createReactComponent(t){this.portalManager.mountReactPortal(this.portal,this,e=>{t(e)})}isNullValue(){return this.valueRenderedIsNull(this.params)}rendered(){return this.isStatelessComponent()&&this.statelessComponentRendered()||!(this.isStatelessComponent()||!this.getFrameworkComponentInstance())}valueRenderedIsNull(e){if(this.componentType.cellRenderer){var t=console.error;try{return console.error=()=>{},""===r.renderToStaticMarkup(Q.createElement(this.reactComponent,e))}catch(e){}finally{console.error=t}}return!1}refreshComponent(e){this.oldPortal=this.portal,this.createOrUpdatePortal(e),this.portalManager.updateReactPortal(this.oldPortal,this.portal)}fallbackMethod(e,t){e=this[e+"Component"];if(!this.suppressFallbackMethods&&e)return e.bind(this)(t)}fallbackMethodAvailable(e){return!this.suppressFallbackMethods&&!!this[e+"Component"]}}function i(e,r,n){e.forEach(e=>{var t=r[e];t&&(n[e]=t)})}class c extends o{constructor(){super(...arguments),this.awaitUpdateCallback=new J.AgPromise(e=>{this.resolveUpdateCallback=e}),this.wrapperComponent=t}init(e){return this.sourceParams=e,super.init(this.getProps())}addMethod(){}getInstance(){return this.instanceCreated.then(()=>this.componentInstance)}getFrameworkComponentInstance(){return this}createElement(e,t){return super.createElement(this.wrapperComponent,{initialProps:t,CustomComponentClass:e,setMethods:e=>this.setMethods(e),addUpdateCallback:e=>{this.updateCallback=()=>(e(this.getProps()),new J.AgPromise(e=>{setTimeout(()=>{e()})})),this.resolveUpdateCallback()}})}setMethods(e){this.providedMethods=e,i(this.getOptionalMethods(),this.providedMethods,this)}getOptionalMethods(){return[]}getProps(){return Object.assign(Object.assign({},this.sourceParams),{key:this.key,ref:this.ref})}refreshProps(){return this.updateCallback?this.updateCallback():new J.AgPromise(e=>this.awaitUpdateCallback.then(()=>{this.updateCallback().then(()=>e())}))}}class u extends c{constructor(){super(...arguments),this.date=null,this.onDateChange=e=>this.updateDate(e)}getDate(){return this.date}setDate(e){this.date=e,this.refreshProps()}refresh(e){this.sourceParams=e,this.refreshProps()}getOptionalMethods(){return["afterGuiAttached","setInputPlaceholder","setInputAriaLabel","setDisabled"]}updateDate(e){this.setDate(e),this.sourceParams.onDateChanged()}getProps(){var e=super.getProps();return e.date=this.date,e.onDateChange=this.onDateChange,delete e.onDateChanged,e}}class d extends c{constructor(){super(...arguments),this.model=null,this.onModelChange=e=>this.updateModel(e),this.onUiChange=()=>this.sourceParams.filterChangedCallback()}isFilterActive(){return null!=this.model}doesFilterPass(e){return this.providedMethods.doesFilterPass(e)}getModel(){return this.model}setModel(e){return this.model=e,this.refreshProps()}refresh(e){return this.sourceParams=e,this.refreshProps(),!0}getOptionalMethods(){return["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onAnyFilterChanged"]}updateModel(e){this.setModel(e).then(()=>this.sourceParams.filterChangedCallback())}getProps(){var e=super.getProps();return e.model=this.model,e.onModelChange=this.onModelChange,e.onUiChange=this.onUiChange,delete e.filterChangedCallback,delete e.filterModifiedCallback,delete e.valueGetter,e}}function m(t,r){t.parentFilterInstance(e=>{(e.setModel(r)||J.AgPromise.resolve()).then(()=>{t.filterParams.filterChangedCallback()})})}class N{constructor(e,t){this.floatingFilterParams=e,this.refreshProps=t,this.model=null,this.onModelChange=e=>this.updateModel(e)}getProps(){return Object.assign(Object.assign({},this.floatingFilterParams),{model:this.model,onModelChange:this.onModelChange})}onParentModelChanged(e){this.model=e,this.refreshProps()}refresh(e){this.floatingFilterParams=e,this.refreshProps()}setMethods(e){i(this.getOptionalMethods(),e,this)}getOptionalMethods(){return["afterGuiAttached"]}updateModel(e){this.model=e,this.refreshProps(),m(this.floatingFilterParams,e)}}class R extends c{constructor(){super(...arguments),this.model=null,this.onModelChange=e=>this.updateModel(e)}onParentModelChanged(e){this.model=e,this.refreshProps()}refresh(e){this.sourceParams=e,this.refreshProps()}getOptionalMethods(){return["afterGuiAttached"]}updateModel(e){this.model=e,this.refreshProps(),m(this.sourceParams,e)}getProps(){var e=super.getProps();return e.model=this.model,e.onModelChange=this.onModelChange,e}}class w extends c{refresh(e){this.sourceParams=e,this.refreshProps()}}class E extends c{constructor(){super(...arguments),this.active=!1,this.expanded=!1,this.onActiveChange=e=>this.updateActive(e)}setActive(e){this.awaitSetActive(e)}setExpanded(e){this.expanded=e,this.refreshProps()}getOptionalMethods(){return["select","configureDefaults"]}awaitSetActive(e){return this.active=e,this.refreshProps()}updateActive(e){var t=this.awaitSetActive(e);e&&t.then(()=>this.sourceParams.onItemActivated())}getProps(){var e=super.getProps();return e.active=this.active,e.expanded=this.expanded,e.onActiveChange=this.onActiveChange,delete e.onItemActivated,e}}class y extends c{refresh(e){this.sourceParams=e,this.refreshProps()}}class P extends c{refresh(e){return this.sourceParams=e,this.refreshProps(),!0}}class b extends c{constructor(){super(...arguments),this.onStateChange=e=>this.updateState(e)}refresh(e){return this.sourceParams=e,this.refreshProps(),!0}getState(){return this.state}updateState(e){this.state=e,this.refreshProps(),this.sourceParams.onStateUpdated()}getProps(){var e=super.getProps();return e.state=this.state,e.onStateChange=this.onStateChange,e}}class h{constructor(e,t,r){this.destroyed=!1,this.portals=[],this.hasPendingPortalUpdate=!1,this.wrappingElement=t||"div",this.refresher=e,this.maxComponentCreationTimeMs=r||h.MAX_COMPONENT_CREATION_TIME_IN_MS}getPortals(){return this.portals}destroy(){this.destroyed=!0}destroyPortal(t){this.portals=this.portals.filter(e=>e!==t),this.batchUpdate()}getComponentWrappingElement(){return this.wrappingElement}mountReactPortal(e,t,r){this.portals=[...this.portals,e],this.waitForInstance(t,r),this.batchUpdate()}updateReactPortal(e,t){this.portals[this.portals.indexOf(e)]=t,this.batchUpdate()}batchUpdate(){this.hasPendingPortalUpdate||(setTimeout(()=>{this.destroyed||(this.refresher(),this.hasPendingPortalUpdate=!1)}),this.hasPendingPortalUpdate=!0)}waitForInstance(e,t,r=Date.now()){if(this.destroyed)t(null);else if(e.rendered())t(e);else{if(Date.now()-r>=this.maxComponentCreationTimeMs&&!this.hasPendingPortalUpdate)return e.isNullValue()?void t(e):(console.error(`AG Grid: React Component '${e.getReactComponentName()}' not created within ${this.maxComponentCreationTimeMs}ms.`),void console.error("    If the component is using `forwardRef` but not `useImperativeHandle`, add the following: `useImperativeHandle(ref, () => ({}));`"));window.setTimeout(()=>{this.waitForInstance(e,t,r)})}}}h.MAX_COMPONENT_CREATION_TIME_IN_MS=1e3;const te=ee.createContext({}),$=(...e)=>{return e.filter(e=>null!=e&&""!==e).join(" ")};class T{constructor(...e){this.classesMap={},e.forEach(e=>{this.classesMap[e]=!0})}setClass(e,t){var r;return!!this.classesMap[e]==t?this:((r=new T).classesMap=Object.assign({},this.classesMap),r.classesMap[e]=t,r)}toString(){return Object.keys(this.classesMap).filter(e=>this.classesMap[e]).join(" ")}}const re=e=>{return"function"==typeof e&&!(e.prototype&&e.prototype.isReactComponent)||"object"==typeof e&&e.$$typeof===("function"==typeof Symbol&&Symbol.for?Symbol.for("react.memo"):60115)},M=null!=n.createRoot&&null!=n.flushSync;let p=!1;const D=(e,t)=>{M&&e&&!p?n.flushSync(t):t()};function x(t,r,e){if(null==r||null==t)return r;if(t===r||0===r.length&&0===t.length)return t;if(e||0===t.length&&0<r.length||0<t.length&&0===r.length)return r;var n=[],s=[],a=new Map,o=new Map;for(let e=0;e<r.length;e++){var l=r[e];o.set(l.getInstanceId(),l)}for(let e=0;e<t.length;e++){var i=t[e];a.set(i.getInstanceId(),i),o.has(i.getInstanceId())&&n.push(i)}for(let e=0;e<r.length;e++){var c=r[e],u=c.getInstanceId();a.has(u)||s.push(c)}return n.length===t.length&&0===s.length?t:0===n.length&&s.length===r.length?r:[...n,...s]}const B=(e,s,a,o)=>{var l=!e||e.componentFromFramework||s.isDestroyed();if(!l){l=e.newAgStackInstance();if(l){let t,r,n=!1;return l.then(e=>{n?s.destroyBean(e):(t=e,r=t.getGui(),a.appendChild(r),C(o,t))}),()=>{n=!0,t&&(r&&r.parentElement&&r.parentElement.removeChild(r),s.destroyBean(t),o)&&C(o,void 0)}}}},C=(e,t)=>{e&&(e instanceof Function?e(t):e.current=t)},G=Q.forwardRef((t,e)=>{const r=Q.useContext(te).context,n=Q.useRef(null),s=Q.useRef(null),a=Q.useRef(null),o=Q.useRef(null),l=Q.useRef(null),i=Q.useRef(),[c,u]=Q.useState(),[d,m]=Q.useState(),[p,h]=Q.useState(),[C,g]=Q.useState(()=>new T),[f,v]=Q.useState(()=>new T("ag-hidden")),[R,w]=Q.useState(()=>new T("ag-hidden")),[E,y]=Q.useState(()=>new T("ag-invisible"));Q.useImperativeHandle(e,()=>({refresh(){return!1}})),Q.useLayoutEffect(()=>B(c,r,s.current),[c]);var e=Q.useCallback(e=>{n.current=e,n.current?(e={setInnerRenderer:(e,t)=>{u(e),h(t)},setChildCount:e=>m(e),addOrRemoveCssClass:(t,r)=>g(e=>e.setClass(t,r)),setContractedDisplayed:t=>w(e=>e.setClass("ag-hidden",!t)),setExpandedDisplayed:t=>v(e=>e.setClass("ag-hidden",!t)),setCheckboxVisible:t=>y(e=>e.setClass("ag-invisible",!t))},i.current=r.createBean(new J.GroupCellRendererCtrl),i.current.init(e,n.current,a.current,o.current,l.current,G,t)):(r.destroyBean(i.current),i.current=null)},[]),S=Q.useMemo(()=>"ag-cell-wrapper "+C.toString(),[C]),P=Q.useMemo(()=>"ag-group-expanded "+f.toString(),[f]),b=Q.useMemo(()=>"ag-group-contracted "+R.toString(),[R]),M=Q.useMemo(()=>"ag-group-checkbox "+E.toString(),[E]),O=c&&c.componentFromFramework,I=O?c.componentClass:void 0,A=null==c&&null!=p,k=J._.escapeString(p,!0);return ee.createElement("span",Object.assign({className:S,ref:e},t.colDef?{}:{role:null==(S=i.current)?void 0:S.getCellAriaRole()}),ee.createElement("span",{className:P,ref:o}),ee.createElement("span",{className:b,ref:l}),ee.createElement("span",{className:M,ref:a}),ee.createElement("span",{className:"ag-group-value",ref:s},A&&ee.createElement(ee.Fragment,null,k),O&&ee.createElement(I,Object.assign({},c.params))),ee.createElement("span",{className:"ag-group-child-count"},d))});var O=Q.memo(e=>{const r=e["ctrl"],n=r.isAlive(),t=Q.useContext(te)["context"];e=n?r.getColId():void 0;const[s,a]=Q.useState(),o=Q.useRef(null),l=Q.useRef(null),i=Q.useRef(null),c=Q.useRef();let u=Q.useRef();n&&!u.current&&(u.current=new J.CssClassManager(()=>o.current));var d=Q.useCallback(e=>{var t;o.current=e,o.current&&n&&(e={setWidth:e=>{o.current&&(o.current.style.width=e)},addOrRemoveCssClass:(e,t)=>u.current.addOrRemoveCssClass(e,t),setAriaSort:e=>{o.current&&(e?J._.setAriaSort(o.current,e):J._.removeAriaSort(o.current))},setUserCompDetails:e=>a(e),getUserCompInstance:()=>c.current||void 0},r.setComp(e,o.current,l.current,i.current),e=r.getSelectAllGui(),null!=(t=l.current))&&t.insertAdjacentElement("afterend",e)},[]),m=(Q.useLayoutEffect(()=>B(s,t,i.current,c),[s]),Q.useEffect(()=>{r.setDragSource(o.current)},[s]),Q.useMemo(()=>{return!!((null===s||void 0===s?void 0:s.componentFromFramework)&&re(s.componentClass))},[s])),p=s&&s.componentFromFramework,h=s&&s.componentClass;return ee.createElement("div",{ref:d,className:"ag-header-cell","col-id":e,role:"columnheader"},ee.createElement("div",{ref:l,className:"ag-header-cell-resize",role:"presentation"}),ee.createElement("div",{ref:i,className:"ag-header-cell-comp-wrapper",role:"presentation"},p&&m&&ee.createElement(h,Object.assign({},s.params)),p&&!m&&ee.createElement(h,Object.assign({},s.params,{ref:c}))))}),I=Q.memo(e=>{const t=Q.useContext(te)["context"],r=e["ctrl"],[n,s]=Q.useState(()=>new T),[a,o]=Q.useState(()=>new T),[l,i]=Q.useState("false"),[c,u]=Q.useState(),[d,m]=Q.useState();e=Q.useMemo(()=>r.getColId(),[]);const p=Q.useRef(null),h=Q.useRef(null),C=Q.useRef();var g=Q.useCallback(e=>{p.current=e,p.current&&(e={setWidth:e=>{p.current&&(p.current.style.width=e)},addOrRemoveCssClass:(t,r)=>s(e=>e.setClass(t,r)),setUserCompDetails:e=>m(e),setResizableDisplayed:t=>{o(e=>e.setClass("ag-hidden",!t)),i(t?"false":"true")},setAriaExpanded:e=>u(e),getUserCompInstance:()=>C.current||void 0},r.setComp(e,p.current,h.current))},[]),f=(Q.useLayoutEffect(()=>B(d,t,p.current),[d]),Q.useEffect(()=>{p.current&&r.setDragSource(p.current)},[d]),Q.useMemo(()=>{return!!((null===d||void 0===d?void 0:d.componentFromFramework)&&re(d.componentClass))},[d])),v=Q.useMemo(()=>"ag-header-group-cell "+n.toString(),[n]),R=Q.useMemo(()=>"ag-header-cell-resize "+a.toString(),[a]),w=d&&d.componentFromFramework,E=d&&d.componentClass;return ee.createElement("div",{ref:g,className:v,"col-id":e,role:"columnheader","aria-expanded":c},w&&f&&ee.createElement(E,Object.assign({},d.params)),w&&!f&&ee.createElement(E,Object.assign({},d.params,{ref:C})),ee.createElement("div",{ref:h,"aria-hidden":l,className:R}))});function ne(){J._.warnOnce("Using custom components without `reactiveCustomComponents = true` is deprecated.")}var A=Q.memo(e=>{const{context:t,gridOptionsService:r}=Q.useContext(te),[n,s]=Q.useState(()=>new T("ag-header-cell","ag-floating-filter")),[a,o]=Q.useState(()=>new T),[l,i]=Q.useState(()=>new T("ag-floating-filter-button","ag-hidden")),[c,u]=Q.useState("false"),[d,m]=Q.useState(),[,p]=Q.useState(1),h=Q.useRef(null),C=Q.useRef(null);var g=Q.useRef(null);const f=Q.useRef(null),v=Q.useRef(),R=Q.useRef(),w=e=>{null!=e&&v.current&&v.current(e)},E=e["ctrl"];var e=Q.useCallback(e=>{h.current=e,h.current&&(R.current=new J.AgPromise(e=>{v.current=e}),e={addOrRemoveCssClass:(t,r)=>s(e=>e.setClass(t,r)),addOrRemoveBodyCssClass:(t,r)=>o(e=>e.setClass(t,r)),setButtonWrapperDisplayed:t=>{i(e=>e.setClass("ag-hidden",!t)),u(t?"false":"true")},setWidth:e=>{h.current&&(h.current.style.width=e)},setCompDetails:e=>m(e),getFloatingFilterComp:()=>R.current||null,setMenuIcon:e=>{var t;return null==(t=f.current)?void 0:t.appendChild(e)}},E.setComp(e,h.current,f.current,C.current))},[]),y=(Q.useLayoutEffect(()=>B(d,t,C.current,w),[d]),Q.useMemo(()=>n.toString(),[n])),S=Q.useMemo(()=>a.toString(),[a]),P=Q.useMemo(()=>l.toString(),[l]),b=Q.useMemo(()=>{return!!(d&&d.componentFromFramework&&re(d.componentClass))},[d]);const M=Q.useMemo(()=>r.get("reactiveCustomComponents"),[]),O=Q.useMemo(()=>{if(d){var e;if(M)return e=new N(d.params,()=>p(e=>e+1)),w(e),e;d.componentFromFramework&&ne()}},[d]);var I=null===O||void 0===O?void 0:O.getProps(),A=d&&d.componentFromFramework,k=d&&d.componentClass;return ee.createElement("div",{ref:e,className:y,role:"gridcell"},ee.createElement("div",{ref:C,className:S,role:"presentation"},A&&!M&&ee.createElement(k,Object.assign({},d.params,{ref:b?()=>{}:w})),A&&M&&ee.createElement(F.Provider,{value:{setMethods:e=>O.setMethods(e)}},ee.createElement(k,Object.assign({},I)))),ee.createElement("div",{ref:g,"aria-hidden":c,className:P,role:"presentation"},ee.createElement("button",{ref:f,type:"button",className:"ag-button ag-floating-filter-button-button",tabIndex:-1})))}),k=Q.memo(e=>{const t=e["ctrl"],{topOffset:r,rowHeight:n}=Q.useMemo(()=>t.getTopAndHeight(),[]);var e=t.getAriaRowIndex(),s=t.getHeaderRowClass();const[a,o]=Q.useState(()=>n+"px"),[l,i]=Q.useState(()=>r+"px"),[c,u]=Q.useState(()=>t.getHeaderCtrls()),d=Q.useRef(null);var m=Q.useCallback(e=>{(d.current=e)&&(e={setHeight:e=>o(e),setTop:e=>i(e),setHeaderCtrls:(t,r,e)=>{D(e,()=>{u(e=>x(e,t,r))})},setWidth:e=>{d.current&&(d.current.style.width=e)}},t.setComp(e,!1))},[]),p=Q.useMemo(()=>({height:a,top:l}),[a,l]),h=Q.useCallback(e=>{switch(t.getType()){case J.HeaderRowType.COLUMN_GROUP:return ee.createElement(I,{ctrl:e,key:e.getInstanceId()});case J.HeaderRowType.FLOATING_FILTER:return ee.createElement(A,{ctrl:e,key:e.getInstanceId()});default:return ee.createElement(O,{ctrl:e,key:e.getInstanceId()})}},[]);return ee.createElement("div",{ref:m,className:s,role:"row",style:p,"aria-rowindex":e},c.map(h))}),g=Q.memo(t=>{const[e,r]=Q.useState(!0),[n,s]=Q.useState([]),a=Q.useContext(te)["context"],o=Q.useRef(null),l=Q.useRef(null),i=Q.useRef(null);var c="left"===t.pinned,u="right"===t.pinned,d=!c&&!u,m=Q.useCallback(e=>{o.current=e,o.current?(e={setDisplayed:r,setCtrls:e=>s(e),setCenterWidth:e=>{l.current&&(l.current.style.width=e)},setViewportScrollLeft:e=>{o.current&&(o.current.scrollLeft=e)},setPinnedContainerWidth:e=>{o.current&&(o.current.style.width=e,o.current.style.minWidth=e,o.current.style.maxWidth=e)}},i.current=a.createBean(new J.HeaderRowContainerCtrl(t.pinned)),i.current.setComp(e,o.current)):(a.destroyBean(i.current),i.current=null)},[]),p=e?"":"ag-hidden",h=()=>n.map(e=>ee.createElement(k,{ctrl:e,key:e.getInstanceId()}));return ee.createElement(ee.Fragment,null,c&&ee.createElement("div",{ref:m,className:"ag-pinned-left-header "+p,"aria-hidden":!e,role:"rowgroup"},h()),u&&ee.createElement("div",{ref:m,className:"ag-pinned-right-header "+p,"aria-hidden":!e,role:"rowgroup"},h()),d&&ee.createElement("div",{ref:m,className:"ag-header-viewport "+p,role:"presentation"},ee.createElement("div",{ref:l,className:"ag-header-container",role:"rowgroup"},h())))}),Z=Q.memo(()=>{const[e,n]=Q.useState(()=>new T),[t,r]=Q.useState(),s=Q.useContext(te)["context"],a=Q.useRef(null),o=Q.useRef(null);var l=Q.useCallback(e=>{(a.current=e)?(e={addOrRemoveCssClass:(t,r)=>n(e=>e.setClass(t,r)),setHeightAndMinHeight:e=>r(e)},o.current=s.createBean(new J.GridHeaderCtrl),o.current.setComp(e,a.current,a.current)):(s.destroyBean(o.current),o.current=null)},[]),i=Q.useMemo(()=>{return"ag-header "+e.toString()},[e]),c=Q.useMemo(()=>({height:t,minHeight:t}),[t]);return ee.createElement("div",{ref:l,className:i,style:c,role:"presentation"},ee.createElement(g,{pinned:"left"}),ee.createElement(g,{pinned:null}),ee.createElement(g,{pinned:"right"}))});const q=(n,s)=>{Q.useEffect(()=>{var e=s.current;if(e){const t=e.parentElement;if(t){const r=document.createComment(n);return t.insertBefore(r,e),()=>{t.removeChild(r)}}}},[n])};var se=Q.memo(c=>{const[e,u]=Q.useState(),{context:d,popupService:m,localeService:p,gridOptionsService:h}=Q.useContext(te);{var t=()=>{const{editDetails:e,cellCtrl:t,eParentCell:r}=c;var n=e["compDetails"],s=h.get("stopEditingWhenCellsLoseFocus");const a=d.createBean(new J.PopupEditorWrapper(n.params));var n=a.getGui(),o=(c.jsChildComp&&(o=c.jsChildComp.getGui())&&n.appendChild(o),{column:t.getColumn(),rowNode:t.getRowNode(),type:"popupCellEditor",eventSource:r,ePopup:n,position:e.popupPosition,keepWithinBounds:!0}),o=m.positionPopupByComponent.bind(m,o),l=p.getLocaleTextFunc(),s=m.addPopup({modal:s,eChild:n,closeOnEsc:!0,closedCallback:()=>{t.onPopupEditorClosed()},anchorToElement:r,positionCallback:o,ariaLabel:l("ariaLabelCellEditor","Cell Editor")});const i=s?s.hideFunc:void 0;return u(a),c.jsChildComp&&c.jsChildComp.afterGuiAttached&&c.jsChildComp.afterGuiAttached(),()=>{null!=i&&i(),d.destroyBean(a)}};const r=Q.useRef(t),n=Q.useRef(),s=Q.useRef(!1),a=Q.useRef(!1),[,o]=Q.useState(0);s.current&&(a.current=!0),Q.useEffect(()=>(s.current||(n.current=r.current(),s.current=!0),o(e=>e+1),()=>{a.current&&n.current&&n.current()}),[])}return ee.createElement(ee.Fragment,null,e&&c.wrappedContent&&l.createPortal(c.wrappedContent,e.getGui()))});class oe{constructor(e,t){this.cellEditorParams=e,this.refreshProps=t,this.instanceCreated=new J.AgPromise(e=>{this.resolveInstanceCreated=e}),this.onValueChange=e=>this.updateValue(e),this.value=e.value}getProps(){return Object.assign(Object.assign({},this.cellEditorParams),{initialValue:this.cellEditorParams.value,value:this.value,onValueChange:this.onValueChange})}getValue(){return this.value}refresh(e){this.cellEditorParams=e,this.refreshProps()}setMethods(e){i(this.getOptionalMethods(),e,this)}getInstance(){return this.instanceCreated.then(()=>this.componentInstance)}setRef(e){this.componentInstance=e,null!=(e=this.resolveInstanceCreated)&&e.call(this),this.resolveInstanceCreated=void 0}getOptionalMethods(){return["isPopup","isCancelBeforeStart","isCancelAfterEnd","getPopupPosition","focusIn","focusOut","afterGuiAttached"]}updateValue(e){this.value=e,this.refreshProps()}}const ae=(e,t,r)=>{var n=e.compProxy;return ee.createElement(ee.Fragment,null,!n&&ee.createElement(t,Object.assign({},e.compDetails.params,{ref:r})),n&&((e,t,r)=>{const n=e["compProxy"];r(n);e=n.getProps(),r=re(t);return ee.createElement(F.Provider,{value:{setMethods:e=>n.setMethods(e)}},r&&ee.createElement(t,Object.assign({},e)),!r&&ee.createElement(t,Object.assign({},e,{ref:e=>n.setRef(e)})))})(e,t,r))};var _=Q.memo(e=>{const s=Q.useContext(te)["context"],{cellCtrl:u,printLayout:r,editingRow:n}=e;var e=u.getTabIndex(),t=u.getColumnIdSanitised();const d=u.getInstanceId(),[m,a]=Q.useState(()=>u.isCellRenderer()?void 0:{compDetails:void 0,value:u.getValueToDisplay(),force:!1}),[p,o]=Q.useState(),[x,l]=Q.useState(1),[B,_]=Q.useState(),[i,j]=Q.useState(!1),[c,L]=Q.useState(!1),[h,U]=Q.useState(!1),[H,C]=Q.useState(),g=Q.useMemo(()=>u.isForceWrapper(),[u]);var W=Q.useMemo(()=>u.getCellAriaRole(),[u]);const f=Q.useRef(null),v=Q.useRef(null),R=Q.useRef(),w=Q.useRef(),E=Q.useRef(),y=Q.useRef([]),S=Q.useRef(),[V,K]=Q.useState(0),z=Q.useCallback(e=>{S.current=e,K(e=>e+1)},[]);var P=null!=m&&(i||h||c);const b=g||P,M=Q.useCallback((e,t)=>{if(w.current=t){var r=t,n=u,s=n.getColumn();if(!e&&r.isPopup&&r.isPopup()){const a=`AG Grid: Found an issue in column ${s.getColId()}. If using React, specify an editor is a popup using colDef.cellEditorPopup=true. AG Grid React cannot depend on the editor component specifying if it's in a popup (via the isPopup() method on the editor), as React needs to know this information BEFORE the component is created.`;J._.doOnce(()=>console.warn(a),"jsEditorComp-isPopup-"+n.getColumn().getColId())}if(e&&r.getPopupPosition&&null!=r.getPopupPosition()){const o=`AG Grid: Found an issue in column ${s.getColId()}. If using React, specify an editor popup position using colDef.cellEditorPopupPosition=true. AG Grid React cannot depend on the editor component specifying it's position (via the getPopupPosition() method on the editor), as React needs to know this information BEFORE the component is created.`;J._.doOnce(()=>console.warn(o),"jsEditorComp-getPopupPosition-"+n.getColumn().getColId())}t.isCancelBeforeStart&&t.isCancelBeforeStart()&&setTimeout(()=>{u.stopEditing(!0),u.focusCell(!0)})}},[u]),Y=Q.useCallback(e=>M(!0,e),[M]),$=Q.useCallback(e=>M(!1,e),[M]);let O=Q.useRef();O.current||(O.current=new J.CssClassManager(()=>f.current));{var I=m,A=b,k=S.current,F=(P=V,R),q=f;const N=Q.useContext(te)["context"],D=Q.useCallback(()=>{var e,t=F.current;t&&((e=t.getGui())&&e.parentElement&&e.parentElement.removeChild(e),N.destroyBean(t),F.current=void 0)},[]);Q.useEffect(()=>{var e=I&&I.compDetails&&!I.compDetails.componentFromFramework;if(null!=I&&e&&!(A&&null==k)){e=I.compDetails;if(F.current){const r=F.current;var t=null!=r.refresh&&0==I.force&&r.refresh(e.params);if(!0===t||void 0===t)return;D()}t=e.newAgStackInstance();if(t){const r=t.resolveNow(null,e=>e);r&&(e=r.getGui())&&((A?k:q.current).appendChild(e),F.current=r)}}else D()},[I,A,P]),Q.useEffect(()=>D,[])}const T=Q.useRef();Q.useLayoutEffect(()=>{var e=T.current,t=m;T.current=m,null!=e&&null!=e.compDetails&&null!=t&&null!=t.compDetails&&(e=e.compDetails,t=t.compDetails,e.componentClass==t.componentClass)&&null!=v.current&&null!=v.current.refresh&&1!=v.current.refresh(t.params)&&l(e=>e+1)},[m]),Q.useLayoutEffect(()=>{if(p&&!p.compDetails.componentFromFramework){var e=p.compDetails;const t=!0===p.popup,r=(e=>{e=e.newAgStackInstance();if(e)return e.resolveNow(null,e=>e)})(e);if(r){const n=r.getGui();return M(t,r),t||(null!=(e=(g?E:f).current)&&e.appendChild(n),r.afterGuiAttached&&r.afterGuiAttached()),C(r),()=>{s.destroyBean(r),M(t,void 0),C(void 0),n&&n.parentElement&&n.parentElement.removeChild(n)}}}},[p]);var P=Q.useCallback(e=>{E.current=e,E.current?(e=e=>{var t;if(e){const r=e.getGui();null!=(t=E.current)&&t.insertAdjacentElement("afterbegin",r),y.current.push(()=>{s.destroyBean(e),J._.removeFromParent(r)})}return e},i&&e(u.createSelectionCheckbox()),h&&e(u.createDndSource()),c&&e(u.createRowDragComp())):(y.current.forEach(e=>e()),y.current=[])},[u,s,h,c,i]),Z=Q.useCallback(e=>{var t;f.current=e,f.current&&u&&(e={addOrRemoveCssClass:(e,t)=>O.current.addOrRemoveCssClass(e,t),setUserStyles:e=>_(e),getFocusableElement:()=>f.current,setIncludeSelection:e=>j(e),setIncludeRowDrag:e=>L(e),setIncludeDndSource:e=>U(e),getCellEditor:()=>w.current||null,getCellRenderer:()=>v.current||R.current,getParentOfValue:()=>S.current||E.current||f.current,setRenderDetails:(t,r,n)=>{a(e=>(null==e?void 0:e.compDetails)!==t||(null==e?void 0:e.value)!==r||(null==e?void 0:e.force)!==n?{value:r,compDetails:t,force:n}:e)},setEditDetails:(t,r,n,s)=>{if(t){let e=void 0;s?e=new oe(t.params,()=>l(e=>e+1)):t.componentFromFramework&&ne(),o({compDetails:t,popup:r,popupPosition:n,compProxy:e}),r||a(void 0)}else o(e=>{null!=e&&e.compProxy&&(w.current=void 0)})}},t=E.current||void 0,u.setComp(e,f.current,t,r,n))},[]);const X=Q.useMemo(()=>{return!!(m&&m.compDetails&&m.compDetails.componentFromFramework&&re(m.compDetails.componentClass))},[m]);Q.useLayoutEffect(()=>{var e;f.current&&(O.current.addOrRemoveCssClass("ag-cell-value",!b),O.current.addOrRemoveCssClass("ag-cell-inline-editing",!!p&&!p.popup),O.current.addOrRemoveCssClass("ag-cell-popup-editing",!!p&&!!p.popup),O.current.addOrRemoveCssClass("ag-cell-not-inline-editing",!p||!!p.popup),null!=(e=u.getRowCtrl())&&e.setInlineEditingCss(!!p),u.shouldRestoreFocus())&&!u.isEditing()&&f.current.focus({preventScroll:!0})});var G=()=>{return ee.createElement(ee.Fragment,null,null!=m&&((e,t,r,n,s,a,o)=>{const{compDetails:l,value:i}=e,c=!l,u=l&&l.componentFromFramework,d=l&&l.componentClass,m=null!=i&&i.toString?i.toString():i;e=()=>ee.createElement(ee.Fragment,null,c&&ee.createElement(ee.Fragment,null,m),u&&!a&&ee.createElement(d,Object.assign({},l.params,{key:t,ref:n})),u&&a&&ee.createElement(d,Object.assign({},l.params,{key:t})));return ee.createElement(ee.Fragment,null,s?ee.createElement("span",{role:"presentation",id:"cell-"+r,className:"ag-cell-value",ref:o},e()):e())})(m,x,d,v,b,X,z),null!=p&&(e=p,t=$,r=Y,n=f.current,s=u,a=H,o=e.compDetails,l=o.componentClass,i=o.componentFromFramework&&!e.popup,c=o.componentFromFramework&&e.popup,o=!o.componentFromFramework&&e.popup,ee.createElement(ee.Fragment,null,i&&ae(e,l,t),c&&ee.createElement(se,{editDetails:e,cellCtrl:s,eParentCell:n,wrappedContent:ae(e,l,r)}),o&&a&&ee.createElement(se,{editDetails:e,cellCtrl:s,eParentCell:n,jsChildComp:a}))));var e,t,r,n,s,a,o,l,i,c};return ee.createElement("div",{ref:Z,style:B,tabIndex:e,role:W,"col-id":t},b?ee.createElement("div",{className:"ag-cell-wrapper",role:"presentation",ref:P},G()):G())}),j=Q.memo(e=>{const{context:t,gridOptionsService:r}=Q.useContext(te),{rowCtrl:n,containerType:s}=e;e=n.getTabIndex();const a=Q.useRef(n.getDomOrder());var o=n.isFullWidth();const l=n.getRowNode().displayed,[i,c]=Q.useState(()=>l?n.getRowIndex():null),[u,d]=Q.useState(()=>n.getRowId()),[m,p]=Q.useState(()=>n.getBusinessKey()),[h,C]=Q.useState(()=>n.getRowStyles()),[g,f]=Q.useState(()=>null),[v,R]=Q.useState(),[w,E]=Q.useState(()=>l?n.getInitialRowTop(s):void 0),[y,S]=Q.useState(()=>l?n.getInitialTransform(s):void 0),P=Q.useRef(null),b=Q.useRef(),M=Q.useRef(!1),[O,I]=Q.useState(0);Q.useEffect(()=>{var e;M.current||!v||10<O||((e=null==(e=P.current)?void 0:e.firstChild)?(n.setupDetailRowAutoHeight(e),M.current=!0):I(e=>e+1))},[v,O]);let A=Q.useRef();A.current||(A.current=new J.CssClassManager(()=>P.current));var k=Q.useCallback(e=>{P.current=e,P.current?n.isAlive()&&(e={setTop:E,setTransform:S,addOrRemoveCssClass:(e,t)=>A.current.addOrRemoveCssClass(e,t),setDomOrder:e=>a.current=e,setRowIndex:c,setRowId:d,setRowBusinessKey:p,setUserStyles:C,setCellCtrls:(t,e)=>{D(e,()=>{f(e=>x(e,t,a.current))})},showFullWidth:e=>R(e),getFullWidthCellRenderer:()=>b.current,refreshFullWidth:t=>N.current?(R(e=>Object.assign(Object.assign({},e),{params:t()})),!0):!(!b.current||!b.current.refresh)&&b.current.refresh(t())},n.setComp(e,P.current,s)):n.unsetComp(s)},[]),F=(Q.useLayoutEffect(()=>B(v,t,P.current,b),[v]),Q.useMemo(()=>{var e={top:w,transform:y};return Object.assign(e,h),e},[w,y,h])),T=o&&v&&v.componentFromFramework,o=!o&&null!=g;const G=Q.useMemo(()=>{return!!((null===v||void 0===v?void 0:v.componentFromFramework)&&re(v.componentClass))},[v]),N=Q.useRef(!1);Q.useEffect(()=>{N.current=G&&!!v&&!!r.get("reactiveCustomComponents")},[G,v]);return ee.createElement("div",{ref:k,role:"row",style:F,"row-index":i,"row-id":u,"row-business-key":m,tabIndex:e},o&&(null===g||void 0===g?void 0:g.map(e=>ee.createElement(_,{cellCtrl:e,editingRow:n.isEditing(),printLayout:n.isPrintLayout(),key:e.getInstanceId()}))),T&&(k=v.componentClass,ee.createElement(ee.Fragment,null,G&&ee.createElement(k,Object.assign({},v.params)),!G&&ee.createElement(k,Object.assign({},v.params,{ref:b})))))}),X=Q.memo(e=>{const t=Q.useContext(te)["context"],n=e["name"],r=Q.useMemo(()=>J.getRowContainerTypeForName(n),[n]),s=Q.useRef(null),a=Q.useRef(null),o=Q.useRef([]),[l,i]=Q.useState(()=>[]),c=Q.useRef(!1),u=Q.useRef(),d=Q.useMemo(()=>J.RowContainerCtrl.getRowContainerCssClasses(n),[n]);e=Q.useMemo(()=>$(d.viewport),[d]);const m=Q.useMemo(()=>$(d.container),[d]),p=n===J.RowContainerName.CENTER||n===J.RowContainerName.TOP_CENTER||n===J.RowContainerName.BOTTOM_CENTER||n===J.RowContainerName.STICKY_TOP_CENTER;var h=p?s:a;q(" AG Row Container "+n+" ",h);const C=Q.useCallback(()=>(!p||null!=s.current)&&null!=a.current,[]),g=Q.useCallback(()=>(!p||null==s.current)&&null==a.current,[]),f=Q.useCallback(()=>{if(g()&&(t.destroyBean(u.current),u.current=null),C()){const r=e=>{D(e,()=>{i(e=>x(e,o.current,c.current))})};var e={setViewportHeight:e=>{s.current&&(s.current.style.height=e)},setRowCtrls:({rowCtrls:e,useFlushSync:t})=>{t=!!t&&0<o.current.length&&0<e.length;o.current=e,r(t)},setDomOrder:e=>{c.current!=e&&(c.current=e,r(!1))},setContainerWidth:e=>{a.current&&(a.current.style.width=e)}};u.current=t.createBean(new J.RowContainerCtrl(n)),u.current.setComp(e,a.current,s.current)}},[C,g]),v=Q.useCallback(e=>{a.current=e,f()},[f]);var h=Q.useCallback(e=>{s.current=e,f()},[f]),R=()=>ee.createElement("div",{className:m,ref:v,role:"rowgroup"},l.map(e=>ee.createElement(j,{rowCtrl:e,containerType:r,key:e.getInstanceId()})));return ee.createElement(ee.Fragment,null,p?ee.createElement("div",{className:e,ref:h,role:"presentation"},R()):R())}),L=Q.memo(()=>{const{context:r,agStackComponentsRegistry:n,resizeObserverService:s}=Q.useContext(te),[e,a]=Q.useState(""),[t,o]=Q.useState(0),[l,i]=Q.useState(0),[c,u]=Q.useState("0px"),[d,m]=Q.useState("0px"),[p,h]=Q.useState("100%"),[C,g]=Q.useState(""),[f,v]=Q.useState(""),[R,w]=Q.useState(null),[E,y]=Q.useState(""),[S,P]=Q.useState(null),[b,x]=Q.useState("ag-layout-normal");let M=Q.useRef();M.current||(M.current=new J.CssClassManager(()=>O.current));const O=Q.useRef(null),I=Q.useRef(null),A=Q.useRef(null),k=Q.useRef(null),F=Q.useRef(null),T=Q.useRef(null),G=Q.useRef([]),N=Q.useRef([]);q(" AG Grid Body ",O),q(" AG Pinned Top ",I),q(" AG Sticky Top ",A),q(" AG Middle ",F),q(" AG Pinned Bottom ",T);var B=Q.useCallback(e=>{var t;O.current=e,O.current?r&&(e=e=>{e=n.getComponentClass(e),e=r.createBean(new e);return G.current.push(e),e},(t=(e,t)=>{e.appendChild(t),N.current.push(()=>e.removeChild(t))})(O.current,document.createComment(" AG Fake Horizontal Scroll ")),t(O.current,e("AG-FAKE-HORIZONTAL-SCROLL").getGui()),t(O.current,document.createComment(" AG Overlay Wrapper ")),t(O.current,e("AG-OVERLAY-WRAPPER").getGui()),k.current&&(t(k.current,document.createComment(" AG Fake Vertical Scroll ")),t(k.current,e("AG-FAKE-VERTICAL-SCROLL").getGui())),t={setRowAnimationCssOnBodyViewport:a,setColumnCount:e=>{O.current&&J._.setAriaColCount(O.current,e)},setRowCount:e=>{O.current&&J._.setAriaRowCount(O.current,e)},setTopHeight:o,setBottomHeight:i,setStickyTopHeight:u,setStickyTopTop:m,setStickyTopWidth:h,setTopDisplay:g,setBottomDisplay:v,setColumnMovingCss:(e,t)=>M.current.addOrRemoveCssClass(e,t),updateLayoutClasses:x,setAlwaysVerticalScrollClass:w,setPinnedTopBottomOverflowY:y,setCellSelectableCss:(e,t)=>P(t?e:null),setBodyViewportWidth:e=>{F.current&&(F.current.style.width=e)},registerBodyViewportResizeListener:e=>{if(F.current){const t=s.observeResize(F.current,e);N.current.push(()=>t())}}},e=r.createBean(new J.GridBodyCtrl),G.current.push(e),e.setComp(t,O.current,F.current,I.current,T.current,A.current)):(r.destroyBeans(G.current),N.current.forEach(e=>e()),G.current=[],N.current=[])},[]),_=Q.useMemo(()=>$("ag-root","ag-unselectable",b),[b]),j=Q.useMemo(()=>$("ag-body-viewport",e,b,R,S),[e,b,R,S]),L=Q.useMemo(()=>$("ag-body",b),[b]),U=Q.useMemo(()=>$("ag-floating-top",S),[S]),H=Q.useMemo(()=>$("ag-sticky-top",S),[S]),W=Q.useMemo(()=>$("ag-floating-bottom",S),[S]),V=Q.useMemo(()=>({height:t,minHeight:t,display:C,overflowY:E}),[t,C,E]),K=Q.useMemo(()=>({height:c,top:d,width:p}),[c,d,p]),z=Q.useMemo(()=>({height:l,minHeight:l,display:f,overflowY:E}),[l,f,E]);const Y=e=>ee.createElement(X,{name:e,key:e+"-container"});var D=({section:e,children:t,className:r,style:n})=>ee.createElement("div",{ref:e,className:r,role:"presentation",style:n},t.map(Y));return ee.createElement("div",{ref:B,className:_,role:"treegrid"},ee.createElement(Z,null),D({section:I,className:U,style:V,children:[J.RowContainerName.TOP_LEFT,J.RowContainerName.TOP_CENTER,J.RowContainerName.TOP_RIGHT,J.RowContainerName.TOP_FULL_WIDTH]}),ee.createElement("div",{className:L,ref:k,role:"presentation"},D({section:F,className:j,children:[J.RowContainerName.LEFT,J.RowContainerName.CENTER,J.RowContainerName.RIGHT,J.RowContainerName.FULL_WIDTH]})),D({section:A,className:H,style:K,children:[J.RowContainerName.STICKY_TOP_LEFT,J.RowContainerName.STICKY_TOP_CENTER,J.RowContainerName.STICKY_TOP_RIGHT,J.RowContainerName.STICKY_TOP_FULL_WIDTH]}),D({section:T,className:W,style:z,children:[J.RowContainerName.BOTTOM_LEFT,J.RowContainerName.BOTTOM_CENTER,J.RowContainerName.BOTTOM_RIGHT,J.RowContainerName.BOTTOM_FULL_WIDTH]}))}),f=Q.forwardRef((e,t)=>{const{children:r,eFocusableElement:n,onTabKeyDown:s,gridCtrl:a,forceFocusOutWhenTabGuardsAreEmpty:o}=e,l=Q.useContext(te)["context"],i=Q.useRef(null),c=Q.useRef(null),u=Q.useRef(),d=e=>{const r=null==e?void 0:parseInt(e,10).toString();[i,c].forEach(e=>{var t;void 0===r?null!=(t=e.current)&&t.removeAttribute("tabindex"):null!=(t=e.current)&&t.setAttribute("tabindex",r)})},m=(Q.useImperativeHandle(t,()=>({forceFocusOutOfContainer(e){var t;null!=(t=u.current)&&t.forceFocusOutOfContainer(e)}})),Q.useCallback(()=>{var e;i.current||c.current?i.current&&c.current&&(e={setTabIndex:d},u.current=l.createBean(new J.TabGuardCtrl({comp:e,eTopGuard:i.current,eBottomGuard:c.current,eFocusableElement:n,onTabKeyDown:s,forceFocusOutWhenTabGuardsAreEmpty:o,focusInnerElement:e=>a.focusInnerElement(e)}))):(l.destroyBean(u.current),u.current=null)},[])),p=Q.useCallback(e=>{i.current=e,m()},[m]),h=Q.useCallback(e=>{c.current=e,m()},[m]);e=e=>{var t="top"===e?J.TabGuardClassNames.TAB_GUARD_TOP:J.TabGuardClassNames.TAB_GUARD_BOTTOM;return ee.createElement("div",{className:J.TabGuardClassNames.TAB_GUARD+" "+t,role:"presentation",ref:"top"===e?p:h})};return ee.createElement(ee.Fragment,null,e("top"),r,e("bottom"))}),U=Q.memo(f),H=Q.memo(({context:u})=>{const[e,r]=Q.useState(""),[t,,]=Q.useState(""),[n,s]=Q.useState(""),[a,o]=Q.useState(null),[l,i]=Q.useState(null),[c,d]=Q.useState(!1),[m,p]=Q.useState(),h=Q.useRef(null),C=Q.useRef(null),g=Q.useRef(),[f,v]=Q.useState(null),R=Q.useRef(()=>{});var w=Q.useCallback(()=>{},[]);const E=Q.useMemo(()=>u.isDestroyed()?null:u.getBean("beans"),[u]);q(" AG Grid ",C);var y=Q.useCallback(e=>{var t;C.current=e,C.current?u.isDestroyed()||(h.current=u.createBean(new J.GridCtrl),e=h.current,R.current=e.focusInnerElement.bind(e),t={destroyGridUi:()=>{},setRtlClass:r,forceFocusOutOfContainer:e=>{var t;null!=(t=g.current)&&t.forceFocusOutOfContainer(e)},updateLayoutClasses:s,getFocusableContainers:()=>{var e=[],t=null==(t=C.current)?void 0:t.querySelector(".ag-root"),r=null==(r=C.current)?void 0:r.querySelector(".ag-side-bar:not(.ag-hidden)");return t&&e.push(t),r&&e.push(r),e},setCursor:o,setUserSelect:i},e.setComp(t,C.current,C.current),d(!0)):(u.destroyBean(h.current),h.current=null)},[]),S=(Q.useEffect(()=>{if(m&&E&&h.current&&f&&C.current){var e=h.current;const i=[];var t=E["agStackComponentsRegistry"],r=t.getComponentClass("AG-GRID-HEADER-DROP-ZONES"),n=t.getComponentClass("AG-SIDE-BAR"),s=t.getComponentClass("AG-STATUS-BAR"),a=t.getComponentClass("AG-WATERMARK"),t=t.getComponentClass("AG-PAGINATION");const c=[];var o,l=C.current;return e.showDropZones()&&r&&(o=(r=u.createBean(new r)).getGui(),l.insertAdjacentElement("afterbegin",o),c.push(o),i.push(r)),e.showSideBar()&&n&&(r=(o=u.createBean(new n)).getGui(),(n=f.querySelector(".ag-tab-guard-bottom"))&&(n.insertAdjacentElement("beforebegin",r),c.push(r)),i.push(o)),e.showStatusBar()&&s&&(r=(n=u.createBean(new s)).getGui(),l.insertAdjacentElement("beforeend",r),c.push(r),i.push(n)),t&&(s=(o=u.createBean(new t)).getGui(),l.insertAdjacentElement("beforeend",s),c.push(s),i.push(o)),e.showWatermark()&&a&&(n=(r=u.createBean(new a)).getGui(),l.insertAdjacentElement("beforeend",n),c.push(n),i.push(r)),()=>{u.destroyBeans(i),c.forEach(e=>{e.parentElement&&e.parentElement.removeChild(e)})}}},[m,f,E]),Q.useMemo(()=>$("ag-root-wrapper",e,t,n),[e,t,n])),P=Q.useMemo(()=>$("ag-root-wrapper-body","ag-focus-managed",n),[n]),b=Q.useMemo(()=>({userSelect:null!=l?l:"",WebkitUserSelect:null!=l?l:"",cursor:null!=a?a:""}),[l,a]),M=Q.useCallback(e=>{g.current=e,p(null!==e)},[]);return ee.createElement("div",{ref:y,className:S,style:b,role:"presentation"},ee.createElement("div",{className:P,ref:v,role:"presentation"},c&&f&&E&&ee.createElement(te.Provider,{value:E},ee.createElement(U,{ref:M,eFocusableElement:f,onTabKeyDown:w,gridCtrl:h.current,forceFocusOutWhenTabGuardsAreEmpty:!0},ee.createElement(L,null)))))});const S=n=>{const s=Q.useRef(),a=Q.useRef(null),o=Q.useRef(null),l=Q.useRef([]),i=Q.useRef([]),t=Q.useRef(n),c=Q.useRef(!1),[e,u]=Q.useState(void 0),[,d]=Q.useState(0);var r=Q.useCallback(e=>{var t,r;a.current=e,a.current?(e=n.modules||[],o.current||(o.current=new h(()=>d(e=>e+1),n.componentWrappingElement,n.maxComponentCreationTimeMs),l.current.push(()=>{var e;null!=(e=o.current)&&e.destroy(),o.current=null})),t=J.ComponentUtil.combineAttributesAndGridOptions(n.gridOptions,n),e={providedBeanInstances:{frameworkComponentWrapper:new W(o.current,!!t.reactiveCustomComponents)},modules:e,frameworkOverrides:new K},r=new J.GridCoreCreator,s.current=r.create(a.current,t,t=>{u(t),l.current.push(()=>{t.destroy()}),t.getBean(J.CtrlsService.NAME).whenReady(()=>{var e;t.isDestroyed()||(e=s.current)&&n.setGridApi&&n.setGridApi(e,new J.ColumnApi(e))})},e=>{e.getBean(J.CtrlsService.NAME).whenReady(()=>{i.current.forEach(e=>e()),i.current.length=0,c.current=!0})},e)):(l.current.forEach(e=>e()),l.current.length=0)},[]),m=Q.useMemo(()=>Object.assign({height:"100%"},n.containerStyle||{}),[n.containerStyle]);const p=Q.useCallback(e=>{c.current?e():i.current.push(e)},[]);return Q.useEffect(()=>{const e=function(r,n){const s={};return Object.keys(n).forEach(e=>{var t=n[e];r[e]!==t&&(s[e]=t)}),s}(t.current,n);t.current=n,p(()=>{s.current&&J.ComponentUtil.processOnChange(e,s.current)})},[n]),ee.createElement("div",{style:m,className:n.className,ref:r},e&&!e.isDestroyed()?ee.createElement(H,{context:e}):null,null!=(r=null==(m=o.current)?void 0:m.getPortals())?r:null)};class W extends J.BaseComponentWrapper{constructor(e,t){super(),this.parent=e,this.reactiveCustomComponents=t}createWrapper(e,t){if(this.reactiveCustomComponents){var r=(e=>{switch(e){case"filter":return d;case"floatingFilterComponent":return R;case"dateComponent":return u;case"loadingOverlayComponent":return w;case"noRowsOverlayComponent":return y;case"statusPanel":return P;case"toolPanel":return b;case"menuItem":return E}})(t.propertyName);if(r)return new r(e,this.parent,t)}else switch(t.propertyName){case"filter":case"floatingFilterComponent":case"dateComponent":case"loadingOverlayComponent":case"noRowsOverlayComponent":case"statusPanel":case"toolPanel":case"menuItem":ne()}r=!t.cellRenderer&&"toolPanel"!==t.propertyName;return new o(e,this.parent,t,r)}}const V=Q.forwardRef((r,e)=>{const{ctrlsFactory:n,context:s,gridOptionsService:a,resizeObserverService:o,clientSideRowModel:l,serverSideRowModel:i}=Q.useContext(te),[t,c]=Q.useState(()=>new T),[u,d]=Q.useState(()=>new T),[m,p]=Q.useState(),[h,C]=Q.useState(),g=Q.useRef(),f=Q.useRef(null),v=Q.useRef();var R=Q.useMemo(()=>J.ModuleRegistry.__getGridRegisteredModules(r.api.getGridId()),[r]),w=Q.useMemo(()=>t.toString()+" ag-details-row",[t]),E=Q.useMemo(()=>u.toString()+" ag-details-grid",[u]),e=(e&&Q.useImperativeHandle(e,()=>({refresh(){var e;return null!=(e=null==(e=g.current)?void 0:e.refresh())&&e}})),r.template&&J._.warnOnce("detailCellRendererParams.template is not supported by AG Grid React. To change the template, provide a Custom Detail Cell Renderer. See https://ag-grid.com/react-data-grid/master-detail-custom-detail/"),Q.useCallback(e=>{var t;f.current=e,f.current?(e={addOrRemoveCssClass:(t,r)=>c(e=>e.setClass(t,r)),addOrRemoveDetailGridCssClass:(t,r)=>d(e=>e.setClass(t,r)),setDetailGrid:e=>p(e),setRowData:e=>C(e),getGui:()=>f.current},(t=n.getInstance("detailCellRenderer"))&&(s.createBean(t),t.init(e,r),g.current=t,a.get("detailRowAutoHeight"))&&(e=()=>{if(null!=f.current){const e=f.current.clientHeight;null!=e&&0<e&&setTimeout(()=>{r.node.setRowHeight(e),l?l.onRowHeightChanged():i&&i.onRowHeightChanged()},0)}},v.current=o.observeResize(f.current,e),e())):(s.destroyBean(g.current),v.current&&v.current())},[])),y=Q.useCallback((e,t)=>{var r;null!=(r=g.current)&&r.registerDetailWithMaster(e,t)},[]);return ee.createElement("div",{className:w,ref:e},m&&ee.createElement(S,Object.assign({className:E},m,{modules:R,rowData:h,setGridApi:y})))});class K extends J.VanillaFrameworkOverrides{constructor(){super("react"),this.frameworkComponents={agGroupCellRenderer:G,agGroupRowRenderer:G,agDetailCellRenderer:V},this.wrapIncoming=(e,t)=>{return("ensureVisible"===t?(t=e,p||setTimeout(()=>p=!1,0),p=!0,t):e)()},this.renderingEngine="react"}frameworkComponent(e){return this.frameworkComponents[e]}isFrameworkComponent(e){return!(!e||(e=e.prototype)&&"getGui"in e)}}class z extends Q.Component{constructor(){super(...arguments),this.apiListeners=[],this.setGridApi=(t,e)=>{this.api=t,this.columnApi=e,this.apiListeners.forEach(e=>e(t))}}registerApiListener(e){this.apiListeners.push(e)}componentWillUnmount(){this.apiListeners.length=0}render(){return ee.createElement(S,Object.assign({},this.props,{setGridApi:this.setGridApi}))}}function v(e){var t=Q.useContext(F)["setMethods"];t(e)}(f=e.ChangeDetectionStrategyType||(e.ChangeDetectionStrategyType={})).IdentityCheck="IdentityCheck",f.DeepValueCheck="DeepValueCheck",f.NoCheck="NoCheck",e.AgGridReact=z,e.useGridCellEditor=function(e){v(e)},e.useGridDate=v,e.useGridFilter=v,e.useGridFloatingFilter=function(e){v(e)},e.useGridMenuItem=function(e){v(e)},e.getInstance=function(e,t){var r;(null!=(r=null==(r=null==(e=e)?void 0:e.getInstance)?void 0:r.call(e))?r:J.AgPromise.resolve(void 0)).then(e=>t(e))},e.warnReactiveCustomComponents=ne,Object.defineProperty(e,"__esModule",{value:!0})});
