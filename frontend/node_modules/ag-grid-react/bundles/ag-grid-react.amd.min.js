define(["exports","react-dom/server","react-dom","agGrid","react"],function(e,M,s,X,J){"use strict";var b="default"in s?s.default:s,Q="default"in J?J.default:J,I=function(e,t){return(I=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}))(e,t)};function t(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}I(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var ee=function(){return(ee=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function l(e,t,n){if(n||2===arguments.length)for(var r,o=0,u=t.length;o<u;o++)!r&&o in t||((r=r||Array.prototype.slice.call(t,0,o))[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))}var F=J.createContext({setMethods:function(){}}),A=J.memo(function(e){var t=e.initialProps,n=e.addUpdateCallback,r=e.CustomComponentClass,e=e.setMethods,t=J.useState(t),o=t[0],u=t[1];return J.useEffect(function(){n(function(e){return u(e)})},[]),Q.createElement(F.Provider,{value:{setMethods:e}},Q.createElement(r,ee({},o)))}),k=0;function O(){return"agPortalKey_"+ ++k}n.prototype.getGui=function(){return this.eParentElement},n.prototype.getRootElement=function(){return this.eParentElement.firstChild},n.prototype.destroy=function(){return this.componentInstance&&"function"==typeof this.componentInstance.destroy&&this.componentInstance.destroy(),this.portalManager.destroyPortal(this.portal)},n.prototype.createParentElement=function(e){var t=this.portalManager.getComponentWrappingElement(),t=document.createElement(t||"div");return t.classList.add("ag-react-container"),e.reactContainer=t},n.prototype.addParentContainerStyleAndClasses=function(){var t=this;this.componentInstance&&(this.componentInstance.getReactContainerStyle&&this.componentInstance.getReactContainerStyle()&&(X._.warnOnce('Since v31.1 "getReactContainerStyle" is deprecated. Apply styling directly to ".ag-react-container" if needed.'),Object.assign(this.eParentElement.style,this.componentInstance.getReactContainerStyle())),this.componentInstance.getReactContainerClasses)&&this.componentInstance.getReactContainerClasses()&&(X._.warnOnce('Since v31.1 "getReactContainerClasses" is deprecated. Apply styling directly to ".ag-react-container" if needed.'),this.componentInstance.getReactContainerClasses().forEach(function(e){return t.eParentElement.classList.add(e)}))},n.prototype.statelessComponentRendered=function(){return 0<this.eParentElement.childElementCount||0<this.eParentElement.childNodes.length},n.prototype.getFrameworkComponentInstance=function(){return this.componentInstance},n.prototype.isStatelessComponent=function(){return this.statelessComponent},n.prototype.getReactComponentName=function(){return this.reactComponent.name},n.prototype.getMemoType=function(){return this.hasSymbol()?Symbol.for("react.memo"):60115},n.prototype.hasSymbol=function(){return"function"==typeof Symbol&&Symbol.for},n.prototype.isStateless=function(e){return"function"==typeof e&&!(e.prototype&&e.prototype.isReactComponent)||"object"==typeof e&&e.$$typeof===this.getMemoType()},n.prototype.hasMethod=function(e){var t=this.getFrameworkComponentInstance();return!!t&&null!=t[e]||this.fallbackMethodAvailable(e)},n.prototype.callMethod=function(e,t){var n,r=this,o=this.getFrameworkComponentInstance();return this.isStatelessComponent()?this.fallbackMethod(e,t&&t[0]?t[0]:{}):o?(n=o[e])?n.apply(o,t):this.fallbackMethodAvailable(e)?this.fallbackMethod(e,t&&t[0]?t[0]:{}):void 0:void setTimeout(function(){return r.callMethod(e,t)})},n.prototype.addMethod=function(e,t){this[e]=t},n.prototype.init=function(e){var t=this;return this.eParentElement=this.createParentElement(e),this.params=e,this.createOrUpdatePortal(e),new X.AgPromise(function(e){return t.createReactComponent(e)})},n.prototype.createOrUpdatePortal=function(e){var t=this;this.isStatelessComponent()||(this.ref=function(e){t.componentInstance=e,t.addParentContainerStyleAndClasses(),null!=(e=t.resolveInstanceCreated)&&e.call(t,!0),t.resolveInstanceCreated=void 0},e.ref=this.ref),this.reactElement=this.createElement(this.reactComponent,ee(ee({},e),{key:this.key})),this.portal=s.createPortal(this.reactElement,this.eParentElement,this.portalKey)},n.prototype.createElement=function(e,t){return J.createElement(e,t)},n.prototype.createReactComponent=function(t){this.portalManager.mountReactPortal(this.portal,this,function(e){t(e)})},n.prototype.isNullValue=function(){return this.valueRenderedIsNull(this.params)},n.prototype.rendered=function(){return this.isStatelessComponent()&&this.statelessComponentRendered()||!(this.isStatelessComponent()||!this.getFrameworkComponentInstance())},n.prototype.valueRenderedIsNull=function(e){if(this.componentType.cellRenderer){var t=console.error;try{return console.error=function(){},""===M.renderToStaticMarkup(J.createElement(this.reactComponent,e))}catch(e){}finally{console.error=t}}return!1},n.prototype.refreshComponent=function(e){this.oldPortal=this.portal,this.createOrUpdatePortal(e),this.portalManager.updateReactPortal(this.oldPortal,this.portal)},n.prototype.fallbackMethod=function(e,t){e=this[e+"Component"];if(!this.suppressFallbackMethods&&e)return e.bind(this)(t)},n.prototype.fallbackMethodAvailable=function(e){return!this.suppressFallbackMethods&&!!this[e+"Component"]};var G=n;function n(e,t,n,r){var o=this;this.portal=null,this.oldPortal=null,this.reactComponent=e,this.portalManager=t,this.componentType=n,this.suppressFallbackMethods=!!r,this.statelessComponent=this.isStateless(this.reactComponent),this.key=O(),this.portalKey=O(),this.instanceCreated=this.isStatelessComponent()?X.AgPromise.resolve(!1):new X.AgPromise(function(e){o.resolveInstanceCreated=e})}function N(e,n,r){e.forEach(function(e){var t=n[e];t&&(r[e]=t)})}t(u,r=G),u.prototype.init=function(e){return this.sourceParams=e,r.prototype.init.call(this,this.getProps())},u.prototype.addMethod=function(){},u.prototype.getInstance=function(){var e=this;return this.instanceCreated.then(function(){return e.componentInstance})},u.prototype.getFrameworkComponentInstance=function(){return this},u.prototype.createElement=function(e,t){var n=this;return r.prototype.createElement.call(this,this.wrapperComponent,{initialProps:t,CustomComponentClass:e,setMethods:function(e){return n.setMethods(e)},addUpdateCallback:function(e){n.updateCallback=function(){return e(n.getProps()),new X.AgPromise(function(e){setTimeout(function(){e()})})},n.resolveUpdateCallback()}})},u.prototype.setMethods=function(e){this.providedMethods=e,N(this.getOptionalMethods(),this.providedMethods,this)},u.prototype.getOptionalMethods=function(){return[]},u.prototype.getProps=function(){return ee(ee({},this.sourceParams),{key:this.key,ref:this.ref})},u.prototype.refreshProps=function(){var t=this;return this.updateCallback?this.updateCallback():new X.AgPromise(function(e){return t.awaitUpdateCallback.then(function(){t.updateCallback().then(function(){return e()})})})};var r,o=u;function u(){var t=null!==r&&r.apply(this,arguments)||this;return t.awaitUpdateCallback=new X.AgPromise(function(e){t.resolveUpdateCallback=e}),t.wrapperComponent=A,t}t(i,a=o),i.prototype.getDate=function(){return this.date},i.prototype.setDate=function(e){this.date=e,this.refreshProps()},i.prototype.refresh=function(e){this.sourceParams=e,this.refreshProps()},i.prototype.getOptionalMethods=function(){return["afterGuiAttached","setInputPlaceholder","setInputAriaLabel","setDisabled"]},i.prototype.updateDate=function(e){this.setDate(e),this.sourceParams.onDateChanged()},i.prototype.getProps=function(){var e=a.prototype.getProps.call(this);return e.date=this.date,e.onDateChange=this.onDateChange,delete e.onDateChanged,e};var a,x=i;function i(){var t=null!==a&&a.apply(this,arguments)||this;return t.date=null,t.onDateChange=function(e){return t.updateDate(e)},t}t(p,c=o),p.prototype.isFilterActive=function(){return null!=this.model},p.prototype.doesFilterPass=function(e){return this.providedMethods.doesFilterPass(e)},p.prototype.getModel=function(){return this.model},p.prototype.setModel=function(e){return this.model=e,this.refreshProps()},p.prototype.refresh=function(e){return this.sourceParams=e,this.refreshProps(),!0},p.prototype.getOptionalMethods=function(){return["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onAnyFilterChanged"]},p.prototype.updateModel=function(e){var t=this;this.setModel(e).then(function(){return t.sourceParams.filterChangedCallback()})},p.prototype.getProps=function(){var e=c.prototype.getProps.call(this);return e.model=this.model,e.onModelChange=this.onModelChange,e.onUiChange=this.onUiChange,delete e.filterChangedCallback,delete e.filterModifiedCallback,delete e.valueGetter,e};var c,B=p;function p(){var t=null!==c&&c.apply(this,arguments)||this;return t.model=null,t.onModelChange=function(e){return t.updateModel(e)},t.onUiChange=function(){return t.sourceParams.filterChangedCallback()},t}function _(t,n){t.parentFilterInstance(function(e){(e.setModel(n)||X.AgPromise.resolve()).then(function(){t.filterParams.filterChangedCallback()})})}f.prototype.getProps=function(){return ee(ee({},this.floatingFilterParams),{model:this.model,onModelChange:this.onModelChange})},f.prototype.onParentModelChanged=function(e){this.model=e,this.refreshProps()},f.prototype.refresh=function(e){this.floatingFilterParams=e,this.refreshProps()},f.prototype.setMethods=function(e){N(this.getOptionalMethods(),e,this)},f.prototype.getOptionalMethods=function(){return["afterGuiAttached"]},f.prototype.updateModel=function(e){this.model=e,this.refreshProps(),_(this.floatingFilterParams,e)};var L=f;function f(e,t){var n=this;this.floatingFilterParams=e,this.refreshProps=t,this.model=null,this.onModelChange=function(e){return n.updateModel(e)}}t(m,d=o),m.prototype.onParentModelChanged=function(e){this.model=e,this.refreshProps()},m.prototype.refresh=function(e){this.sourceParams=e,this.refreshProps()},m.prototype.getOptionalMethods=function(){return["afterGuiAttached"]},m.prototype.updateModel=function(e){this.model=e,this.refreshProps(),_(this.sourceParams,e)},m.prototype.getProps=function(){var e=d.prototype.getProps.call(this);return e.model=this.model,e.onModelChange=this.onModelChange,e};var d,U=m;function m(){var t=null!==d&&d.apply(this,arguments)||this;return t.model=null,t.onModelChange=function(e){return t.updateModel(e)},t}t(j,H=o),j.prototype.refresh=function(e){this.sourceParams=e,this.refreshProps()};var H,W=j;function j(){return null!==H&&H.apply(this,arguments)||this}t(C,h=o),C.prototype.setActive=function(e){this.awaitSetActive(e)},C.prototype.setExpanded=function(e){this.expanded=e,this.refreshProps()},C.prototype.getOptionalMethods=function(){return["select","configureDefaults"]},C.prototype.awaitSetActive=function(e){return this.active=e,this.refreshProps()},C.prototype.updateActive=function(e){var t=this,n=this.awaitSetActive(e);e&&n.then(function(){return t.sourceParams.onItemActivated()})},C.prototype.getProps=function(){var e=h.prototype.getProps.call(this);return e.active=this.active,e.expanded=this.expanded,e.onActiveChange=this.onActiveChange,delete e.onItemActivated,e};var h,V=C;function C(){var t=null!==h&&h.apply(this,arguments)||this;return t.active=!1,t.expanded=!1,t.onActiveChange=function(e){return t.updateActive(e)},t}t(Y,K=o),Y.prototype.refresh=function(e){this.sourceParams=e,this.refreshProps()};var K,z=Y;function Y(){return null!==K&&K.apply(this,arguments)||this}t(oe,Z=o),oe.prototype.refresh=function(e){return this.sourceParams=e,this.refreshProps(),!0};var Z,re=oe;function oe(){return null!==Z&&Z.apply(this,arguments)||this}t(v,g=o),v.prototype.refresh=function(e){return this.sourceParams=e,this.refreshProps(),!0},v.prototype.getState=function(){return this.state},v.prototype.updateState=function(e){this.state=e,this.refreshProps(),this.sourceParams.onStateUpdated()},v.prototype.getProps=function(){var e=g.prototype.getProps.call(this);return e.state=this.state,e.onStateChange=this.onStateChange,e};var g,ue=v;function v(){var t=null!==g&&g.apply(this,arguments)||this;return t.onStateChange=function(e){return t.updateState(e)},t}y.prototype.getPortals=function(){return this.portals},y.prototype.destroy=function(){this.destroyed=!0},y.prototype.destroyPortal=function(t){this.portals=this.portals.filter(function(e){return e!==t}),this.batchUpdate()},y.prototype.getComponentWrappingElement=function(){return this.wrappingElement},y.prototype.mountReactPortal=function(e,t,n){this.portals=l(l([],this.portals),[e]),this.waitForInstance(t,n),this.batchUpdate()},y.prototype.updateReactPortal=function(e,t){this.portals[this.portals.indexOf(e)]=t,this.batchUpdate()},y.prototype.batchUpdate=function(){var e=this;this.hasPendingPortalUpdate||(setTimeout(function(){e.destroyed||(e.refresher(),e.hasPendingPortalUpdate=!1)}),this.hasPendingPortalUpdate=!0)},y.prototype.waitForInstance=function(e,t,n){var r=this;if(void 0===n&&(n=Date.now()),this.destroyed)t(null);else if(e.rendered())t(e);else{if(Date.now()-n>=this.maxComponentCreationTimeMs&&!this.hasPendingPortalUpdate)return e.isNullValue()?void t(e):(console.error("AG Grid: React Component '"+e.getReactComponentName()+"' not created within "+this.maxComponentCreationTimeMs+"ms."),void console.error("    If the component is using `forwardRef` but not `useImperativeHandle`, add the following: `useImperativeHandle(ref, () => ({}));`"));window.setTimeout(function(){r.waitForInstance(e,t,n)})}},y.MAX_COMPONENT_CREATION_TIME_IN_MS=1e3;var ae=y;function y(e,t,n){this.destroyed=!1,this.portals=[],this.hasPendingPortalUpdate=!1,this.wrappingElement=t||"div",this.refresher=e,this.maxComponentCreationTimeMs=n||y.MAX_COMPONENT_CREATION_TIME_IN_MS}function $(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.filter(function(e){return null!=e&&""!==e}).join(" ")}var te=Q.createContext({}),T=(R.prototype.setClass=function(e,t){var n;return!!this.classesMap[e]==t?this:((n=new R).classesMap=ee({},this.classesMap),n.classesMap[e]=t,n)},R.prototype.toString=function(){var t=this;return Object.keys(this.classesMap).filter(function(e){return t.classesMap[e]}).join(" ")},R);function R(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.classesMap={},e.forEach(function(e){t.classesMap[e]=!0})}function ne(e){return"function"==typeof e&&!(e.prototype&&e.prototype.isReactComponent)||"object"==typeof e&&e.$$typeof===("function"==typeof Symbol&&Symbol.for?Symbol.for("react.memo"):60115)}var se=null!=b.createRoot&&null!=b.flushSync,w=!1;function ie(e,t){se&&e&&!w?b.flushSync(t):t()}function ce(e,t,n){if(null==t||null==e)return t;if(e===t||0===t.length&&0===e.length)return e;if(n||0===e.length&&0<t.length||0<e.length&&0===t.length)return t;for(var r=[],o=[],u=new Map,a=new Map,s=0;s<t.length;s++){var i=t[s];a.set(i.getInstanceId(),i)}for(s=0;s<e.length;s++){i=e[s];u.set(i.getInstanceId(),i),a.has(i.getInstanceId())&&r.push(i)}for(s=0;s<t.length;s++){var c=(i=t[s]).getInstanceId();u.has(c)||o.push(i)}return r.length===e.length&&0===o.length?e:0===r.length&&o.length===t.length?t:l(l([],r),o)}function D(e,t,n,r){var o=!e||e.componentFromFramework||t.isDestroyed();if(!o){var u,a,s,o=e.newAgStackInstance();if(o)return s=!1,o.then(function(e){s?t.destroyBean(e):(a=(u=e).getGui(),n.appendChild(a),le(r,u))}),function(){s=!0,u&&(a&&a.parentElement&&a.parentElement.removeChild(a),t.destroyBean(u),r)&&le(r,void 0)}}}function le(e,t){e&&(e instanceof Function?e(t):e.current=t)}var pe=J.forwardRef(function(t,e){var n=J.useContext(te).context,r=J.useRef(null),o=J.useRef(null),u=J.useRef(null),a=J.useRef(null),s=J.useRef(null),i=J.useRef(),c=J.useState(),l=c[0],p=c[1],c=J.useState(),f=c[0],d=c[1],c=J.useState(),m=c[0],h=c[1],c=J.useState(function(){return new T}),C=c[0],g=c[1],c=J.useState(function(){return new T("ag-hidden")}),v=c[0],y=c[1],c=J.useState(function(){return new T("ag-hidden")}),R=c[0],w=c[1],c=J.useState(function(){return new T("ag-invisible")}),E=c[0],S=c[1],c=(J.useImperativeHandle(e,function(){return{refresh:function(){return!1}}}),J.useLayoutEffect(function(){return D(l,n,o.current)},[l]),J.useCallback(function(e){r.current=e,r.current?(e={setInnerRenderer:function(e,t){p(e),h(t)},setChildCount:function(e){return d(e)},addOrRemoveCssClass:function(t,n){return g(function(e){return e.setClass(t,n)})},setContractedDisplayed:function(t){return w(function(e){return e.setClass("ag-hidden",!t)})},setExpandedDisplayed:function(t){return y(function(e){return e.setClass("ag-hidden",!t)})},setCheckboxVisible:function(t){return S(function(e){return e.setClass("ag-invisible",!t)})}},i.current=n.createBean(new X.GroupCellRendererCtrl),i.current.init(e,r.current,u.current,a.current,s.current,pe,t)):(n.destroyBean(i.current),i.current=null)},[])),e=J.useMemo(function(){return"ag-cell-wrapper "+C.toString()},[C]),P=J.useMemo(function(){return"ag-group-expanded "+v.toString()},[v]),M=J.useMemo(function(){return"ag-group-contracted "+R.toString()},[R]),b=J.useMemo(function(){return"ag-group-checkbox "+E.toString()},[E]),I=l&&l.componentFromFramework,A=I?l.componentClass:void 0,k=null==l&&null!=m,m=X._.escapeString(m,!0);return Q.createElement("span",ee({className:e,ref:c},t.colDef?{}:{role:null==(e=i.current)?void 0:e.getCellAriaRole()}),Q.createElement("span",{className:P,ref:a}),Q.createElement("span",{className:M,ref:s}),Q.createElement("span",{className:b,ref:u}),Q.createElement("span",{className:"ag-group-value",ref:o},k&&Q.createElement(Q.Fragment,null,m),I&&Q.createElement(A,ee({},l.params))),Q.createElement("span",{className:"ag-group-child-count"},f))}),fe=J.memo(function(e){var n=e.ctrl,r=n.isAlive(),t=J.useContext(te).context,e=r?n.getColId():void 0,o=J.useState(),u=o[0],a=o[1],s=J.useRef(null),i=J.useRef(null),c=J.useRef(null),l=J.useRef(),p=J.useRef(),o=(r&&!p.current&&(p.current=new X.CssClassManager(function(){return s.current})),J.useCallback(function(e){var t;s.current=e,s.current&&r&&(n.setComp({setWidth:function(e){s.current&&(s.current.style.width=e)},addOrRemoveCssClass:function(e,t){return p.current.addOrRemoveCssClass(e,t)},setAriaSort:function(e){s.current&&(e?X._.setAriaSort(s.current,e):X._.removeAriaSort(s.current))},setUserCompDetails:function(e){return a(e)},getUserCompInstance:function(){return l.current||void 0}},s.current,i.current,c.current),e=n.getSelectAllGui(),null!=(t=i.current))&&t.insertAdjacentElement("afterend",e)},[])),f=(J.useLayoutEffect(function(){return D(u,t,c.current,l)},[u]),J.useEffect(function(){n.setDragSource(s.current)},[u]),J.useMemo(function(){return!!((null==u?void 0:u.componentFromFramework)&&ne(u.componentClass))},[u])),d=u&&u.componentFromFramework,m=u&&u.componentClass;return Q.createElement("div",{ref:o,className:"ag-header-cell","col-id":e,role:"columnheader"},Q.createElement("div",{ref:i,className:"ag-header-cell-resize",role:"presentation"}),Q.createElement("div",{ref:c,className:"ag-header-cell-comp-wrapper",role:"presentation"},d&&f&&Q.createElement(m,ee({},u.params)),d&&!f&&Q.createElement(m,ee({},u.params,{ref:l}))))}),de=J.memo(function(e){var t=J.useContext(te).context,n=e.ctrl,e=J.useState(function(){return new T}),r=e[0],o=e[1],e=J.useState(function(){return new T}),u=e[0],a=e[1],e=J.useState("false"),s=e[0],i=e[1],e=J.useState(),c=e[0],l=e[1],e=J.useState(),p=e[0],f=e[1],e=J.useMemo(function(){return n.getColId()},[]),d=J.useRef(null),m=J.useRef(null),h=J.useRef(),C=J.useCallback(function(e){d.current=e,d.current&&n.setComp({setWidth:function(e){d.current&&(d.current.style.width=e)},addOrRemoveCssClass:function(t,n){return o(function(e){return e.setClass(t,n)})},setUserCompDetails:function(e){return f(e)},setResizableDisplayed:function(t){a(function(e){return e.setClass("ag-hidden",!t)}),i(t?"false":"true")},setAriaExpanded:function(e){return l(e)},getUserCompInstance:function(){return h.current||void 0}},d.current,m.current)},[]),g=(J.useLayoutEffect(function(){return D(p,t,d.current)},[p]),J.useEffect(function(){d.current&&n.setDragSource(d.current)},[p]),J.useMemo(function(){return!!((null==p?void 0:p.componentFromFramework)&&ne(p.componentClass))},[p])),v=J.useMemo(function(){return"ag-header-group-cell "+r.toString()},[r]),y=J.useMemo(function(){return"ag-header-cell-resize "+u.toString()},[u]),R=p&&p.componentFromFramework,w=p&&p.componentClass;return Q.createElement("div",{ref:C,className:v,"col-id":e,role:"columnheader","aria-expanded":c},R&&g&&Q.createElement(w,ee({},p.params)),R&&!g&&Q.createElement(w,ee({},p.params,{ref:h})),Q.createElement("div",{ref:m,"aria-hidden":s,className:y}))});function me(){X._.warnOnce("Using custom components without `reactiveCustomComponents = true` is deprecated.")}function q(r,o){J.useEffect(function(){var e=o.current;if(e){var t,n=e.parentElement;if(n)return t=document.createComment(r),n.insertBefore(t,e),function(){n.removeChild(t)}}},[r])}var he=J.memo(function(e){function t(e){null!=e&&y.current&&y.current(e)}var n=J.useContext(te),r=n.context,o=n.gridOptionsService,n=J.useState(function(){return new T("ag-header-cell","ag-floating-filter")}),u=n[0],a=n[1],n=J.useState(function(){return new T}),s=n[0],i=n[1],n=J.useState(function(){return new T("ag-floating-filter-button","ag-hidden")}),c=n[0],l=n[1],n=J.useState("false"),p=n[0],f=n[1],n=J.useState(),d=n[0],m=n[1],n=J.useState(1),h=(n[0],n[1]),C=J.useRef(null),g=J.useRef(null),n=J.useRef(null),v=J.useRef(null),y=J.useRef(),R=J.useRef(),w=e.ctrl,e=J.useCallback(function(e){C.current=e,C.current&&(R.current=new X.AgPromise(function(e){y.current=e}),w.setComp({addOrRemoveCssClass:function(t,n){return a(function(e){return e.setClass(t,n)})},addOrRemoveBodyCssClass:function(t,n){return i(function(e){return e.setClass(t,n)})},setButtonWrapperDisplayed:function(t){l(function(e){return e.setClass("ag-hidden",!t)}),f(t?"false":"true")},setWidth:function(e){C.current&&(C.current.style.width=e)},setCompDetails:function(e){return m(e)},getFloatingFilterComp:function(){return R.current||null},setMenuIcon:function(e){var t;return null==(t=v.current)?void 0:t.appendChild(e)}},C.current,v.current,g.current))},[]),E=(J.useLayoutEffect(function(){return D(d,r,g.current,t)},[d]),J.useMemo(function(){return u.toString()},[u])),S=J.useMemo(function(){return s.toString()},[s]),P=J.useMemo(function(){return c.toString()},[c]),M=J.useMemo(function(){return!!(d&&d.componentFromFramework&&ne(d.componentClass))},[d]),b=J.useMemo(function(){return o.get("reactiveCustomComponents")},[]),I=J.useMemo(function(){if(d){var e;if(b)return e=new L(d.params,function(){return h(function(e){return e+1})}),t(e),e;d.componentFromFramework&&me()}},[d]),A=null==I?void 0:I.getProps(),k=d&&d.componentFromFramework,O=d&&d.componentClass;return Q.createElement("div",{ref:e,className:E,role:"gridcell"},Q.createElement("div",{ref:g,className:S,role:"presentation"},k&&!b&&Q.createElement(O,ee({},d.params,{ref:M?function(){}:t})),k&&b&&Q.createElement(F.Provider,{value:{setMethods:function(e){return I.setMethods(e)}}},Q.createElement(O,ee({},A)))),Q.createElement("div",{ref:n,"aria-hidden":p,className:P,role:"presentation"},Q.createElement("button",{ref:v,type:"button",className:"ag-button ag-floating-filter-button-button",tabIndex:-1})))}),Ce=J.memo(function(e){var t=e.ctrl,e=J.useMemo(function(){return t.getTopAndHeight()},[]),n=e.topOffset,r=e.rowHeight,e=t.getAriaRowIndex(),o=t.getHeaderRowClass(),u=J.useState(function(){return r+"px"}),a=u[0],s=u[1],u=J.useState(function(){return n+"px"}),i=u[0],c=u[1],u=J.useState(function(){return t.getHeaderCtrls()}),l=u[0],p=u[1],f=J.useRef(null),u=J.useCallback(function(e){(f.current=e)&&t.setComp({setHeight:function(e){return s(e)},setTop:function(e){return c(e)},setHeaderCtrls:function(t,n,e){ie(e,function(){p(function(e){return ce(e,t,n)})})},setWidth:function(e){f.current&&(f.current.style.width=e)}},!1)},[]),d=J.useMemo(function(){return{height:a,top:i}},[a,i]),m=J.useCallback(function(e){switch(t.getType()){case X.HeaderRowType.COLUMN_GROUP:return Q.createElement(de,{ctrl:e,key:e.getInstanceId()});case X.HeaderRowType.FLOATING_FILTER:return Q.createElement(he,{ctrl:e,key:e.getInstanceId()});default:return Q.createElement(fe,{ctrl:e,key:e.getInstanceId()})}},[]);return Q.createElement("div",{ref:u,className:o,role:"row",style:d,"aria-rowindex":e},l.map(m))}),ge=J.memo(function(t){function e(){return u.map(function(e){return Q.createElement(Ce,{ctrl:e,key:e.getInstanceId()})})}var n=J.useState(!0),r=n[0],o=n[1],n=J.useState([]),u=n[0],a=n[1],s=J.useContext(te).context,i=J.useRef(null),c=J.useRef(null),l=J.useRef(null),n="left"===t.pinned,p="right"===t.pinned,f=!n&&!p,d=J.useCallback(function(e){i.current=e,i.current?(e={setDisplayed:o,setCtrls:function(e){return a(e)},setCenterWidth:function(e){c.current&&(c.current.style.width=e)},setViewportScrollLeft:function(e){i.current&&(i.current.scrollLeft=e)},setPinnedContainerWidth:function(e){i.current&&(i.current.style.width=e,i.current.style.minWidth=e,i.current.style.maxWidth=e)}},l.current=s.createBean(new X.HeaderRowContainerCtrl(t.pinned)),l.current.setComp(e,i.current)):(s.destroyBean(l.current),l.current=null)},[]),m=r?"":"ag-hidden";return Q.createElement(Q.Fragment,null,n&&Q.createElement("div",{ref:d,className:"ag-pinned-left-header "+m,"aria-hidden":!r,role:"rowgroup"},e()),p&&Q.createElement("div",{ref:d,className:"ag-pinned-right-header "+m,"aria-hidden":!r,role:"rowgroup"},e()),f&&Q.createElement("div",{ref:d,className:"ag-header-viewport "+m,role:"presentation"},Q.createElement("div",{ref:c,className:"ag-header-container",role:"rowgroup"},e())))}),ve=J.memo(function(){var e=J.useState(function(){return new T}),t=e[0],r=e[1],e=J.useState(),n=e[0],o=e[1],u=J.useContext(te).context,a=J.useRef(null),s=J.useRef(null),e=J.useCallback(function(e){(a.current=e)?(e={addOrRemoveCssClass:function(t,n){return r(function(e){return e.setClass(t,n)})},setHeightAndMinHeight:function(e){return o(e)}},s.current=u.createBean(new X.GridHeaderCtrl),s.current.setComp(e,a.current,a.current)):(u.destroyBean(s.current),s.current=null)},[]),i=J.useMemo(function(){return"ag-header "+t.toString()},[t]),c=J.useMemo(function(){return{height:n,minHeight:n}},[n]);return Q.createElement("div",{ref:e,className:i,style:c,role:"presentation"},Q.createElement(ge,{pinned:"left"}),Q.createElement(ge,{pinned:null}),Q.createElement(ge,{pinned:"right"}))}),ye=J.memo(function(i){var e,t,n,r,o,u=J.useState(),a=u[0],c=u[1],u=J.useContext(te),l=u.context,p=u.popupService,f=u.localeService,d=u.gridOptionsService;return u=function(){var e=i.editDetails,t=i.cellCtrl,n=i.eParentCell,r=e.compDetails,o=d.get("stopEditingWhenCellsLoseFocus"),u=l.createBean(new X.PopupEditorWrapper(r.params)),r=u.getGui(),a=(i.jsChildComp&&(a=i.jsChildComp.getGui())&&r.appendChild(a),{column:t.getColumn(),rowNode:t.getRowNode(),type:"popupCellEditor",eventSource:n,ePopup:r,position:e.popupPosition,keepWithinBounds:!0}),e=p.positionPopupByComponent.bind(p,a),a=f.getLocaleTextFunc(),o=p.addPopup({modal:o,eChild:r,closeOnEsc:!0,closedCallback:function(){t.onPopupEditorClosed()},anchorToElement:n,positionCallback:e,ariaLabel:a("ariaLabelCellEditor","Cell Editor")}),s=o?o.hideFunc:void 0;return c(u),i.jsChildComp&&i.jsChildComp.afterGuiAttached&&i.jsChildComp.afterGuiAttached(),function(){null!=s&&s(),l.destroyBean(u)}},e=J.useRef(u),t=J.useRef(),n=J.useRef(!1),r=J.useRef(!1),o=J.useState(0)[1],n.current&&(r.current=!0),J.useEffect(function(){return n.current||(t.current=e.current(),n.current=!0),o(function(e){return e+1}),function(){r.current&&t.current&&t.current()}},[]),Q.createElement(Q.Fragment,null,a&&i.wrappedContent&&s.createPortal(i.wrappedContent,a.getGui()))}),Re=(E.prototype.getProps=function(){return ee(ee({},this.cellEditorParams),{initialValue:this.cellEditorParams.value,value:this.value,onValueChange:this.onValueChange})},E.prototype.getValue=function(){return this.value},E.prototype.refresh=function(e){this.cellEditorParams=e,this.refreshProps()},E.prototype.setMethods=function(e){N(this.getOptionalMethods(),e,this)},E.prototype.getInstance=function(){var e=this;return this.instanceCreated.then(function(){return e.componentInstance})},E.prototype.setRef=function(e){this.componentInstance=e,null!=(e=this.resolveInstanceCreated)&&e.call(this),this.resolveInstanceCreated=void 0},E.prototype.getOptionalMethods=function(){return["isPopup","isCancelBeforeStart","isCancelAfterEnd","getPopupPosition","focusIn","focusOut","afterGuiAttached"]},E.prototype.updateValue=function(e){this.value=e,this.refreshProps()},E);function E(e,t){var n=this;this.cellEditorParams=e,this.refreshProps=t,this.instanceCreated=new X.AgPromise(function(e){n.resolveInstanceCreated=e}),this.onValueChange=function(e){return n.updateValue(e)},this.value=e.value}function we(u){var a=J.useRef(),r=J.useRef(null),o=J.useRef(null),s=J.useRef([]),i=J.useRef([]),t=J.useRef(u),c=J.useRef(!1),e=(n=J.useState(void 0))[0],l=n[1],p=J.useState(0)[1],n=J.useCallback(function(e){var t,n;r.current=e,r.current?(e=u.modules||[],o.current||(o.current=new ae(function(){return p(function(e){return e+1})},u.componentWrappingElement,u.maxComponentCreationTimeMs),s.current.push(function(){var e;null!=(e=o.current)&&e.destroy(),o.current=null})),t=X.ComponentUtil.combineAttributesAndGridOptions(u.gridOptions,u),e={providedBeanInstances:{frameworkComponentWrapper:new Oe(o.current,!!t.reactiveCustomComponents)},modules:e,frameworkOverrides:new Ne},n=new X.GridCoreCreator,a.current=n.create(r.current,t,function(t){l(t),s.current.push(function(){t.destroy()}),t.getBean(X.CtrlsService.NAME).whenReady(function(){var e;t.isDestroyed()||(e=a.current)&&u.setGridApi&&u.setGridApi(e,new X.ColumnApi(e))})},function(e){e.getBean(X.CtrlsService.NAME).whenReady(function(){i.current.forEach(function(e){return e()}),i.current.length=0,c.current=!0})},e)):(s.current.forEach(function(e){return e()}),s.current.length=0)},[]),f=J.useMemo(function(){return ee({height:"100%"},u.containerStyle||{})},[u.containerStyle]),d=J.useCallback(function(e){c.current?e():i.current.push(e)},[]);return J.useEffect(function(){n=t.current,r=u,o={},Object.keys(r).forEach(function(e){var t=r[e];n[e]!==t&&(o[e]=t)});var n,r,o,e=o;t.current=u,d(function(){a.current&&X.ComponentUtil.processOnChange(e,a.current)})},[u]),Q.createElement("div",{style:f,className:u.className,ref:n},e&&!e.isDestroyed()?Q.createElement(Ae,{context:e}):null,null!=(n=null==(f=o.current)?void 0:f.getPortals())?n:null)}var Ee=function(e,t,n){var r,o=e.compProxy;return Q.createElement(Q.Fragment,null,!o&&Q.createElement(t,ee({},e.compDetails.params,{ref:n})),o&&(o=t,t=n,r=(n=e).compProxy,t(r),n=r.getProps(),t=ne(o),Q.createElement(F.Provider,{value:{setMethods:function(e){return r.setMethods(e)}}},t&&Q.createElement(o,ee({},n)),!t&&Q.createElement(o,ee({},n,{ref:function(e){return r.setRef(e)}})))))},Se=J.memo(function(e){function t(){return Q.createElement(Q.Fragment,null,null!=R&&(s=L,i=_,c=P,l=T,p=Z,f=Y,d=(a=R).compDetails,a=a.value,m=!d,h=d&&d.componentFromFramework,C=d&&d.componentClass,g=null!=a&&a.toString?a.toString():a,Q.createElement(Q.Fragment,null,l?Q.createElement("span",{role:"presentation",id:"cell-"+i,className:"ag-cell-value",ref:f},v()):v())),null!=w&&(a=w,l=q,i=$,f=S.current,e=y,t=K,n=a.compDetails,r=n.componentClass,o=n.componentFromFramework&&!a.popup,u=n.componentFromFramework&&a.popup,n=!n.componentFromFramework&&a.popup,Q.createElement(Q.Fragment,null,o&&Ee(a,r,l),u&&Q.createElement(ye,{editDetails:a,cellCtrl:e,eParentCell:f,wrappedContent:Ee(a,r,i)}),n&&t&&Q.createElement(ye,{editDetails:a,cellCtrl:e,eParentCell:f,jsChildComp:t}))));var e,t,n,r,o,u,a,s,i,c,l,p,f,d,m,h,C,g;function v(){return Q.createElement(Q.Fragment,null,m&&Q.createElement(Q.Fragment,null,g),h&&!p&&Q.createElement(C,ee({},d.params,{key:s,ref:c})),h&&p&&Q.createElement(C,ee({},d.params,{key:s})))}}var n,r,o,u,a,s,i,c=J.useContext(te).context,y=e.cellCtrl,l=e.printLayout,x=e.editingRow,e=y.getTabIndex(),B=y.getColumnIdSanitised(),_=y.getInstanceId(),p=J.useState(function(){return y.isCellRenderer()?void 0:{compDetails:void 0,value:y.getValueToDisplay(),force:!1}}),R=p[0],f=p[1],p=J.useState(),w=p[0],d=p[1],p=J.useState(1),L=p[0],m=p[1],p=J.useState(),U=p[0],H=p[1],p=J.useState(!1),h=p[0],W=p[1],p=J.useState(!1),C=p[0],j=p[1],p=J.useState(!1),g=p[0],V=p[1],p=J.useState(),K=p[0],v=p[1],E=J.useMemo(function(){return y.isForceWrapper()},[y]),p=J.useMemo(function(){return y.getCellAriaRole()},[y]),S=J.useRef(null),P=J.useRef(null),M=J.useRef(),b=J.useRef(),I=J.useRef(),A=J.useRef([]),k=J.useRef(),O=J.useState(0),F=O[0],z=O[1],Y=J.useCallback(function(e){k.current=e,z(function(e){return e+1})},[]),T=E||null!=R&&(h||g||C),G=J.useCallback(function(e,t){var n,r,o,u,a;(b.current=t)&&(e=e,n=t,a=(r=y).getColumn(),!e&&n.isPopup&&n.isPopup()&&(o="AG Grid: Found an issue in column "+a.getColId()+". If using React, specify an editor is a popup using colDef.cellEditorPopup=true. AG Grid React cannot depend on the editor component specifying if it's in a popup (via the isPopup() method on the editor), as React needs to know this information BEFORE the component is created.",X._.doOnce(function(){return console.warn(o)},"jsEditorComp-isPopup-"+r.getColumn().getColId())),e&&n.getPopupPosition&&null!=n.getPopupPosition()&&(u="AG Grid: Found an issue in column "+a.getColId()+". If using React, specify an editor popup position using colDef.cellEditorPopupPosition=true. AG Grid React cannot depend on the editor component specifying it's position (via the getPopupPosition() method on the editor), as React needs to know this information BEFORE the component is created.",X._.doOnce(function(){return console.warn(u)},"jsEditorComp-getPopupPosition-"+r.getColumn().getColId())),t.isCancelBeforeStart)&&t.isCancelBeforeStart()&&setTimeout(function(){y.stopEditing(!0),y.focusCell(!0)})},[y]),$=J.useCallback(function(e){return G(!0,e)},[G]),q=J.useCallback(function(e){return G(!1,e)},[G]),N=J.useRef(),D=(N.current||(N.current=new X.CssClassManager(function(){return S.current})),n=R,r=T,o=k.current,O=F,u=M,a=S,s=J.useContext(te).context,i=J.useCallback(function(){var e,t=u.current;t&&((e=t.getGui())&&e.parentElement&&e.parentElement.removeChild(e),s.destroyBean(t),u.current=void 0)},[]),J.useEffect(function(){var e=n&&n.compDetails&&!n.compDetails.componentFromFramework;if(null!=n&&e&&!(r&&null==o)){e=n.compDetails;if(u.current){var t=u.current,t=null!=t.refresh&&0==n.force&&t.refresh(e.params);if(!0===t||void 0===t)return;i()}t=e.newAgStackInstance();t&&(e=t.resolveNow(null,function(e){return e}))&&(t=e.getGui())&&((r?o:a.current).appendChild(t),u.current=e)}else i()},[n,r,O]),J.useEffect(function(){return i},[]),J.useRef()),F=(J.useLayoutEffect(function(){var e=D.current,t=R;D.current=R,null!=e&&null!=e.compDetails&&null!=t&&null!=t.compDetails&&(e=e.compDetails,t=t.compDetails,e.componentClass==t.componentClass)&&null!=P.current&&null!=P.current.refresh&&1!=P.current.refresh(t.params)&&m(function(e){return e+1})},[R]),J.useLayoutEffect(function(){if(w&&!w.compDetails.componentFromFramework){var e,t=w.compDetails,n=!0===w.popup,r=function(e){e=e.newAgStackInstance();if(e)return e.resolveNow(null,function(e){return e})}(t);if(r)return e=r.getGui(),G(n,r),n||(null!=(t=(E?I:S).current)&&t.appendChild(e),r.afterGuiAttached&&r.afterGuiAttached()),v(r),function(){c.destroyBean(r),G(n,void 0),v(void 0),e&&e.parentElement&&e.parentElement.removeChild(e)}}},[w]),J.useCallback(function(e){I.current=e,I.current?(e=function(e){var t,n;return e&&(n=e.getGui(),null!=(t=I.current)&&t.insertAdjacentElement("afterbegin",n),A.current.push(function(){c.destroyBean(e),X._.removeFromParent(n)})),e},h&&e(y.createSelectionCheckbox()),g&&e(y.createDndSource()),C&&e(y.createRowDragComp())):(A.current.forEach(function(e){return e()}),A.current=[])},[y,c,g,C,h])),O=J.useCallback(function(e){S.current=e,S.current&&y&&(e=I.current||void 0,y.setComp({addOrRemoveCssClass:function(e,t){return N.current.addOrRemoveCssClass(e,t)},setUserStyles:function(e){return H(e)},getFocusableElement:function(){return S.current},setIncludeSelection:function(e){return W(e)},setIncludeRowDrag:function(e){return j(e)},setIncludeDndSource:function(e){return V(e)},getCellEditor:function(){return b.current||null},getCellRenderer:function(){return P.current||M.current},getParentOfValue:function(){return k.current||I.current||S.current},setRenderDetails:function(t,n,r){f(function(e){return(null==e?void 0:e.compDetails)!==t||(null==e?void 0:e.value)!==n||(null==e?void 0:e.force)!==r?{value:n,compDetails:t,force:r}:e})},setEditDetails:function(e,t,n,r){var o;e?(o=void 0,r?o=new Re(e.params,function(){return m(function(e){return e+1})}):e.componentFromFramework&&me(),d({compDetails:e,popup:t,popupPosition:n,compProxy:o}),t||f(void 0)):d(function(e){null!=e&&e.compProxy&&(b.current=void 0)})}},S.current,e,l,x))},[]),Z=J.useMemo(function(){return!!(R&&R.compDetails&&R.compDetails.componentFromFramework&&ne(R.compDetails.componentClass))},[R]);J.useLayoutEffect(function(){var e;S.current&&(N.current.addOrRemoveCssClass("ag-cell-value",!T),N.current.addOrRemoveCssClass("ag-cell-inline-editing",!!w&&!w.popup),N.current.addOrRemoveCssClass("ag-cell-popup-editing",!!w&&!!w.popup),N.current.addOrRemoveCssClass("ag-cell-not-inline-editing",!w||!!w.popup),null!=(e=y.getRowCtrl())&&e.setInlineEditingCss(!!w),y.shouldRestoreFocus())&&!y.isEditing()&&S.current.focus({preventScroll:!0})});return Q.createElement("div",{ref:O,style:U,tabIndex:e,role:p,"col-id":B},T?Q.createElement("div",{className:"ag-cell-wrapper",role:"presentation",ref:F},t()):t())}),Pe=J.memo(function(e){var t=J.useContext(te),n=t.context,r=t.gridOptionsService,o=e.rowCtrl,u=e.containerType,t=o.getTabIndex(),a=J.useRef(o.getDomOrder()),e=o.isFullWidth(),s=o.getRowNode().displayed,i=J.useState(function(){return s?o.getRowIndex():null}),c=i[0],l=i[1],i=J.useState(function(){return o.getRowId()}),p=i[0],f=i[1],i=J.useState(function(){return o.getBusinessKey()}),d=i[0],m=i[1],i=J.useState(function(){return o.getRowStyles()}),h=i[0],C=i[1],i=J.useState(function(){return null}),g=i[0],v=i[1],i=J.useState(),y=i[0],R=i[1],i=J.useState(function(){return s?o.getInitialRowTop(u):void 0}),w=i[0],E=i[1],i=J.useState(function(){return s?o.getInitialTransform(u):void 0}),S=i[0],P=i[1],M=J.useRef(null),b=J.useRef(),I=J.useRef(!1),i=J.useState(0),A=i[0],k=i[1],O=(J.useEffect(function(){var e;I.current||!y||10<A||((e=null==(e=M.current)?void 0:e.firstChild)?(o.setupDetailRowAutoHeight(e),I.current=!0):k(function(e){return e+1}))},[y,A]),J.useRef()),i=(O.current||(O.current=new X.CssClassManager(function(){return M.current})),J.useCallback(function(e){M.current=e,M.current?o.isAlive()&&o.setComp({setTop:E,setTransform:P,addOrRemoveCssClass:function(e,t){return O.current.addOrRemoveCssClass(e,t)},setDomOrder:function(e){return a.current=e},setRowIndex:l,setRowId:f,setRowBusinessKey:m,setUserStyles:C,setCellCtrls:function(t,e){ie(e,function(){v(function(e){return ce(e,t,a.current)})})},showFullWidth:function(e){return R(e)},getFullWidthCellRenderer:function(){return b.current},refreshFullWidth:function(t){return N.current?(R(function(e){return ee(ee({},e),{params:t()})}),!0):!(!b.current||!b.current.refresh)&&b.current.refresh(t())}},M.current,u):o.unsetComp(u)},[])),F=(J.useLayoutEffect(function(){return D(y,n,M.current,b)},[y]),J.useMemo(function(){var e={top:w,transform:S};return Object.assign(e,h),e},[w,S,h])),T=e&&y&&y.componentFromFramework,e=!e&&null!=g,G=J.useMemo(function(){return!!((null==y?void 0:y.componentFromFramework)&&ne(y.componentClass))},[y]),N=J.useRef(!1);J.useEffect(function(){N.current=G&&!!y&&!!r.get("reactiveCustomComponents")},[G,y]);return Q.createElement("div",{ref:i,role:"row",style:F,"row-index":c,"row-id":p,"row-business-key":d,tabIndex:t},e&&(null==g?void 0:g.map(function(e){return Q.createElement(Se,{cellCtrl:e,editingRow:o.isEditing(),printLayout:o.isPrintLayout(),key:e.getInstanceId()})})),T&&(i=y.componentClass,Q.createElement(Q.Fragment,null,G&&Q.createElement(i,ee({},y.params)),!G&&Q.createElement(i,ee({},y.params,{ref:b})))))}),Me=J.memo(function(e){function t(){return Q.createElement("div",{className:d,ref:v,role:"rowgroup"},i.map(function(e){return Q.createElement(Pe,{rowCtrl:e,containerType:n,key:e.getInstanceId()})}))}var r=J.useContext(te).context,o=e.name,n=J.useMemo(function(){return X.getRowContainerTypeForName(o)},[o]),u=J.useRef(null),a=J.useRef(null),s=J.useRef([]),e=J.useState(function(){return[]}),i=e[0],c=e[1],l=J.useRef(!1),p=J.useRef(),f=J.useMemo(function(){return X.RowContainerCtrl.getRowContainerCssClasses(o)},[o]),e=J.useMemo(function(){return $(f.viewport)},[f]),d=J.useMemo(function(){return $(f.container)},[f]),m=o===X.RowContainerName.CENTER||o===X.RowContainerName.TOP_CENTER||o===X.RowContainerName.BOTTOM_CENTER||o===X.RowContainerName.STICKY_TOP_CENTER,h=(q(" AG Row Container "+o+" ",m?u:a),J.useCallback(function(){return(!m||null!=u.current)&&null!=a.current},[])),C=J.useCallback(function(){return(!m||null==u.current)&&null==a.current},[]),g=J.useCallback(function(){var n,e;C()&&(r.destroyBean(p.current),p.current=null),h()&&(n=function(e){ie(e,function(){c(function(e){return ce(e,s.current,l.current)})})},e={setViewportHeight:function(e){u.current&&(u.current.style.height=e)},setRowCtrls:function(e){var t=e.rowCtrls,e=!!e.useFlushSync&&0<s.current.length&&0<t.length;s.current=t,n(e)},setDomOrder:function(e){l.current!=e&&(l.current=e,n(!1))},setContainerWidth:function(e){a.current&&(a.current.style.width=e)}},p.current=r.createBean(new X.RowContainerCtrl(o)),p.current.setComp(e,a.current,u.current))},[h,C]),v=J.useCallback(function(e){a.current=e,g()},[g]),y=J.useCallback(function(e){u.current=e,g()},[g]);return Q.createElement(Q.Fragment,null,m?Q.createElement("div",{className:e,ref:y,role:"presentation"},t()):t())}),be=J.memo(function(){function o(e){return Q.createElement(Me,{name:e,key:e+"-container"})}function e(e){var t=e.section,n=e.children,r=e.className,e=e.style;return Q.createElement("div",{ref:t,className:r,role:"presentation",style:e},n.map(o))}var t=J.useContext(te),n=t.context,r=t.agStackComponentsRegistry,u=t.resizeObserverService,t=J.useState(""),a=t[0],s=t[1],t=J.useState(0),i=t[0],c=t[1],t=J.useState(0),l=t[0],p=t[1],t=J.useState("0px"),f=t[0],d=t[1],t=J.useState("0px"),m=t[0],h=t[1],t=J.useState("100%"),C=t[0],g=t[1],t=J.useState(""),v=t[0],y=t[1],t=J.useState(""),R=t[0],w=t[1],t=J.useState(null),E=t[0],S=t[1],t=J.useState(""),P=t[0],x=t[1],t=J.useState(null),M=t[0],B=t[1],t=J.useState("ag-layout-normal"),b=t[0],_=t[1],I=J.useRef(),A=(I.current||(I.current=new X.CssClassManager(function(){return A.current})),J.useRef(null)),k=J.useRef(null),O=J.useRef(null),F=J.useRef(null),T=J.useRef(null),G=J.useRef(null),N=J.useRef([]),D=J.useRef([]),t=(q(" AG Grid Body ",A),q(" AG Pinned Top ",k),q(" AG Sticky Top ",O),q(" AG Middle ",T),q(" AG Pinned Bottom ",G),J.useCallback(function(e){var t;A.current=e,A.current?n&&(e=function(e){e=r.getComponentClass(e),e=n.createBean(new e);return N.current.push(e),e},(t=function(e,t){e.appendChild(t),D.current.push(function(){return e.removeChild(t)})})(A.current,document.createComment(" AG Fake Horizontal Scroll ")),t(A.current,e("AG-FAKE-HORIZONTAL-SCROLL").getGui()),t(A.current,document.createComment(" AG Overlay Wrapper ")),t(A.current,e("AG-OVERLAY-WRAPPER").getGui()),F.current&&(t(F.current,document.createComment(" AG Fake Vertical Scroll ")),t(F.current,e("AG-FAKE-VERTICAL-SCROLL").getGui())),t={setRowAnimationCssOnBodyViewport:s,setColumnCount:function(e){A.current&&X._.setAriaColCount(A.current,e)},setRowCount:function(e){A.current&&X._.setAriaRowCount(A.current,e)},setTopHeight:c,setBottomHeight:p,setStickyTopHeight:d,setStickyTopTop:h,setStickyTopWidth:g,setTopDisplay:y,setBottomDisplay:w,setColumnMovingCss:function(e,t){return I.current.addOrRemoveCssClass(e,t)},updateLayoutClasses:_,setAlwaysVerticalScrollClass:S,setPinnedTopBottomOverflowY:x,setCellSelectableCss:function(e,t){return B(t?e:null)},setBodyViewportWidth:function(e){T.current&&(T.current.style.width=e)},registerBodyViewportResizeListener:function(e){var t;T.current&&(t=u.observeResize(T.current,e),D.current.push(function(){return t()}))}},e=n.createBean(new X.GridBodyCtrl),N.current.push(e),e.setComp(t,A.current,T.current,k.current,G.current,O.current)):(n.destroyBeans(N.current),D.current.forEach(function(e){return e()}),N.current=[],D.current=[])},[])),L=J.useMemo(function(){return $("ag-root","ag-unselectable",b)},[b]),U=J.useMemo(function(){return $("ag-body-viewport",a,b,E,M)},[a,b,E,M]),H=J.useMemo(function(){return $("ag-body",b)},[b]),W=J.useMemo(function(){return $("ag-floating-top",M)},[M]),j=J.useMemo(function(){return $("ag-sticky-top",M)},[M]),V=J.useMemo(function(){return $("ag-floating-bottom",M)},[M]),K=J.useMemo(function(){return{height:i,minHeight:i,display:v,overflowY:P}},[i,v,P]),z=J.useMemo(function(){return{height:f,top:m,width:C}},[f,m,C]),Y=J.useMemo(function(){return{height:l,minHeight:l,display:R,overflowY:P}},[l,R,P]);return Q.createElement("div",{ref:t,className:L,role:"treegrid"},Q.createElement(ve,null),e({section:k,className:W,style:K,children:[X.RowContainerName.TOP_LEFT,X.RowContainerName.TOP_CENTER,X.RowContainerName.TOP_RIGHT,X.RowContainerName.TOP_FULL_WIDTH]}),Q.createElement("div",{className:H,ref:F,role:"presentation"},e({section:T,className:U,children:[X.RowContainerName.LEFT,X.RowContainerName.CENTER,X.RowContainerName.RIGHT,X.RowContainerName.FULL_WIDTH]})),e({section:O,className:j,style:z,children:[X.RowContainerName.STICKY_TOP_LEFT,X.RowContainerName.STICKY_TOP_CENTER,X.RowContainerName.STICKY_TOP_RIGHT,X.RowContainerName.STICKY_TOP_FULL_WIDTH]}),e({section:G,className:V,style:Y,children:[X.RowContainerName.BOTTOM_LEFT,X.RowContainerName.BOTTOM_CENTER,X.RowContainerName.BOTTOM_RIGHT,X.RowContainerName.BOTTOM_FULL_WIDTH]}))}),o=J.forwardRef(function(e,t){function n(e){var n=null==e?void 0:parseInt(e,10).toString();[l,p].forEach(function(e){var t;void 0===n?null!=(t=e.current)&&t.removeAttribute("tabindex"):null!=(t=e.current)&&t.setAttribute("tabindex",n)})}function r(e){var t="top"===e?X.TabGuardClassNames.TAB_GUARD_TOP:X.TabGuardClassNames.TAB_GUARD_BOTTOM;return Q.createElement("div",{className:X.TabGuardClassNames.TAB_GUARD+" "+t,role:"presentation",ref:"top"===e?m:h})}var o=e.children,u=e.eFocusableElement,a=e.onTabKeyDown,s=e.gridCtrl,i=e.forceFocusOutWhenTabGuardsAreEmpty,c=J.useContext(te).context,l=J.useRef(null),p=J.useRef(null),f=J.useRef(),d=(J.useImperativeHandle(t,function(){return{forceFocusOutOfContainer:function(e){var t;null!=(t=f.current)&&t.forceFocusOutOfContainer(e)}}}),J.useCallback(function(){l.current||p.current?l.current&&p.current&&(f.current=c.createBean(new X.TabGuardCtrl({comp:{setTabIndex:n},eTopGuard:l.current,eBottomGuard:p.current,eFocusableElement:u,onTabKeyDown:a,forceFocusOutWhenTabGuardsAreEmpty:i,focusInnerElement:function(e){return s.focusInnerElement(e)}}))):(c.destroyBean(f.current),f.current=null)},[])),m=J.useCallback(function(e){l.current=e,d()},[d]),h=J.useCallback(function(e){p.current=e,d()},[d]);return Q.createElement(Q.Fragment,null,r("top"),o,r("bottom"))}),Ie=J.memo(o),Ae=J.memo(function(e){var l=e.context,e=J.useState(""),t=e[0],n=e[1],e=J.useState(""),r=e[0],e=(e[1],J.useState("")),o=e[0],u=e[1],e=J.useState(null),a=e[0],s=e[1],e=J.useState(null),i=e[0],c=e[1],e=J.useState(!1),p=e[0],f=e[1],e=J.useState(),d=e[0],m=e[1],h=J.useRef(null),C=J.useRef(null),g=J.useRef(),e=J.useState(null),v=e[0],e=e[1],y=J.useRef(function(){}),R=J.useCallback(function(){},[]),w=J.useMemo(function(){return l.isDestroyed()?null:l.getBean("beans")},[l]),E=(q(" AG Grid ",C),J.useCallback(function(e){C.current=e,C.current?l.isDestroyed()||(h.current=l.createBean(new X.GridCtrl),e=h.current,y.current=e.focusInnerElement.bind(e),e.setComp({destroyGridUi:function(){},setRtlClass:n,forceFocusOutOfContainer:function(e){var t;null!=(t=g.current)&&t.forceFocusOutOfContainer(e)},updateLayoutClasses:u,getFocusableContainers:function(){var e=[],t=null==(t=C.current)?void 0:t.querySelector(".ag-root"),n=null==(n=C.current)?void 0:n.querySelector(".ag-side-bar:not(.ag-hidden)");return t&&e.push(t),n&&e.push(n),e},setCursor:s,setUserSelect:c},C.current,C.current),f(!0)):(l.destroyBean(h.current),h.current=null)},[])),S=(J.useEffect(function(){var e,t,n,r,o,u,a,s,i,c;if(d&&w&&h.current&&v&&C.current)return e=h.current,t=[],s=(r=w.agStackComponentsRegistry).getComponentClass("AG-GRID-HEADER-DROP-ZONES"),a=r.getComponentClass("AG-SIDE-BAR"),i=r.getComponentClass("AG-STATUS-BAR"),n=r.getComponentClass("AG-WATERMARK"),r=r.getComponentClass("AG-PAGINATION"),o=[],u=C.current,e.showDropZones()&&s&&(c=(s=l.createBean(new s)).getGui(),u.insertAdjacentElement("afterbegin",c),o.push(c),t.push(s)),e.showSideBar()&&a&&(c=(s=l.createBean(new a)).getGui(),(a=v.querySelector(".ag-tab-guard-bottom"))&&(a.insertAdjacentElement("beforebegin",c),o.push(c)),t.push(s)),e.showStatusBar()&&i&&(c=(a=l.createBean(new i)).getGui(),u.insertAdjacentElement("beforeend",c),o.push(c),t.push(a)),r&&(c=(s=l.createBean(new r)).getGui(),u.insertAdjacentElement("beforeend",c),o.push(c),t.push(s)),e.showWatermark()&&n&&(c=(i=l.createBean(new n)).getGui(),u.insertAdjacentElement("beforeend",c),o.push(c),t.push(i)),function(){l.destroyBeans(t),o.forEach(function(e){e.parentElement&&e.parentElement.removeChild(e)})}},[d,v,w]),J.useMemo(function(){return $("ag-root-wrapper",t,r,o)},[t,r,o])),P=J.useMemo(function(){return $("ag-root-wrapper-body","ag-focus-managed",o)},[o]),M=J.useMemo(function(){return{userSelect:null!=i?i:"",WebkitUserSelect:null!=i?i:"",cursor:null!=a?a:""}},[i,a]),b=J.useCallback(function(e){g.current=e,m(null!==e)},[]);return Q.createElement("div",{ref:E,className:S,style:M,role:"presentation"},Q.createElement("div",{className:P,ref:e,role:"presentation"},p&&v&&w&&Q.createElement(te.Provider,{value:w},Q.createElement(Ie,{ref:b,eFocusableElement:v,onTabKeyDown:R,gridCtrl:h.current,forceFocusOutWhenTabGuardsAreEmpty:!0},Q.createElement(be,null)))))});t(Fe,ke=X.BaseComponentWrapper),Fe.prototype.createWrapper=function(e,t){if(this.reactiveCustomComponents){var n=function(e){switch(e){case"filter":return B;case"floatingFilterComponent":return U;case"dateComponent":return x;case"loadingOverlayComponent":return W;case"noRowsOverlayComponent":return z;case"statusPanel":return re;case"toolPanel":return ue;case"menuItem":return V}}(t.propertyName);if(n)return new n(e,this.parent,t)}else switch(t.propertyName){case"filter":case"floatingFilterComponent":case"dateComponent":case"loadingOverlayComponent":case"noRowsOverlayComponent":case"statusPanel":case"toolPanel":case"menuItem":me()}n=!t.cellRenderer&&"toolPanel"!==t.propertyName;return new G(e,this.parent,t,n)};var ke,Oe=Fe;function Fe(e,t){var n=ke.call(this)||this;return n.parent=e,n.reactiveCustomComponents=t,n}var Te,Ge=J.forwardRef(function(n,e){var t=J.useContext(te),r=t.ctrlsFactory,o=t.context,u=t.gridOptionsService,a=t.resizeObserverService,s=t.clientSideRowModel,i=t.serverSideRowModel,t=J.useState(function(){return new T}),c=t[0],l=t[1],t=J.useState(function(){return new T}),p=t[0],f=t[1],t=J.useState(),d=t[0],m=t[1],t=J.useState(),h=t[0],C=t[1],g=J.useRef(),v=J.useRef(null),y=J.useRef(),t=J.useMemo(function(){return X.ModuleRegistry.__getGridRegisteredModules(n.api.getGridId())},[n]),R=J.useMemo(function(){return c.toString()+" ag-details-row"},[c]),w=J.useMemo(function(){return p.toString()+" ag-details-grid"},[p]),e=(e&&J.useImperativeHandle(e,function(){return{refresh:function(){var e;return null!=(e=null==(e=g.current)?void 0:e.refresh())&&e}}}),n.template&&X._.warnOnce("detailCellRendererParams.template is not supported by AG Grid React. To change the template, provide a Custom Detail Cell Renderer. See https://ag-grid.com/react-data-grid/master-detail-custom-detail/"),J.useCallback(function(e){var t;v.current=e,v.current?(e={addOrRemoveCssClass:function(t,n){return l(function(e){return e.setClass(t,n)})},addOrRemoveDetailGridCssClass:function(t,n){return f(function(e){return e.setClass(t,n)})},setDetailGrid:function(e){return m(e)},setRowData:function(e){return C(e)},getGui:function(){return v.current}},(t=r.getInstance("detailCellRenderer"))&&(o.createBean(t),t.init(e,n),g.current=t,u.get("detailRowAutoHeight"))&&(y.current=a.observeResize(v.current,e=function(){var e;null!=v.current&&null!=(e=v.current.clientHeight)&&0<e&&setTimeout(function(){n.node.setRowHeight(e),s?s.onRowHeightChanged():i&&i.onRowHeightChanged()},0)}),e())):(o.destroyBean(g.current),y.current&&y.current())},[])),E=J.useCallback(function(e,t){var n;null!=(n=g.current)&&n.registerDetailWithMaster(e,t)},[]);return Q.createElement("div",{className:R,ref:e},d&&Q.createElement(we,ee({className:w},d,{modules:t,rowData:h,setGridApi:E})))}),Ne=(t(De,Te=X.VanillaFrameworkOverrides),De.prototype.frameworkComponent=function(e){return this.frameworkComponents[e]},De.prototype.isFrameworkComponent=function(e){return!(!e||(e=e.prototype)&&"getGui"in e)},De);function De(){var e=Te.call(this,"react")||this;return e.frameworkComponents={agGroupCellRenderer:pe,agGroupRowRenderer:pe,agDetailCellRenderer:Ge},e.wrapIncoming=function(e,t){return("ensureVisible"===t?(t=e,w||setTimeout(function(){return w=!1},0),w=!0,t):e)()},e.renderingEngine="react",e}t(S,xe=J.Component),S.prototype.registerApiListener=function(e){this.apiListeners.push(e)},S.prototype.componentWillUnmount=function(){this.apiListeners.length=0},S.prototype.render=function(){return Q.createElement(we,ee({},this.props,{setGridApi:this.setGridApi}))};var xe,Be,o=S;function S(){var n=null!==xe&&xe.apply(this,arguments)||this;return n.apiListeners=[],n.setGridApi=function(t,e){n.api=t,n.columnApi=e,n.apiListeners.forEach(function(e){return e(t)})},n}function P(e){(0,J.useContext(F).setMethods)(e)}(Be=e.ChangeDetectionStrategyType||(e.ChangeDetectionStrategyType={})).IdentityCheck="IdentityCheck",Be.DeepValueCheck="DeepValueCheck",Be.NoCheck="NoCheck",e.AgGridReact=o,e.useGridCellEditor=function(e){P(e)},e.useGridDate=P,e.useGridFilter=P,e.useGridFloatingFilter=function(e){P(e)},e.useGridMenuItem=function(e){P(e)},e.getInstance=function(e,t){var n;(null!=(n=null==(n=null==(e=e)?void 0:e.getInstance)?void 0:n.call(e))?n:X.AgPromise.resolve(void 0)).then(function(e){return t(e)})},e.warnReactiveCustomComponents=me,Object.defineProperty(e,"__esModule",{value:!0})});
