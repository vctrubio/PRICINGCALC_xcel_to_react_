{"ast":null,"code":"var _jsxFileName = \"/Users/trtp/working/milo/final_pricecalc_master/frontend/src/components/VendorView.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useMemo, useState } from 'react';\nimport { Form, Button } from 'react-bootstrap';\nimport axios from 'axios';\nimport { AgGridReact } from 'ag-grid-react';\nimport 'ag-grid-community/styles/ag-grid.css';\nimport 'ag-grid-community/styles/ag-theme-quartz.css';\nimport '../AppGrid.css';\nimport VendorForm from './VendorForm';\nimport { SearchBar } from './SearchBar';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nasync function getData(model) {\n  try {\n    const response = await axios.get(`http://localhost:8000/${model}`);\n    const dataArray = Object.values(response.data);\n    window.ptr = dataArray;\n    console.log(model, ' Data from API:', dataArray);\n    return dataArray;\n  } catch (error) {\n    console.error('There was a BIGFAT error!', error);\n  }\n}\nconst GridVendor = () => {\n  _s();\n  const [search, setSearch] = useState('');\n  const [rowData, setRowData] = useState([]);\n  const [colData, setColData] = useState([{\n    headerName: 'Vendor ID',\n    field: 'name_id'\n  }, {\n    headerName: 'Origin',\n    field: 'origin',\n    editable: true\n  }, {\n    headerName: 'PP Rate',\n    field: 'pp_rate_',\n    editable: true,\n    valueFormatter: params => `${params.value}%`\n  }, {\n    headerName: 'Ex Rate',\n    field: 'exchange_rate_',\n    editable: true,\n    valueFormatter: params => `${params.value}%`\n  }]);\n  const [showForm, setShowForm] = useState(false);\n  useEffect(() => {\n    getData('vendor').then(data => {\n      setRowData(data);\n    });\n  }, []);\n  const updateVendorData = async () => {\n    try {\n      const updatedData = await getData('vendor');\n      setRowData(updatedData);\n      console.log('Updated Vendor Data:', updatedData);\n    } catch (error) {\n      console.error('Error updating Vendor data:', error);\n      // Handle error appropriately (e.g., display a message)\n    }\n  };\n  const handleCellValueChanged = async event => {\n    try {\n      for (let key in event.data) {\n        if (event.data[key] === undefined || event.data[key] === null) {\n          console.error(`Error: ${key} is empty`);\n          return; // Exit the function if an empty field is found\n        }\n      }\n      const response = await axios.patch(`http://localhost:8000/vendor/${event.data.name_id}`, event.data);\n    } catch (error) {\n      console.error('Error updating Vendor data:', error);\n      // Handle error appropriately (e.g., display a message)\n    }\n  };\n  return (\n    /*#__PURE__*/\n    // style={{ height: 800, width: 1270 }}>\n    _jsxDEV(\"div\", {\n      className: \"ag-theme-quartz-dark maincontent\",\n      style: {\n        height: '70vh',\n        width: 1270\n      },\n      children: [/*#__PURE__*/_jsxDEV(SearchBar, {\n        title: \"Vendor\",\n        titlecount: rowData.length,\n        search: search,\n        setSearch: setSearch,\n        data: rowData\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(AgGridReact, {\n        columnDefs: colData,\n        rowData: rowData,\n        defaultColDef: {\n          flex: 1\n        },\n        onCellValueChanged: handleCellValueChanged\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-4\",\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          variant: showForm ? \"dark\" : \"primary\",\n          onClick: () => setShowForm(!showForm),\n          children: showForm ? 'Close Vendor' : 'New Vendor'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 17\n        }, this), showForm && /*#__PURE__*/_jsxDEV(VendorForm, {\n          addVendor: updateVendorData,\n          rowData: rowData,\n          onClose: () => setShowForm(false)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 30\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 9\n    }, this)\n  );\n};\n_s(GridVendor, \"8/Iwo6etg/3lDjCJXVAv+fHWvZ0=\");\n_c = GridVendor;\nexport default GridVendor;\nvar _c;\n$RefreshReg$(_c, \"GridVendor\");","map":{"version":3,"names":["React","useEffect","useMemo","useState","Form","Button","axios","AgGridReact","VendorForm","SearchBar","jsxDEV","_jsxDEV","getData","model","response","get","dataArray","Object","values","data","window","ptr","console","log","error","GridVendor","_s","search","setSearch","rowData","setRowData","colData","setColData","headerName","field","editable","valueFormatter","params","value","showForm","setShowForm","then","updateVendorData","updatedData","handleCellValueChanged","event","key","undefined","patch","name_id","className","style","height","width","children","title","titlecount","length","fileName","_jsxFileName","lineNumber","columnNumber","columnDefs","defaultColDef","flex","onCellValueChanged","variant","onClick","addVendor","onClose","_c","$RefreshReg$"],"sources":["/Users/trtp/working/milo/final_pricecalc_master/frontend/src/components/VendorView.js"],"sourcesContent":["import React, { useEffect, useMemo, useState } from 'react'\nimport { Form, Button } from 'react-bootstrap';\n\nimport axios from 'axios'\nimport { AgGridReact } from 'ag-grid-react'\nimport 'ag-grid-community/styles/ag-grid.css'\nimport 'ag-grid-community/styles/ag-theme-quartz.css'\nimport '../AppGrid.css';\nimport VendorForm from './VendorForm'\nimport { SearchBar } from './SearchBar';\n\nasync function getData(model) {\n    try {\n        const response = await axios.get(`http://localhost:8000/${model}`);\n        const dataArray = Object.values(response.data);\n        window.ptr = dataArray;\n        console.log(model, ' Data from API:', dataArray);\n        return dataArray;\n    } catch (error) {\n        console.error('There was a BIGFAT error!', error);\n    }\n}\n\n\nconst GridVendor = () => {\n    const [search, setSearch] = useState('');\n    const [rowData, setRowData] = useState([])\n    const [colData, setColData] = useState(\n        [\n            { headerName: 'Vendor ID', field: 'name_id' },\n            { headerName: 'Origin', field: 'origin', editable: true },\n            { headerName: 'PP Rate', field: 'pp_rate_', editable: true, valueFormatter: params => `${params.value}%` },\n            { headerName: 'Ex Rate', field: 'exchange_rate_', editable: true, valueFormatter: params => `${params.value}%` },\n        ]\n    )\n\n    const [showForm, setShowForm] = useState(false);\n\n\n    useEffect(() => {\n        getData('vendor').then(data => {\n            setRowData(data);\n        });\n    }, []);\n\n    const updateVendorData = async () => {\n        try {\n            const updatedData = await getData('vendor');\n            setRowData(updatedData);\n            console.log('Updated Vendor Data:', updatedData)\n        } catch (error) {\n            console.error('Error updating Vendor data:', error);\n            // Handle error appropriately (e.g., display a message)\n        }\n    }\n\n    const handleCellValueChanged = async (event) => {\n\n        try {\n            for (let key in event.data) {\n                if (event.data[key] === undefined || event.data[key] === null) {\n                    console.error(`Error: ${key} is empty`);\n                    return;  // Exit the function if an empty field is found\n                }\n            }\n            const response = await axios.patch(`http://localhost:8000/vendor/${event.data.name_id}`, event.data);\n        } catch (error) {\n            console.error('Error updating Vendor data:', error);\n            // Handle error appropriately (e.g., display a message)\n        }\n    }\n\n    return (\n        // style={{ height: 800, width: 1270 }}>\n        <div className=\"ag-theme-quartz-dark maincontent\" style={{ height: '70vh', width: 1270 }}>\n            <SearchBar title='Vendor' titlecount={rowData.length} search={search} setSearch={setSearch} data={rowData} />\n            <AgGridReact\n                columnDefs={colData}\n                rowData={rowData}\n                defaultColDef={{ flex: 1 }}\n                onCellValueChanged={handleCellValueChanged}\n            />\n            <div className='mt-4'>\n                <Button variant={showForm ? \"dark\" : \"primary\"} onClick={() => setShowForm(!showForm)}>\n                    {showForm ? 'Close Vendor' : 'New Vendor'}\n                </Button>\n                {showForm && <VendorForm addVendor={updateVendorData} rowData={rowData} onClose={() => setShowForm(false)} />}\n            </div>\n        </div >\n    )\n\n}\n\nexport default GridVendor;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}