{"ast":null,"code":"// ag-grid-react v31.0.3\n\"use strict\";\n\nvar __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n    };\n    return extendStatics(d, b);\n  };\n  return function (d, b) {\n    if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n    extendStatics(d, b);\n    function __() {\n      this.constructor = d;\n    }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n    return t;\n  };\n  return __assign.apply(this, arguments);\n};\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  Object.defineProperty(o, k2, {\n    enumerable: true,\n    get: function () {\n      return m[k];\n    }\n  });\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  __setModuleDefault(result, mod);\n  return result;\n};\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.AgGridReactUi = void 0;\nvar ag_grid_community_1 = require(\"ag-grid-community\");\nvar react_1 = __importStar(require(\"react\"));\nvar dateComponentWrapper_1 = require(\"../shared/customComp/dateComponentWrapper\");\nvar filterComponentWrapper_1 = require(\"../shared/customComp/filterComponentWrapper\");\nvar floatingFilterComponentWrapper_1 = require(\"../shared/customComp/floatingFilterComponentWrapper\");\nvar loadingOverlayComponentWrapper_1 = require(\"../shared/customComp/loadingOverlayComponentWrapper\");\nvar noRowsOverlayComponentWrapper_1 = require(\"../shared/customComp/noRowsOverlayComponentWrapper\");\nvar statusPanelComponentWrapper_1 = require(\"../shared/customComp/statusPanelComponentWrapper\");\nvar toolPanelComponentWrapper_1 = require(\"../shared/customComp/toolPanelComponentWrapper\");\nvar reactComponent_1 = require(\"../shared/reactComponent\");\nvar portalManager_1 = require(\"../shared/portalManager\");\nvar beansContext_1 = require(\"./beansContext\");\nvar utils_1 = require(\"./utils\");\nvar groupCellRenderer_1 = __importDefault(require(\"../reactUi/cellRenderer/groupCellRenderer\"));\nvar gridComp_1 = __importDefault(require(\"./gridComp\"));\nvar AgGridReactUi = function (props) {\n  var _a, _b;\n  var apiRef = react_1.useRef();\n  var eGui = react_1.useRef(null);\n  var portalManager = react_1.useRef(null);\n  var destroyFuncs = react_1.useRef([]);\n  var whenReadyFuncs = react_1.useRef([]);\n  var prevProps = react_1.useRef(props);\n  var ready = react_1.useRef(false);\n  var _c = react_1.useState(undefined),\n    context = _c[0],\n    setContext = _c[1];\n  // Hook to enable Portals to be displayed via the PortalManager\n  var _d = react_1.useState(0),\n    setPortalRefresher = _d[1];\n  var setRef = react_1.useCallback(function (e) {\n    eGui.current = e;\n    if (!eGui.current) {\n      destroyFuncs.current.forEach(function (f) {\n        return f();\n      });\n      destroyFuncs.current.length = 0;\n      return;\n    }\n    var modules = props.modules || [];\n    if (!portalManager.current) {\n      portalManager.current = new portalManager_1.PortalManager(function () {\n        return setPortalRefresher(function (prev) {\n          return prev + 1;\n        });\n      }, props.componentWrappingElement, props.maxComponentCreationTimeMs);\n      destroyFuncs.current.push(function () {\n        var _a;\n        (_a = portalManager.current) === null || _a === void 0 ? void 0 : _a.destroy();\n        portalManager.current = null;\n      });\n    }\n    var mergedGridOps = ag_grid_community_1.ComponentUtil.combineAttributesAndGridOptions(props.gridOptions, props);\n    var gridParams = {\n      providedBeanInstances: {\n        frameworkComponentWrapper: new ReactFrameworkComponentWrapper(portalManager.current, !!mergedGridOps.reactiveCustomComponents)\n      },\n      modules: modules,\n      frameworkOverrides: new ReactFrameworkOverrides()\n    };\n    var createUiCallback = function (context) {\n      setContext(context);\n      destroyFuncs.current.push(function () {\n        context.destroy();\n      });\n      // because React is Async, we need to wait for the UI to be initialised before exposing the API's\n      var ctrlsService = context.getBean(ag_grid_community_1.CtrlsService.NAME);\n      ctrlsService.whenReady(function () {\n        if (context.isDestroyed()) {\n          return;\n        }\n        var api = apiRef.current;\n        if (api) {\n          if (props.setGridApi) {\n            props.setGridApi(api, new ag_grid_community_1.ColumnApi(api));\n          }\n        }\n      });\n    };\n    // this callback adds to ctrlsService.whenReady(), just like above, however because whenReady() executes\n    // funcs in the order they were received, we know adding items here will be AFTER the grid has set columns\n    // and data. this is because GridCoreCreator sets these between calling createUiCallback and acceptChangesCallback\n    var acceptChangesCallback = function (context) {\n      var ctrlsService = context.getBean(ag_grid_community_1.CtrlsService.NAME);\n      ctrlsService.whenReady(function () {\n        whenReadyFuncs.current.forEach(function (f) {\n          return f();\n        });\n        whenReadyFuncs.current.length = 0;\n        ready.current = true;\n      });\n    };\n    var gridCoreCreator = new ag_grid_community_1.GridCoreCreator();\n    apiRef.current = gridCoreCreator.create(eGui.current, mergedGridOps, createUiCallback, acceptChangesCallback, gridParams);\n  }, []);\n  var style = react_1.useMemo(function () {\n    return __assign({\n      height: '100%'\n    }, props.containerStyle || {});\n  }, [props.containerStyle]);\n  var processWhenReady = react_1.useCallback(function (func) {\n    if (ready.current) {\n      func();\n    } else {\n      whenReadyFuncs.current.push(func);\n    }\n  }, []);\n  react_1.useEffect(function () {\n    var changes = extractGridPropertyChanges(prevProps.current, props);\n    prevProps.current = props;\n    processWhenReady(function () {\n      if (apiRef.current) {\n        ag_grid_community_1.ComponentUtil.processOnChange(changes, apiRef.current);\n      }\n    });\n  }, [props]);\n  return react_1.default.createElement(\"div\", {\n    style: style,\n    className: props.className,\n    ref: setRef\n  }, context && !context.isDestroyed() ? react_1.default.createElement(gridComp_1.default, {\n    context: context\n  }) : null, (_b = (_a = portalManager.current) === null || _a === void 0 ? void 0 : _a.getPortals()) !== null && _b !== void 0 ? _b : null);\n};\nexports.AgGridReactUi = AgGridReactUi;\nfunction extractGridPropertyChanges(prevProps, nextProps) {\n  var changes = {};\n  Object.keys(nextProps).forEach(function (propKey) {\n    var propValue = nextProps[propKey];\n    if (prevProps[propKey] !== propValue) {\n      changes[propKey] = propValue;\n    }\n  });\n  return changes;\n}\nvar ReactFrameworkComponentWrapper = /** @class */function (_super) {\n  __extends(ReactFrameworkComponentWrapper, _super);\n  function ReactFrameworkComponentWrapper(parent, reactiveCustomComponents) {\n    var _this = _super.call(this) || this;\n    _this.parent = parent;\n    _this.reactiveCustomComponents = reactiveCustomComponents;\n    return _this;\n  }\n  ReactFrameworkComponentWrapper.prototype.createWrapper = function (UserReactComponent, componentType) {\n    if (this.reactiveCustomComponents) {\n      var getComponentClass = function (propertyName) {\n        switch (propertyName) {\n          case 'filter':\n            return filterComponentWrapper_1.FilterComponentWrapper;\n          case 'floatingFilterComponent':\n            return floatingFilterComponentWrapper_1.FloatingFilterComponentWrapper;\n          case 'dateComponent':\n            return dateComponentWrapper_1.DateComponentWrapper;\n          case 'loadingOverlayComponent':\n            return loadingOverlayComponentWrapper_1.LoadingOverlayComponentWrapper;\n          case 'noRowsOverlayComponent':\n            return noRowsOverlayComponentWrapper_1.NoRowsOverlayComponentWrapper;\n          case 'statusPanel':\n            return statusPanelComponentWrapper_1.StatusPanelComponentWrapper;\n          case 'toolPanel':\n            return toolPanelComponentWrapper_1.ToolPanelComponentWrapper;\n        }\n      };\n      var ComponentClass = getComponentClass(componentType.propertyName);\n      if (ComponentClass) {\n        return new ComponentClass(UserReactComponent, this.parent, componentType);\n      }\n    }\n    // only cell renderers and tool panel should use fallback methods\n    var suppressFallbackMethods = !componentType.cellRenderer && componentType.propertyName !== 'toolPanel';\n    return new reactComponent_1.ReactComponent(UserReactComponent, this.parent, componentType, suppressFallbackMethods);\n  };\n  return ReactFrameworkComponentWrapper;\n}(ag_grid_community_1.BaseComponentWrapper);\n// Define DetailCellRenderer and ReactFrameworkOverrides here to avoid circular dependency\nvar DetailCellRenderer = react_1.forwardRef(function (props, ref) {\n  var _a = react_1.useContext(beansContext_1.BeansContext),\n    ctrlsFactory = _a.ctrlsFactory,\n    context = _a.context,\n    gridOptionsService = _a.gridOptionsService,\n    resizeObserverService = _a.resizeObserverService,\n    clientSideRowModel = _a.clientSideRowModel,\n    serverSideRowModel = _a.serverSideRowModel;\n  var _b = react_1.useState(function () {\n      return new utils_1.CssClasses();\n    }),\n    cssClasses = _b[0],\n    setCssClasses = _b[1];\n  var _c = react_1.useState(function () {\n      return new utils_1.CssClasses();\n    }),\n    gridCssClasses = _c[0],\n    setGridCssClasses = _c[1];\n  var _d = react_1.useState(),\n    detailGridOptions = _d[0],\n    setDetailGridOptions = _d[1];\n  var _e = react_1.useState(),\n    detailRowData = _e[0],\n    setDetailRowData = _e[1];\n  var ctrlRef = react_1.useRef();\n  var eGuiRef = react_1.useRef(null);\n  var resizeObserverDestroyFunc = react_1.useRef();\n  var parentModules = react_1.useMemo(function () {\n    return ag_grid_community_1.ModuleRegistry.__getGridRegisteredModules(props.api.getGridId());\n  }, [props]);\n  var topClassName = react_1.useMemo(function () {\n    return cssClasses.toString() + ' ag-details-row';\n  }, [cssClasses]);\n  var gridClassName = react_1.useMemo(function () {\n    return gridCssClasses.toString() + ' ag-details-grid';\n  }, [gridCssClasses]);\n  if (ref) {\n    react_1.useImperativeHandle(ref, function () {\n      return {\n        refresh: function () {\n          var _a, _b;\n          return (_b = (_a = ctrlRef.current) === null || _a === void 0 ? void 0 : _a.refresh()) !== null && _b !== void 0 ? _b : false;\n        }\n      };\n    });\n  }\n  if (props.template) {\n    ag_grid_community_1._.warnOnce('detailCellRendererParams.template is not supported by AG Grid React. To change the template, provide a Custom Detail Cell Renderer. See https://ag-grid.com/react-data-grid/master-detail-custom-detail/');\n  }\n  var setRef = react_1.useCallback(function (e) {\n    eGuiRef.current = e;\n    if (!eGuiRef.current) {\n      context.destroyBean(ctrlRef.current);\n      if (resizeObserverDestroyFunc.current) {\n        resizeObserverDestroyFunc.current();\n      }\n      return;\n    }\n    var compProxy = {\n      addOrRemoveCssClass: function (name, on) {\n        return setCssClasses(function (prev) {\n          return prev.setClass(name, on);\n        });\n      },\n      addOrRemoveDetailGridCssClass: function (name, on) {\n        return setGridCssClasses(function (prev) {\n          return prev.setClass(name, on);\n        });\n      },\n      setDetailGrid: function (gridOptions) {\n        return setDetailGridOptions(gridOptions);\n      },\n      setRowData: function (rowData) {\n        return setDetailRowData(rowData);\n      },\n      getGui: function () {\n        return eGuiRef.current;\n      }\n    };\n    var ctrl = ctrlsFactory.getInstance('detailCellRenderer');\n    if (!ctrl) {\n      return;\n    } // should never happen, means master/detail module not loaded\n    context.createBean(ctrl);\n    ctrl.init(compProxy, props);\n    ctrlRef.current = ctrl;\n    if (gridOptionsService.get('detailRowAutoHeight')) {\n      var checkRowSizeFunc = function () {\n        // when disposed, current is null, so nothing to do, and the resize observer will\n        // be disposed of soon\n        if (eGuiRef.current == null) {\n          return;\n        }\n        var clientHeight = eGuiRef.current.clientHeight;\n        // if the UI is not ready, the height can be 0, which we ignore, as otherwise a flicker will occur\n        // as UI goes from the default height, to 0, then to the real height as UI becomes ready. this means\n        // it's not possible for have 0 as auto-height, however this is an improbable use case, as even an\n        // empty detail grid would still have some styling around it giving at least a few pixels.\n        if (clientHeight != null && clientHeight > 0) {\n          // we do the update in a timeout, to make sure we are not calling from inside the grid\n          // doing another update\n          var updateRowHeightFunc = function () {\n            props.node.setRowHeight(clientHeight);\n            if (clientSideRowModel) {\n              clientSideRowModel.onRowHeightChanged();\n            } else if (serverSideRowModel) {\n              serverSideRowModel.onRowHeightChanged();\n            }\n          };\n          setTimeout(updateRowHeightFunc, 0);\n        }\n      };\n      resizeObserverDestroyFunc.current = resizeObserverService.observeResize(eGuiRef.current, checkRowSizeFunc);\n      checkRowSizeFunc();\n    }\n  }, []);\n  var setGridApi = react_1.useCallback(function (api, columnApi) {\n    var _a;\n    (_a = ctrlRef.current) === null || _a === void 0 ? void 0 : _a.registerDetailWithMaster(api, columnApi);\n  }, []);\n  return react_1.default.createElement(\"div\", {\n    className: topClassName,\n    ref: setRef\n  }, detailGridOptions && react_1.default.createElement(exports.AgGridReactUi, __assign({\n    className: gridClassName\n  }, detailGridOptions, {\n    modules: parentModules,\n    rowData: detailRowData,\n    setGridApi: setGridApi\n  })));\n});\nvar ReactFrameworkOverrides = /** @class */function (_super) {\n  __extends(ReactFrameworkOverrides, _super);\n  function ReactFrameworkOverrides() {\n    var _this = _super.call(this, 'react') || this;\n    _this.frameworkComponents = {\n      agGroupCellRenderer: groupCellRenderer_1.default,\n      agGroupRowRenderer: groupCellRenderer_1.default,\n      agDetailCellRenderer: DetailCellRenderer\n    };\n    _this.renderingEngine = 'react';\n    return _this;\n  }\n  ReactFrameworkOverrides.prototype.frameworkComponent = function (name) {\n    return this.frameworkComponents[name];\n  };\n  ReactFrameworkOverrides.prototype.isFrameworkComponent = function (comp) {\n    if (!comp) {\n      return false;\n    }\n    var prototype = comp.prototype;\n    var isJsComp = prototype && 'getGui' in prototype;\n    return !isJsComp;\n  };\n  return ReactFrameworkOverrides;\n}(ag_grid_community_1.VanillaFrameworkOverrides);","map":{"version":3,"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","prototype","hasOwnProperty","call","TypeError","String","__","constructor","create","__assign","assign","t","s","i","n","arguments","length","apply","__createBinding","o","m","k","k2","undefined","defineProperty","enumerable","get","__setModuleDefault","v","value","__importStar","mod","__esModule","result","__importDefault","exports","AgGridReactUi","ag_grid_community_1","require","react_1","dateComponentWrapper_1","filterComponentWrapper_1","floatingFilterComponentWrapper_1","loadingOverlayComponentWrapper_1","noRowsOverlayComponentWrapper_1","statusPanelComponentWrapper_1","toolPanelComponentWrapper_1","reactComponent_1","portalManager_1","beansContext_1","utils_1","groupCellRenderer_1","gridComp_1","props","_a","_b","apiRef","useRef","eGui","portalManager","destroyFuncs","whenReadyFuncs","prevProps","ready","_c","useState","context","setContext","_d","setPortalRefresher","setRef","useCallback","e","current","forEach","f","modules","PortalManager","prev","componentWrappingElement","maxComponentCreationTimeMs","push","destroy","mergedGridOps","ComponentUtil","combineAttributesAndGridOptions","gridOptions","gridParams","providedBeanInstances","frameworkComponentWrapper","ReactFrameworkComponentWrapper","reactiveCustomComponents","frameworkOverrides","ReactFrameworkOverrides","createUiCallback","ctrlsService","getBean","CtrlsService","NAME","whenReady","isDestroyed","api","setGridApi","ColumnApi","acceptChangesCallback","gridCoreCreator","GridCoreCreator","style","useMemo","height","containerStyle","processWhenReady","func","useEffect","changes","extractGridPropertyChanges","processOnChange","default","createElement","className","ref","getPortals","nextProps","keys","propKey","propValue","_super","parent","_this","createWrapper","UserReactComponent","componentType","getComponentClass","propertyName","FilterComponentWrapper","FloatingFilterComponentWrapper","DateComponentWrapper","LoadingOverlayComponentWrapper","NoRowsOverlayComponentWrapper","StatusPanelComponentWrapper","ToolPanelComponentWrapper","ComponentClass","suppressFallbackMethods","cellRenderer","ReactComponent","BaseComponentWrapper","DetailCellRenderer","forwardRef","useContext","BeansContext","ctrlsFactory","gridOptionsService","resizeObserverService","clientSideRowModel","serverSideRowModel","CssClasses","cssClasses","setCssClasses","gridCssClasses","setGridCssClasses","detailGridOptions","setDetailGridOptions","_e","detailRowData","setDetailRowData","ctrlRef","eGuiRef","resizeObserverDestroyFunc","parentModules","ModuleRegistry","__getGridRegisteredModules","getGridId","topClassName","toString","gridClassName","useImperativeHandle","refresh","template","_","warnOnce","destroyBean","compProxy","addOrRemoveCssClass","name","on","setClass","addOrRemoveDetailGridCssClass","setDetailGrid","setRowData","rowData","getGui","ctrl","getInstance","createBean","init","checkRowSizeFunc","clientHeight","updateRowHeightFunc","node","setRowHeight","onRowHeightChanged","setTimeout","observeResize","columnApi","registerDetailWithMaster","frameworkComponents","agGroupCellRenderer","agGroupRowRenderer","agDetailCellRenderer","renderingEngine","frameworkComponent","isFrameworkComponent","comp","isJsComp","VanillaFrameworkOverrides"],"sources":["/Users/trtp/working/milo/final_pricecalc_master/frontend/node_modules/ag-grid-react/lib/reactUi/agGridReactUi.js"],"sourcesContent":["// ag-grid-react v31.0.3\n\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.AgGridReactUi = void 0;\nvar ag_grid_community_1 = require(\"ag-grid-community\");\nvar react_1 = __importStar(require(\"react\"));\nvar dateComponentWrapper_1 = require(\"../shared/customComp/dateComponentWrapper\");\nvar filterComponentWrapper_1 = require(\"../shared/customComp/filterComponentWrapper\");\nvar floatingFilterComponentWrapper_1 = require(\"../shared/customComp/floatingFilterComponentWrapper\");\nvar loadingOverlayComponentWrapper_1 = require(\"../shared/customComp/loadingOverlayComponentWrapper\");\nvar noRowsOverlayComponentWrapper_1 = require(\"../shared/customComp/noRowsOverlayComponentWrapper\");\nvar statusPanelComponentWrapper_1 = require(\"../shared/customComp/statusPanelComponentWrapper\");\nvar toolPanelComponentWrapper_1 = require(\"../shared/customComp/toolPanelComponentWrapper\");\nvar reactComponent_1 = require(\"../shared/reactComponent\");\nvar portalManager_1 = require(\"../shared/portalManager\");\nvar beansContext_1 = require(\"./beansContext\");\nvar utils_1 = require(\"./utils\");\nvar groupCellRenderer_1 = __importDefault(require(\"../reactUi/cellRenderer/groupCellRenderer\"));\nvar gridComp_1 = __importDefault(require(\"./gridComp\"));\nvar AgGridReactUi = function (props) {\n    var _a, _b;\n    var apiRef = react_1.useRef();\n    var eGui = react_1.useRef(null);\n    var portalManager = react_1.useRef(null);\n    var destroyFuncs = react_1.useRef([]);\n    var whenReadyFuncs = react_1.useRef([]);\n    var prevProps = react_1.useRef(props);\n    var ready = react_1.useRef(false);\n    var _c = react_1.useState(undefined), context = _c[0], setContext = _c[1];\n    // Hook to enable Portals to be displayed via the PortalManager\n    var _d = react_1.useState(0), setPortalRefresher = _d[1];\n    var setRef = react_1.useCallback(function (e) {\n        eGui.current = e;\n        if (!eGui.current) {\n            destroyFuncs.current.forEach(function (f) { return f(); });\n            destroyFuncs.current.length = 0;\n            return;\n        }\n        var modules = props.modules || [];\n        if (!portalManager.current) {\n            portalManager.current = new portalManager_1.PortalManager(function () { return setPortalRefresher(function (prev) { return prev + 1; }); }, props.componentWrappingElement, props.maxComponentCreationTimeMs);\n            destroyFuncs.current.push(function () {\n                var _a;\n                (_a = portalManager.current) === null || _a === void 0 ? void 0 : _a.destroy();\n                portalManager.current = null;\n            });\n        }\n        var mergedGridOps = ag_grid_community_1.ComponentUtil.combineAttributesAndGridOptions(props.gridOptions, props);\n        var gridParams = {\n            providedBeanInstances: {\n                frameworkComponentWrapper: new ReactFrameworkComponentWrapper(portalManager.current, !!mergedGridOps.reactiveCustomComponents),\n            },\n            modules: modules,\n            frameworkOverrides: new ReactFrameworkOverrides(),\n        };\n        var createUiCallback = function (context) {\n            setContext(context);\n            destroyFuncs.current.push(function () {\n                context.destroy();\n            });\n            // because React is Async, we need to wait for the UI to be initialised before exposing the API's\n            var ctrlsService = context.getBean(ag_grid_community_1.CtrlsService.NAME);\n            ctrlsService.whenReady(function () {\n                if (context.isDestroyed()) {\n                    return;\n                }\n                var api = apiRef.current;\n                if (api) {\n                    if (props.setGridApi) {\n                        props.setGridApi(api, new ag_grid_community_1.ColumnApi(api));\n                    }\n                }\n            });\n        };\n        // this callback adds to ctrlsService.whenReady(), just like above, however because whenReady() executes\n        // funcs in the order they were received, we know adding items here will be AFTER the grid has set columns\n        // and data. this is because GridCoreCreator sets these between calling createUiCallback and acceptChangesCallback\n        var acceptChangesCallback = function (context) {\n            var ctrlsService = context.getBean(ag_grid_community_1.CtrlsService.NAME);\n            ctrlsService.whenReady(function () {\n                whenReadyFuncs.current.forEach(function (f) { return f(); });\n                whenReadyFuncs.current.length = 0;\n                ready.current = true;\n            });\n        };\n        var gridCoreCreator = new ag_grid_community_1.GridCoreCreator();\n        apiRef.current = gridCoreCreator.create(eGui.current, mergedGridOps, createUiCallback, acceptChangesCallback, gridParams);\n    }, []);\n    var style = react_1.useMemo(function () {\n        return __assign({ height: '100%' }, (props.containerStyle || {}));\n    }, [props.containerStyle]);\n    var processWhenReady = react_1.useCallback(function (func) {\n        if (ready.current) {\n            func();\n        }\n        else {\n            whenReadyFuncs.current.push(func);\n        }\n    }, []);\n    react_1.useEffect(function () {\n        var changes = extractGridPropertyChanges(prevProps.current, props);\n        prevProps.current = props;\n        processWhenReady(function () {\n            if (apiRef.current) {\n                ag_grid_community_1.ComponentUtil.processOnChange(changes, apiRef.current);\n            }\n        });\n    }, [props]);\n    return (react_1.default.createElement(\"div\", { style: style, className: props.className, ref: setRef },\n        context && !context.isDestroyed() ? react_1.default.createElement(gridComp_1.default, { context: context }) : null, (_b = (_a = portalManager.current) === null || _a === void 0 ? void 0 : _a.getPortals()) !== null && _b !== void 0 ? _b : null));\n};\nexports.AgGridReactUi = AgGridReactUi;\nfunction extractGridPropertyChanges(prevProps, nextProps) {\n    var changes = {};\n    Object.keys(nextProps).forEach(function (propKey) {\n        var propValue = nextProps[propKey];\n        if (prevProps[propKey] !== propValue) {\n            changes[propKey] = propValue;\n        }\n    });\n    return changes;\n}\nvar ReactFrameworkComponentWrapper = /** @class */ (function (_super) {\n    __extends(ReactFrameworkComponentWrapper, _super);\n    function ReactFrameworkComponentWrapper(parent, reactiveCustomComponents) {\n        var _this = _super.call(this) || this;\n        _this.parent = parent;\n        _this.reactiveCustomComponents = reactiveCustomComponents;\n        return _this;\n    }\n    ReactFrameworkComponentWrapper.prototype.createWrapper = function (UserReactComponent, componentType) {\n        if (this.reactiveCustomComponents) {\n            var getComponentClass = function (propertyName) {\n                switch (propertyName) {\n                    case 'filter':\n                        return filterComponentWrapper_1.FilterComponentWrapper;\n                    case 'floatingFilterComponent':\n                        return floatingFilterComponentWrapper_1.FloatingFilterComponentWrapper;\n                    case 'dateComponent':\n                        return dateComponentWrapper_1.DateComponentWrapper;\n                    case 'loadingOverlayComponent':\n                        return loadingOverlayComponentWrapper_1.LoadingOverlayComponentWrapper;\n                    case 'noRowsOverlayComponent':\n                        return noRowsOverlayComponentWrapper_1.NoRowsOverlayComponentWrapper;\n                    case 'statusPanel':\n                        return statusPanelComponentWrapper_1.StatusPanelComponentWrapper;\n                    case 'toolPanel':\n                        return toolPanelComponentWrapper_1.ToolPanelComponentWrapper;\n                }\n            };\n            var ComponentClass = getComponentClass(componentType.propertyName);\n            if (ComponentClass) {\n                return new ComponentClass(UserReactComponent, this.parent, componentType);\n            }\n        }\n        // only cell renderers and tool panel should use fallback methods\n        var suppressFallbackMethods = !componentType.cellRenderer && componentType.propertyName !== 'toolPanel';\n        return new reactComponent_1.ReactComponent(UserReactComponent, this.parent, componentType, suppressFallbackMethods);\n    };\n    return ReactFrameworkComponentWrapper;\n}(ag_grid_community_1.BaseComponentWrapper));\n// Define DetailCellRenderer and ReactFrameworkOverrides here to avoid circular dependency\nvar DetailCellRenderer = react_1.forwardRef(function (props, ref) {\n    var _a = react_1.useContext(beansContext_1.BeansContext), ctrlsFactory = _a.ctrlsFactory, context = _a.context, gridOptionsService = _a.gridOptionsService, resizeObserverService = _a.resizeObserverService, clientSideRowModel = _a.clientSideRowModel, serverSideRowModel = _a.serverSideRowModel;\n    var _b = react_1.useState(function () { return new utils_1.CssClasses(); }), cssClasses = _b[0], setCssClasses = _b[1];\n    var _c = react_1.useState(function () { return new utils_1.CssClasses(); }), gridCssClasses = _c[0], setGridCssClasses = _c[1];\n    var _d = react_1.useState(), detailGridOptions = _d[0], setDetailGridOptions = _d[1];\n    var _e = react_1.useState(), detailRowData = _e[0], setDetailRowData = _e[1];\n    var ctrlRef = react_1.useRef();\n    var eGuiRef = react_1.useRef(null);\n    var resizeObserverDestroyFunc = react_1.useRef();\n    var parentModules = react_1.useMemo(function () { return ag_grid_community_1.ModuleRegistry.__getGridRegisteredModules(props.api.getGridId()); }, [props]);\n    var topClassName = react_1.useMemo(function () { return cssClasses.toString() + ' ag-details-row'; }, [cssClasses]);\n    var gridClassName = react_1.useMemo(function () { return gridCssClasses.toString() + ' ag-details-grid'; }, [gridCssClasses]);\n    if (ref) {\n        react_1.useImperativeHandle(ref, function () { return ({\n            refresh: function () { var _a, _b; return (_b = (_a = ctrlRef.current) === null || _a === void 0 ? void 0 : _a.refresh()) !== null && _b !== void 0 ? _b : false; }\n        }); });\n    }\n    if (props.template) {\n        ag_grid_community_1._.warnOnce('detailCellRendererParams.template is not supported by AG Grid React. To change the template, provide a Custom Detail Cell Renderer. See https://ag-grid.com/react-data-grid/master-detail-custom-detail/');\n    }\n    var setRef = react_1.useCallback(function (e) {\n        eGuiRef.current = e;\n        if (!eGuiRef.current) {\n            context.destroyBean(ctrlRef.current);\n            if (resizeObserverDestroyFunc.current) {\n                resizeObserverDestroyFunc.current();\n            }\n            return;\n        }\n        var compProxy = {\n            addOrRemoveCssClass: function (name, on) { return setCssClasses(function (prev) { return prev.setClass(name, on); }); },\n            addOrRemoveDetailGridCssClass: function (name, on) { return setGridCssClasses(function (prev) { return prev.setClass(name, on); }); },\n            setDetailGrid: function (gridOptions) { return setDetailGridOptions(gridOptions); },\n            setRowData: function (rowData) { return setDetailRowData(rowData); },\n            getGui: function () { return eGuiRef.current; }\n        };\n        var ctrl = ctrlsFactory.getInstance('detailCellRenderer');\n        if (!ctrl) {\n            return;\n        } // should never happen, means master/detail module not loaded\n        context.createBean(ctrl);\n        ctrl.init(compProxy, props);\n        ctrlRef.current = ctrl;\n        if (gridOptionsService.get('detailRowAutoHeight')) {\n            var checkRowSizeFunc = function () {\n                // when disposed, current is null, so nothing to do, and the resize observer will\n                // be disposed of soon\n                if (eGuiRef.current == null) {\n                    return;\n                }\n                var clientHeight = eGuiRef.current.clientHeight;\n                // if the UI is not ready, the height can be 0, which we ignore, as otherwise a flicker will occur\n                // as UI goes from the default height, to 0, then to the real height as UI becomes ready. this means\n                // it's not possible for have 0 as auto-height, however this is an improbable use case, as even an\n                // empty detail grid would still have some styling around it giving at least a few pixels.\n                if (clientHeight != null && clientHeight > 0) {\n                    // we do the update in a timeout, to make sure we are not calling from inside the grid\n                    // doing another update\n                    var updateRowHeightFunc = function () {\n                        props.node.setRowHeight(clientHeight);\n                        if (clientSideRowModel) {\n                            clientSideRowModel.onRowHeightChanged();\n                        }\n                        else if (serverSideRowModel) {\n                            serverSideRowModel.onRowHeightChanged();\n                        }\n                    };\n                    setTimeout(updateRowHeightFunc, 0);\n                }\n            };\n            resizeObserverDestroyFunc.current = resizeObserverService.observeResize(eGuiRef.current, checkRowSizeFunc);\n            checkRowSizeFunc();\n        }\n    }, []);\n    var setGridApi = react_1.useCallback(function (api, columnApi) {\n        var _a;\n        (_a = ctrlRef.current) === null || _a === void 0 ? void 0 : _a.registerDetailWithMaster(api, columnApi);\n    }, []);\n    return (react_1.default.createElement(\"div\", { className: topClassName, ref: setRef }, detailGridOptions &&\n        react_1.default.createElement(exports.AgGridReactUi, __assign({ className: gridClassName }, detailGridOptions, { modules: parentModules, rowData: detailRowData, setGridApi: setGridApi }))));\n});\nvar ReactFrameworkOverrides = /** @class */ (function (_super) {\n    __extends(ReactFrameworkOverrides, _super);\n    function ReactFrameworkOverrides() {\n        var _this = _super.call(this, 'react') || this;\n        _this.frameworkComponents = {\n            agGroupCellRenderer: groupCellRenderer_1.default,\n            agGroupRowRenderer: groupCellRenderer_1.default,\n            agDetailCellRenderer: DetailCellRenderer\n        };\n        _this.renderingEngine = 'react';\n        return _this;\n    }\n    ReactFrameworkOverrides.prototype.frameworkComponent = function (name) {\n        return this.frameworkComponents[name];\n    };\n    ReactFrameworkOverrides.prototype.isFrameworkComponent = function (comp) {\n        if (!comp) {\n            return false;\n        }\n        var prototype = comp.prototype;\n        var isJsComp = prototype && 'getGui' in prototype;\n        return !isJsComp;\n    };\n    return ReactFrameworkOverrides;\n}(ag_grid_community_1.VanillaFrameworkOverrides));\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}