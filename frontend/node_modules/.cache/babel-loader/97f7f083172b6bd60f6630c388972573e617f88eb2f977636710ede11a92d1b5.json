{"ast":null,"code":"// ag-grid-react v31.1.1\n\"use strict\";\n\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n    return t;\n  };\n  return __assign.apply(this, arguments);\n};\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  Object.defineProperty(o, k2, {\n    enumerable: true,\n    get: function () {\n      return m[k];\n    }\n  });\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  __setModuleDefault(result, mod);\n  return result;\n};\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar react_1 = __importStar(require(\"react\"));\nvar ag_grid_community_1 = require(\"ag-grid-community\");\nvar jsComp_1 = require(\"../jsComp\");\nvar utils_1 = require(\"../utils\");\nvar beansContext_1 = require(\"../beansContext\");\nvar cellComp_1 = __importDefault(require(\"../cells/cellComp\"));\nvar RowComp = function (params) {\n  var _a = react_1.useContext(beansContext_1.BeansContext),\n    context = _a.context,\n    gridOptionsService = _a.gridOptionsService;\n  var rowCtrl = params.rowCtrl,\n    containerType = params.containerType;\n  var tabIndex = rowCtrl.getTabIndex();\n  var domOrderRef = react_1.useRef(rowCtrl.getDomOrder());\n  var isFullWidth = rowCtrl.isFullWidth();\n  // Flag used to avoid problematic initialState setter funcs being called on a dead / non displayed row. \n  // Due to async rendering its possible for the row to be destroyed before React has had a chance to render it.\n  var isDisplayed = rowCtrl.getRowNode().displayed;\n  var _b = react_1.useState(function () {\n      return isDisplayed ? rowCtrl.getRowIndex() : null;\n    }),\n    rowIndex = _b[0],\n    setRowIndex = _b[1];\n  var _c = react_1.useState(function () {\n      return rowCtrl.getRowId();\n    }),\n    rowId = _c[0],\n    setRowId = _c[1];\n  var _d = react_1.useState(function () {\n      return rowCtrl.getBusinessKey();\n    }),\n    rowBusinessKey = _d[0],\n    setRowBusinessKey = _d[1];\n  var _e = react_1.useState(function () {\n      return rowCtrl.getRowStyles();\n    }),\n    userStyles = _e[0],\n    setUserStyles = _e[1];\n  var _f = react_1.useState(function () {\n      return null;\n    }),\n    cellCtrls = _f[0],\n    setCellCtrls = _f[1];\n  var _g = react_1.useState(),\n    fullWidthCompDetails = _g[0],\n    setFullWidthCompDetails = _g[1];\n  // these styles have initial values, so element is placed into the DOM with them,\n  // rather than an transition getting applied.\n  var _h = react_1.useState(function () {\n      return isDisplayed ? rowCtrl.getInitialRowTop(containerType) : undefined;\n    }),\n    top = _h[0],\n    setTop = _h[1];\n  var _j = react_1.useState(function () {\n      return isDisplayed ? rowCtrl.getInitialTransform(containerType) : undefined;\n    }),\n    transform = _j[0],\n    setTransform = _j[1];\n  var eGui = react_1.useRef(null);\n  var fullWidthCompRef = react_1.useRef();\n  var autoHeightSetup = react_1.useRef(false);\n  var _k = react_1.useState(0),\n    autoHeightSetupAttempt = _k[0],\n    setAutoHeightSetupAttempt = _k[1];\n  // puts autoHeight onto full with detail rows. this needs trickery, as we need\n  // the HTMLElement for the provided Detail Cell Renderer, however the Detail Cell Renderer\n  // could be a stateless React Func Comp which won't work with useRef, so we need\n  // to poll (we limit to 10) looking for the Detail HTMLElement (which will be the only\n  // child) after the fullWidthCompDetails is set.\n  // I think this looping could be avoided if we use a ref Callback instead of useRef,\n  react_1.useEffect(function () {\n    var _a;\n    if (autoHeightSetup.current) {\n      return;\n    }\n    if (!fullWidthCompDetails) {\n      return;\n    }\n    if (autoHeightSetupAttempt > 10) {\n      return;\n    }\n    var eChild = (_a = eGui.current) === null || _a === void 0 ? void 0 : _a.firstChild;\n    if (eChild) {\n      rowCtrl.setupDetailRowAutoHeight(eChild);\n      autoHeightSetup.current = true;\n    } else {\n      setAutoHeightSetupAttempt(function (prev) {\n        return prev + 1;\n      });\n    }\n  }, [fullWidthCompDetails, autoHeightSetupAttempt]);\n  var cssClassManager = react_1.useRef();\n  if (!cssClassManager.current) {\n    cssClassManager.current = new ag_grid_community_1.CssClassManager(function () {\n      return eGui.current;\n    });\n  }\n  var setRef = react_1.useCallback(function (e) {\n    eGui.current = e;\n    if (!eGui.current) {\n      rowCtrl.unsetComp(containerType);\n      return;\n    }\n    // because React is asynchronous, it's possible the RowCtrl is no longer a valid RowCtrl. This can\n    // happen if user calls two API methods one after the other, with the second API invalidating the rows\n    // the first call created. Thus the rows for the first call could still get created even though no longer needed.\n    if (!rowCtrl.isAlive()) {\n      return;\n    }\n    var compProxy = {\n      // the rowTop is managed by state, instead of direct style manipulation by rowCtrl (like all the other styles)\n      // as we need to have an initial value when it's placed into he DOM for the first time, for animation to work.\n      setTop: setTop,\n      setTransform: setTransform,\n      // i found using React for managing classes at the row level was to slow, as modifying classes caused a lot of\n      // React code to execute, so avoiding React for managing CSS Classes made the grid go much faster.\n      addOrRemoveCssClass: function (name, on) {\n        return cssClassManager.current.addOrRemoveCssClass(name, on);\n      },\n      setDomOrder: function (domOrder) {\n        return domOrderRef.current = domOrder;\n      },\n      setRowIndex: setRowIndex,\n      setRowId: setRowId,\n      setRowBusinessKey: setRowBusinessKey,\n      setUserStyles: setUserStyles,\n      // if we don't maintain the order, then cols will be ripped out and into the dom\n      // when cols reordered, which would stop the CSS transitions from working\n      setCellCtrls: function (next, useFlushSync) {\n        utils_1.agFlushSync(useFlushSync, function () {\n          setCellCtrls(function (prev) {\n            return utils_1.getNextValueIfDifferent(prev, next, domOrderRef.current);\n          });\n        });\n      },\n      showFullWidth: function (compDetails) {\n        return setFullWidthCompDetails(compDetails);\n      },\n      getFullWidthCellRenderer: function () {\n        return fullWidthCompRef.current;\n      },\n      refreshFullWidth: function (getUpdatedParams) {\n        if (canRefreshFullWidthRef.current) {\n          setFullWidthCompDetails(function (prevFullWidthCompDetails) {\n            return __assign(__assign({}, prevFullWidthCompDetails), {\n              params: getUpdatedParams()\n            });\n          });\n          return true;\n        } else {\n          if (!fullWidthCompRef.current || !fullWidthCompRef.current.refresh) {\n            return false;\n          }\n          return fullWidthCompRef.current.refresh(getUpdatedParams());\n        }\n      }\n    };\n    rowCtrl.setComp(compProxy, eGui.current, containerType);\n  }, []);\n  react_1.useLayoutEffect(function () {\n    return jsComp_1.showJsComp(fullWidthCompDetails, context, eGui.current, fullWidthCompRef);\n  }, [fullWidthCompDetails]);\n  var rowStyles = react_1.useMemo(function () {\n    var res = {\n      top: top,\n      transform: transform\n    };\n    Object.assign(res, userStyles);\n    return res;\n  }, [top, transform, userStyles]);\n  var showFullWidthFramework = isFullWidth && fullWidthCompDetails && fullWidthCompDetails.componentFromFramework;\n  var showCells = !isFullWidth && cellCtrls != null;\n  var reactFullWidthCellRendererStateless = react_1.useMemo(function () {\n    var res = (fullWidthCompDetails === null || fullWidthCompDetails === void 0 ? void 0 : fullWidthCompDetails.componentFromFramework) && utils_1.isComponentStateless(fullWidthCompDetails.componentClass);\n    return !!res;\n  }, [fullWidthCompDetails]);\n  // needs to be a ref to avoid stale closure, as used in compProxy passed to row ctrl\n  var canRefreshFullWidthRef = react_1.useRef(false);\n  react_1.useEffect(function () {\n    canRefreshFullWidthRef.current = reactFullWidthCellRendererStateless && !!fullWidthCompDetails && !!gridOptionsService.get('reactiveCustomComponents');\n  }, [reactFullWidthCellRendererStateless, fullWidthCompDetails]);\n  var showCellsJsx = function () {\n    return cellCtrls === null || cellCtrls === void 0 ? void 0 : cellCtrls.map(function (cellCtrl) {\n      return react_1.default.createElement(cellComp_1.default, {\n        cellCtrl: cellCtrl,\n        editingRow: rowCtrl.isEditing(),\n        printLayout: rowCtrl.isPrintLayout(),\n        key: cellCtrl.getInstanceId()\n      });\n    });\n  };\n  var showFullWidthFrameworkJsx = function () {\n    var FullWidthComp = fullWidthCompDetails.componentClass;\n    return react_1.default.createElement(react_1.default.Fragment, null, reactFullWidthCellRendererStateless && react_1.default.createElement(FullWidthComp, __assign({}, fullWidthCompDetails.params)), !reactFullWidthCellRendererStateless && react_1.default.createElement(FullWidthComp, __assign({}, fullWidthCompDetails.params, {\n      ref: fullWidthCompRef\n    })));\n  };\n  return react_1.default.createElement(\"div\", {\n    ref: setRef,\n    role: 'row',\n    style: rowStyles,\n    \"row-index\": rowIndex,\n    \"row-id\": rowId,\n    \"row-business-key\": rowBusinessKey,\n    tabIndex: tabIndex\n  }, showCells && showCellsJsx(), showFullWidthFramework && showFullWidthFrameworkJsx());\n};\nexports.default = react_1.memo(RowComp);","map":{"version":3,"names":["__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","__createBinding","create","o","m","k","k2","undefined","defineProperty","enumerable","get","__setModuleDefault","v","value","__importStar","mod","__esModule","result","__importDefault","exports","react_1","require","ag_grid_community_1","jsComp_1","utils_1","beansContext_1","cellComp_1","RowComp","params","_a","useContext","BeansContext","context","gridOptionsService","rowCtrl","containerType","tabIndex","getTabIndex","domOrderRef","useRef","getDomOrder","isFullWidth","isDisplayed","getRowNode","displayed","_b","useState","getRowIndex","rowIndex","setRowIndex","_c","getRowId","rowId","setRowId","_d","getBusinessKey","rowBusinessKey","setRowBusinessKey","_e","getRowStyles","userStyles","setUserStyles","_f","cellCtrls","setCellCtrls","_g","fullWidthCompDetails","setFullWidthCompDetails","_h","getInitialRowTop","top","setTop","_j","getInitialTransform","transform","setTransform","eGui","fullWidthCompRef","autoHeightSetup","_k","autoHeightSetupAttempt","setAutoHeightSetupAttempt","useEffect","current","eChild","firstChild","setupDetailRowAutoHeight","prev","cssClassManager","CssClassManager","setRef","useCallback","e","unsetComp","isAlive","compProxy","addOrRemoveCssClass","name","on","setDomOrder","domOrder","next","useFlushSync","agFlushSync","getNextValueIfDifferent","showFullWidth","compDetails","getFullWidthCellRenderer","refreshFullWidth","getUpdatedParams","canRefreshFullWidthRef","prevFullWidthCompDetails","refresh","setComp","useLayoutEffect","showJsComp","rowStyles","useMemo","res","showFullWidthFramework","componentFromFramework","showCells","reactFullWidthCellRendererStateless","isComponentStateless","componentClass","showCellsJsx","map","cellCtrl","default","createElement","editingRow","isEditing","printLayout","isPrintLayout","key","getInstanceId","showFullWidthFrameworkJsx","FullWidthComp","Fragment","ref","role","style","memo"],"sources":["/Users/trtp/working/milo/final_pricecalc_master/frontend/node_modules/ag-grid-react/lib/reactUi/rows/rowComp.js"],"sourcesContent":["// ag-grid-react v31.1.1\n\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar react_1 = __importStar(require(\"react\"));\nvar ag_grid_community_1 = require(\"ag-grid-community\");\nvar jsComp_1 = require(\"../jsComp\");\nvar utils_1 = require(\"../utils\");\nvar beansContext_1 = require(\"../beansContext\");\nvar cellComp_1 = __importDefault(require(\"../cells/cellComp\"));\nvar RowComp = function (params) {\n    var _a = react_1.useContext(beansContext_1.BeansContext), context = _a.context, gridOptionsService = _a.gridOptionsService;\n    var rowCtrl = params.rowCtrl, containerType = params.containerType;\n    var tabIndex = rowCtrl.getTabIndex();\n    var domOrderRef = react_1.useRef(rowCtrl.getDomOrder());\n    var isFullWidth = rowCtrl.isFullWidth();\n    // Flag used to avoid problematic initialState setter funcs being called on a dead / non displayed row. \n    // Due to async rendering its possible for the row to be destroyed before React has had a chance to render it.\n    var isDisplayed = rowCtrl.getRowNode().displayed;\n    var _b = react_1.useState(function () { return isDisplayed ? rowCtrl.getRowIndex() : null; }), rowIndex = _b[0], setRowIndex = _b[1];\n    var _c = react_1.useState(function () { return rowCtrl.getRowId(); }), rowId = _c[0], setRowId = _c[1];\n    var _d = react_1.useState(function () { return rowCtrl.getBusinessKey(); }), rowBusinessKey = _d[0], setRowBusinessKey = _d[1];\n    var _e = react_1.useState(function () { return rowCtrl.getRowStyles(); }), userStyles = _e[0], setUserStyles = _e[1];\n    var _f = react_1.useState(function () { return null; }), cellCtrls = _f[0], setCellCtrls = _f[1];\n    var _g = react_1.useState(), fullWidthCompDetails = _g[0], setFullWidthCompDetails = _g[1];\n    // these styles have initial values, so element is placed into the DOM with them,\n    // rather than an transition getting applied.\n    var _h = react_1.useState(function () { return isDisplayed ? rowCtrl.getInitialRowTop(containerType) : undefined; }), top = _h[0], setTop = _h[1];\n    var _j = react_1.useState(function () { return isDisplayed ? rowCtrl.getInitialTransform(containerType) : undefined; }), transform = _j[0], setTransform = _j[1];\n    var eGui = react_1.useRef(null);\n    var fullWidthCompRef = react_1.useRef();\n    var autoHeightSetup = react_1.useRef(false);\n    var _k = react_1.useState(0), autoHeightSetupAttempt = _k[0], setAutoHeightSetupAttempt = _k[1];\n    // puts autoHeight onto full with detail rows. this needs trickery, as we need\n    // the HTMLElement for the provided Detail Cell Renderer, however the Detail Cell Renderer\n    // could be a stateless React Func Comp which won't work with useRef, so we need\n    // to poll (we limit to 10) looking for the Detail HTMLElement (which will be the only\n    // child) after the fullWidthCompDetails is set.\n    // I think this looping could be avoided if we use a ref Callback instead of useRef,\n    react_1.useEffect(function () {\n        var _a;\n        if (autoHeightSetup.current) {\n            return;\n        }\n        if (!fullWidthCompDetails) {\n            return;\n        }\n        if (autoHeightSetupAttempt > 10) {\n            return;\n        }\n        var eChild = (_a = eGui.current) === null || _a === void 0 ? void 0 : _a.firstChild;\n        if (eChild) {\n            rowCtrl.setupDetailRowAutoHeight(eChild);\n            autoHeightSetup.current = true;\n        }\n        else {\n            setAutoHeightSetupAttempt(function (prev) { return prev + 1; });\n        }\n    }, [fullWidthCompDetails, autoHeightSetupAttempt]);\n    var cssClassManager = react_1.useRef();\n    if (!cssClassManager.current) {\n        cssClassManager.current = new ag_grid_community_1.CssClassManager(function () { return eGui.current; });\n    }\n    var setRef = react_1.useCallback(function (e) {\n        eGui.current = e;\n        if (!eGui.current) {\n            rowCtrl.unsetComp(containerType);\n            return;\n        }\n        // because React is asynchronous, it's possible the RowCtrl is no longer a valid RowCtrl. This can\n        // happen if user calls two API methods one after the other, with the second API invalidating the rows\n        // the first call created. Thus the rows for the first call could still get created even though no longer needed.\n        if (!rowCtrl.isAlive()) {\n            return;\n        }\n        var compProxy = {\n            // the rowTop is managed by state, instead of direct style manipulation by rowCtrl (like all the other styles)\n            // as we need to have an initial value when it's placed into he DOM for the first time, for animation to work.\n            setTop: setTop,\n            setTransform: setTransform,\n            // i found using React for managing classes at the row level was to slow, as modifying classes caused a lot of\n            // React code to execute, so avoiding React for managing CSS Classes made the grid go much faster.\n            addOrRemoveCssClass: function (name, on) { return cssClassManager.current.addOrRemoveCssClass(name, on); },\n            setDomOrder: function (domOrder) { return domOrderRef.current = domOrder; },\n            setRowIndex: setRowIndex,\n            setRowId: setRowId,\n            setRowBusinessKey: setRowBusinessKey,\n            setUserStyles: setUserStyles,\n            // if we don't maintain the order, then cols will be ripped out and into the dom\n            // when cols reordered, which would stop the CSS transitions from working\n            setCellCtrls: function (next, useFlushSync) {\n                utils_1.agFlushSync(useFlushSync, function () {\n                    setCellCtrls(function (prev) { return utils_1.getNextValueIfDifferent(prev, next, domOrderRef.current); });\n                });\n            },\n            showFullWidth: function (compDetails) { return setFullWidthCompDetails(compDetails); },\n            getFullWidthCellRenderer: function () { return fullWidthCompRef.current; },\n            refreshFullWidth: function (getUpdatedParams) {\n                if (canRefreshFullWidthRef.current) {\n                    setFullWidthCompDetails(function (prevFullWidthCompDetails) { return (__assign(__assign({}, prevFullWidthCompDetails), { params: getUpdatedParams() })); });\n                    return true;\n                }\n                else {\n                    if (!fullWidthCompRef.current || !fullWidthCompRef.current.refresh) {\n                        return false;\n                    }\n                    return fullWidthCompRef.current.refresh(getUpdatedParams());\n                }\n            }\n        };\n        rowCtrl.setComp(compProxy, eGui.current, containerType);\n    }, []);\n    react_1.useLayoutEffect(function () { return jsComp_1.showJsComp(fullWidthCompDetails, context, eGui.current, fullWidthCompRef); }, [fullWidthCompDetails]);\n    var rowStyles = react_1.useMemo(function () {\n        var res = { top: top, transform: transform };\n        Object.assign(res, userStyles);\n        return res;\n    }, [top, transform, userStyles]);\n    var showFullWidthFramework = isFullWidth && fullWidthCompDetails && fullWidthCompDetails.componentFromFramework;\n    var showCells = !isFullWidth && cellCtrls != null;\n    var reactFullWidthCellRendererStateless = react_1.useMemo(function () {\n        var res = (fullWidthCompDetails === null || fullWidthCompDetails === void 0 ? void 0 : fullWidthCompDetails.componentFromFramework) && utils_1.isComponentStateless(fullWidthCompDetails.componentClass);\n        return !!res;\n    }, [fullWidthCompDetails]);\n    // needs to be a ref to avoid stale closure, as used in compProxy passed to row ctrl\n    var canRefreshFullWidthRef = react_1.useRef(false);\n    react_1.useEffect(function () {\n        canRefreshFullWidthRef.current = reactFullWidthCellRendererStateless && !!fullWidthCompDetails && !!gridOptionsService.get('reactiveCustomComponents');\n    }, [reactFullWidthCellRendererStateless, fullWidthCompDetails]);\n    var showCellsJsx = function () { return cellCtrls === null || cellCtrls === void 0 ? void 0 : cellCtrls.map(function (cellCtrl) { return (react_1.default.createElement(cellComp_1.default, { cellCtrl: cellCtrl, editingRow: rowCtrl.isEditing(), printLayout: rowCtrl.isPrintLayout(), key: cellCtrl.getInstanceId() })); }); };\n    var showFullWidthFrameworkJsx = function () {\n        var FullWidthComp = fullWidthCompDetails.componentClass;\n        return (react_1.default.createElement(react_1.default.Fragment, null,\n            reactFullWidthCellRendererStateless\n                && react_1.default.createElement(FullWidthComp, __assign({}, fullWidthCompDetails.params)),\n            !reactFullWidthCellRendererStateless\n                && react_1.default.createElement(FullWidthComp, __assign({}, fullWidthCompDetails.params, { ref: fullWidthCompRef }))));\n    };\n    return (react_1.default.createElement(\"div\", { ref: setRef, role: 'row', style: rowStyles, \"row-index\": rowIndex, \"row-id\": rowId, \"row-business-key\": rowBusinessKey, tabIndex: tabIndex },\n        showCells && showCellsJsx(),\n        showFullWidthFramework && showFullWidthFrameworkJsx()));\n};\nexports.default = react_1.memo(RowComp);\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}